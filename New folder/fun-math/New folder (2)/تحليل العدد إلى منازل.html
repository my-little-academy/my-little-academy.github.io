<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ğŸ® Ù„Ø¹Ø¨Ø© ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø¹Ø¯Ø¯ Ø¥Ù„Ù‰ Ø§Ù„Ù…Ù†Ø§Ø²Ù„ ğŸ®</title>
<style>
body {
    font-family: 'Arial', sans-serif;
    background-color: #f0f8ff;
    color: #333;
    text-align: center;
    padding: 20px;
    background-image: linear-gradient(to bottom, #e6f7ff, #ffffff);
}
.container {
    max-width: 800px;
    margin: 0 auto;
    background-color: white;
    padding: 30px;
    border-radius: 15px;
    box-shadow: 0 0 20px rgba(0,0,0,0.1);
    border: 2px solid #4CAF50;
}
h1 {
    color: #4CAF50;
    margin-bottom: 30px;
    font-size: 28px;
    text-shadow: 1px 1px 2px rgba(0,0,0,0.1);
}
.input-section {
    margin-bottom: 30px;
    padding: 20px;
    background-color: #f9f9f9;
    border-radius: 10px;
    border: 1px dashed #4CAF50;
}
.number-input {
    font-size: 24px;
    padding: 10px;
    width: 200px;
    text-align: center;
    border: 2px solid #4CAF50;
    border-radius: 5px;
    margin-bottom: 15px;
}
.places-container {
    display: flex;
    justify-content: space-around;
    flex-wrap: wrap;
    margin-bottom: 20px;
}
.place-box {
    width: 22%;
    margin: 5px;
    padding: 15px;
    background-color: #e9f7ef;
    border-radius: 8px;
    box-shadow: 0 2px 5px rgba(0,0,0,0.1);
}
.place-title {
    font-weight: bold;
    color: #2E7D32;
    margin-bottom: 10px;
    font-size: 18px;
}
.place-input {
    width: 80%;
    padding: 8px;
    font-size: 18px;
    text-align: center;
    border: 1px solid #4CAF50;
    border-radius: 5px;
    transition: background-color 0.3s;
}
.btn {
    background-color: #4CAF50;
    color: white;
    border: none;
    padding: 12px 25px;
    font-size: 18px;
    cursor: pointer;
    border-radius: 5px;
    margin: 10px;
    transition: background-color 0.3s;
}
.btn:hover {
    background-color: #45a049;
}
.result {
    margin-top: 10px;
    padding: 10px;
    border-radius: 8px;
    font-size: 16px;
    display: none;
}
.correct {
    background-color: #d4edda;
    color: #3c763d;
    border: 1px solid #c3e6cb;
}
.incorrect {
    background-color: #f8d7da;
    color: #a94442;
    border: 1px solid #f5c6cb;
}
.explanation {
    margin-top: 30px;
    padding: 15px;
    background-color: #e3f2fd;
    border-radius: 8px;
    text-align: right;
    display: none;
}
.place-value {
    font-weight: bold;
    color: #2E7D32;
}
@media (max-width: 600px) {
    .places-container {
        flex-direction: column;
    }
    .place-box {
        width: 90%;
        margin: 5px auto;
    }
}
</style>
</head>
<body>
<div class="container">
    <h1>ğŸ® Ù„Ø¹Ø¨Ø© ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø¹Ø¯Ø¯ Ø¥Ù„Ù‰ Ø§Ù„Ù…Ù†Ø§Ø²Ù„ ğŸ®</h1>
    <div class="input-section">
        <h2>Ø£Ø¯Ø®Ù„ Ø¹Ø¯Ø¯Ù‹Ø§ Ù…ÙƒÙˆÙ†Ù‹Ø§ Ù…Ù† 4 Ø£Ø±Ù‚Ø§Ù…</h2>
        <input type="number" id="numberInput" class="number-input" min="1000" max="9999" placeholder="Ù…Ø«Ø§Ù„: 1234">
        
        <div class="places-container">
            <div class="place-box">
                <div class="place-title">Ø±Ù‚Ù… Ø§Ù„Ø¢Ù„Ø§Ù</div>
                <input type="number" id="thousandsDigit" class="place-input" placeholder="Ø±Ù‚Ù…">
                <div id="thousandsDigitResult" class="result"></div>
            </div>
            <div class="place-box">
                <div class="place-title">Ø±Ù‚Ù… Ø§Ù„Ù…Ø¦Ø§Øª</div>
                <input type="number" id="hundredsDigit" class="place-input" placeholder="Ø±Ù‚Ù…">
                <div id="hundredsDigitResult" class="result"></div>
            </div>
            <div class="place-box">
                <div class="place-title">Ø±Ù‚Ù… Ø§Ù„Ø¹Ø´Ø±Ø§Øª</div>
                <input type="number" id="tensDigit" class="place-input" placeholder="Ø±Ù‚Ù…">
                <div id="tensDigitResult" class="result"></div>
            </div>
            <div class="place-box">
                <div class="place-title">Ø±Ù‚Ù… Ø§Ù„ÙˆØ­Ø¯Ø§Øª</div>
                <input type="number" id="unitsDigit" class="place-input" placeholder="Ø±Ù‚Ù…">
                <div id="unitsDigitResult" class="result"></div>
            </div>
        </div>
        
        <div class="places-container">
            <div class="place-box">
                <div class="place-title">Ø¹Ø¯Ø¯ Ø§Ù„Ø¢Ù„Ø§Ù</div>
                <input type="number" id="thousandsValue" class="place-input" placeholder="Ø¹Ø¯Ø¯">
                <div id="thousandsValueResult" class="result"></div>
            </div>
            <div class="place-box">
                <div class="place-title">Ø¹Ø¯Ø¯ Ø§Ù„Ù…Ø¦Ø§Øª</div>
                <input type="number" id="hundredsValue" class="place-input" placeholder="Ø¹Ø¯Ø¯">
                <div id="hundredsValueResult" class="result"></div>
            </div>
            <div class="place-box">
                <div class="place-title">Ø¹Ø¯Ø¯ Ø§Ù„Ø¹Ø´Ø±Ø§Øª</div>
                <input type="number" id="tensValue" class="place-input" placeholder="Ø¹Ø¯Ø¯">
                <div id="tensValueResult" class="result"></div>
            </div>
            <div class="place-box">
                <div class="place-title">Ø¹Ø¯Ø¯ Ø§Ù„ÙˆØ­Ø¯Ø§Øª</div>
                <input type="number" id="unitsValue" class="place-input" placeholder="Ø¹Ø¯Ø¯">
                <div id="unitsValueResult" class="result"></div>
            </div>
        </div>
        
        <button id="checkBtn" class="btn">ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø§Øª</button>
        <button id="newNumberBtn" class="btn">Ø¬Ø±Ø¨ Ø¹Ø¯Ø¯Ù‹Ø§ Ø¬Ø¯ÙŠØ¯Ù‹Ø§</button>
    </div>
    
    <div id="explanation" class="explanation"></div>
</div>

<script>
document.addEventListener('DOMContentLoaded', function() {
    const numberInput = document.getElementById('numberInput');
    const checkBtn = document.getElementById('checkBtn');
    const newNumberBtn = document.getElementById('newNumberBtn');
    const explanationDiv = document.getElementById('explanation');

    const digitsInputs = {
        thousands: document.getElementById('thousandsDigit'),
        hundreds: document.getElementById('hundredsDigit'),
        tens: document.getElementById('tensDigit'),
        units: document.getElementById('unitsDigit')
    };

    const valuesInputs = {
        thousands: document.getElementById('thousandsValue'),
        hundreds: document.getElementById('hundredsValue'),
        tens: document.getElementById('tensValue'),
        units: document.getElementById('unitsValue')
    };

    const resultsDigits = {
        thousands: document.getElementById('thousandsDigitResult'),
        hundreds: document.getElementById('hundredsDigitResult'),
        tens: document.getElementById('tensDigitResult'),
        units: document.getElementById('unitsDigitResult')
    };

    const resultsValues = {
        thousands: document.getElementById('thousandsValueResult'),
        hundreds: document.getElementById('hundredsValueResult'),
        tens: document.getElementById('tensValueResult'),
        units: document.getElementById('unitsValueResult')
    };

    function clearInputs() {
        Object.values(digitsInputs).concat(Object.values(valuesInputs)).forEach(input => {
            input.value = '';
            input.style.backgroundColor = 'white';
        });
    }

    function clearResults() {
        document.querySelectorAll('.result').forEach(r => { r.style.display='none'; r.textContent=''; });
    }

    newNumberBtn.addEventListener('click', function() {
        numberInput.value = Math.floor(1000 + Math.random()*9000);
        clearInputs();
        clearResults();
        explanationDiv.style.display = 'none';
    });

    checkBtn.addEventListener('click', function() {
        const number = numberInput.value;
        if(!number || number.length!==4){ alert('Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ø¹Ø¯Ø¯ Ù…ÙƒÙˆÙ† Ù…Ù† 4 Ø£Ø±Ù‚Ø§Ù…'); return; }

        const digits = number.split('').map(Number);
        const correctDigits = {
            thousands: digits[0],
            hundreds: digits[1],
            tens: digits[2],
            units: digits[3]
        };

        const correctValues = {
            thousands: digits[0],
            hundreds: digits[0]*10 + digits[1],
            tens: digits[0]*100 + digits[1]*10 + digits[2],
            units: number
        };

        // ØªØ­Ù‚Ù‚ Ø£Ø±Ù‚Ø§Ù… Ø§Ù„Ù…Ù†Ø§Ø²Ù„
        Object.keys(digitsInputs).forEach(k => checkAnswer(digitsInputs[k], correctDigits[k], resultsDigits[k]));
        // ØªØ­Ù‚Ù‚ Ø£Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ù…Ù†Ø§Ø²Ù„
        Object.keys(valuesInputs).forEach(k => checkAnswer(valuesInputs[k], correctValues[k], resultsValues[k]));

        // Ø¹Ø±Ø¶ Ø§Ù„Ø´Ø±Ø­
        showExplanation(number, correctDigits, correctValues);
    });

    function checkAnswer(inputEl, correctAns, resultEl){
        const userAns = inputEl.value.trim();
        if(userAns===''){
            resultEl.textContent='Ù„Ù… ØªÙ‚Ù… Ø¨Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø©';
            resultEl.className='result incorrect';
            inputEl.style.backgroundColor = '#f8d7da';
            resultEl.style.display='block';
            return false;
        }
        if(parseInt(userAns) === correctAns){
            resultEl.textContent='Ø¥Ø¬Ø§Ø¨Ø© ØµØ­ÙŠØ­Ø©! ğŸ‘';
            resultEl.className='result correct';
            inputEl.style.backgroundColor = '#d4edda';
        } else {
            resultEl.textContent=`Ø¥Ø¬Ø§Ø¨Ø© Ø®Ø§Ø·Ø¦Ø©ØŒ Ø§Ù„ØµØ­ÙŠØ­ Ù‡Ùˆ: ${correctAns}`;
            resultEl.className='result incorrect';
            inputEl.style.backgroundColor = '#f8d7da';
        }
        resultEl.style.display='block';
    }

    function showExplanation(number,digits,values){
        explanationDiv.innerHTML=`
        <h3>Ø´Ø±Ø­ ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø¹Ø¯Ø¯ ${number}:</h3>
        <p>Ø¹Ù†Ø¯ ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø¹Ø¯Ø¯ Ø¥Ù„Ù‰ Ù…Ù†Ø§Ø²Ù„Ù‡:</p>
        <ul>
        <li>Ø±Ù‚Ù… Ø§Ù„Ø¢Ù„Ø§Ù: ${digits.thousands} â†’ Ø¹Ø¯Ø¯ Ø§Ù„Ø¢Ù„Ø§Ù: ${values.thousands}</li>
        <li>Ø±Ù‚Ù… Ø§Ù„Ù…Ø¦Ø§Øª: ${digits.hundreds} â†’ Ø¹Ø¯Ø¯ Ø§Ù„Ù…Ø¦Ø§Øª: ${values.hundreds}</li>
        <li>Ø±Ù‚Ù… Ø§Ù„Ø¹Ø´Ø±Ø§Øª: ${digits.tens} â†’ Ø¹Ø¯Ø¯ Ø§Ù„Ø¹Ø´Ø±Ø§Øª: ${values.tens}</li>
        <li>Ø±Ù‚Ù… Ø§Ù„ÙˆØ­Ø¯Ø§Øª: ${digits.units} â†’ Ø¹Ø¯Ø¯ Ø§Ù„ÙˆØ­Ø¯Ø§Øª: ${values.units}</li>
        </ul>
        <p>Ø§Ù„Ø¹Ø¯Ø¯ Ø§Ù„ÙƒÙ„ÙŠ = ${number}</p>`;
        explanationDiv.style.display='block';
    }
});
</script>
</body>
</html>
