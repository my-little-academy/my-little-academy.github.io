<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>درس الخبير للأطفال</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Tajawal:wght@400;700&display=swap');
        
        body {
            font-family: 'Tajawal', sans-serif;
            background-color: #f0f8ff;
            margin: 0;
            padding: 0;
            color: #333;
        }
        
        .container {
            max-width: 900px;
            margin: 0 auto;
            padding: 20px;
        }
        
        .header {
            text-align: center;
            margin-bottom: 30px;
            animation: bounce 2s infinite;
        }
        
        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }
        
        h1 {
            color: #2c7be5;
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
        }
        
        .flip-title {
            display: inline-block;
            animation: flip 3s ease-in-out infinite;
        }
        
        @keyframes flip {
            0% { transform: perspective(400px) rotateY(0); }
            50% { transform: perspective(400px) rotateY(180deg); }
            100% { transform: perspective(400px) rotateY(360deg); }
        }
        
        .story-box {
            background-color: #fff;
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 30px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            border-left: 5px solid #2c7be5;
        }
        
        .story-title {
            color: #e67e22;
            font-size: 1.8em;
            margin-top: 0;
        }
        
        .content-box {
            background-color: #fff;
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 30px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        
        .section-title {
            color: #2c7be5;
            font-size: 1.5em;
            border-bottom: 2px dashed #2c7be5;
            padding-bottom: 10px;
        }
        
        .activity {
            background-color: #e8f4fc;
            padding: 15px;
            border-radius: 10px;
            margin: 15px 0;
            border: 1px solid #b3d4ff;
        }
        
        .game-container {
            display: flex;
            flex-wrap: wrap;
            justify-content: space-around;
            gap: 15px;
            margin: 20px 0;
        }
        
        .game-card {
            background-color: #fff;
            border-radius: 10px;
            padding: 15px;
            width: 45%;
            min-width: 200px;
            box-shadow: 0 3px 10px rgba(0,0,0,0.1);
            transition: transform 0.3s;
            text-align: center;
            cursor: pointer;
            border-top: 4px solid #2c7be5;
        }
        
        .game-card:hover {
            transform: translateY(-5px);
        }
        
        .btn {
            display: inline-block;
            background-color: #2c7be5;
            color: white;
            padding: 12px 25px;
            border-radius: 30px;
            text-decoration: none;
            font-weight: bold;
            margin: 10px 5px;
            transition: all 0.3s;
            border: none;
            cursor: pointer;
            font-size: 1em;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }
        
        .btn:hover {
            background-color: #1a68d1;
            transform: translateY(-2px);
            box-shadow: 0 6px 12px rgba(0,0,0,0.15);
        }
        
        .btn-next {
            background-color: #27ae60;
        }
        
        .btn-next:hover {
            background-color: #219653;
        }
        
        .btn-prev {
            background-color: #e67e22;
        }
        
        .btn-prev:hover {
            background-color: #d35400;
        }
        
        .quiz-option {
            display: block;
            background-color: #f8f9fa;
            padding: 12px 15px;
            margin: 10px 0;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.2s;
            border: 2px solid #ddd;
        }
        
        .quiz-option:hover {
            background-color: #e9ecef;
            border-color: #2c7be5;
        }
        
        .prayer-box {
            background-color: #e8f5e9;
            padding: 20px;
            border-radius: 15px;
            margin-top: 30px;
            border-right: 5px solid #27ae60;
        }
        
        .character {
            font-size: 2em;
            display: inline-block;
            animation: float 3s ease-in-out infinite;
        }
        
        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }
        
        .fill-blank {
            border-bottom: 2px solid #333;
            display: inline-block;
            min-width: 100px;
            text-align: center;
            padding: 0 5px;
        }
        
        .hidden {
            display: none;
        }
        
        .progress-bar {
            height: 10px;
            background-color: #e0e0e0;
            border-radius: 5px;
            margin: 20px 0;
            overflow: hidden;
        }
        
        .progress {
            height: 100%;
            background-color: #2c7be5;
            width: 0%;
            transition: width 0.5s;
        }
        
        .navigation {
            display: flex;
            justify-content: space-between;
            margin-top: 30px;
        }
        
        @media (max-width: 600px) {
            .game-card {
                width: 100%;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1><span class="flip-title">الخبير</span> </h1>
            <p>قال تعالى: ﴿ وَهُوَ الْقَاهِرُ فَوْقَ عِبَادِهِ وَهُوَ الْحَكِيمُ الْخَبِيرُ ﴾ الأنعام: ١٨.</p>
        </div>
        
        <div class="progress-bar">
            <div class="progress" id="progress"></div>
        </div>
        
        <!-- القصة التفاعلية -->
        <div id="story-section" class="section">
            <div class="story-box">
                <h2 class="story-title">قصة أحمد والعصفور</h2>
                <p>كان هناك طفل اسمه أحمد يحب مراقبة الطيور. في يوم من الأيام، وجد عصفورًا صغيرًا سقط من عشه. أحضر أحمد العصفور إلى المنزل ووضعه في صندوق صغير.</p>
                <p>حاول أحمد أن يعتني بالعصفور، لكنه لم يعرف ماذا يأكل العصفور الصغير، أو كم مرة يحتاج إلى الماء. ذهب أحمد إلى أبيه وسأله: "يا أبي، كيف أعتني بالعصفور؟"</p>
                <p>ابتسم الأب وقال: "يا بني، الله تعالى هو <span class="fill-blank" id="blank1">........</span>، يعلم كل شيء عن هذا العصفور الصغير. هو يعرف ما يأكله، وكم يحتاج من الماء، وكيف ينمو. دعنا نبحث معًا عن المعلومات الصحيحة لنساعد هذا العصفور".</p>
                
                <div class="activity">
                    <h3>أكمل الفراغ:</h3>
                    <input type="text" id="blank1-input" placeholder="اكتب الإجابة هنا">
                    <button class="btn" onclick="checkBlank('blank1', 'الخبير')">تحقق من الإجابة</button>
                    <p id="blank1-feedback" class="hidden" style="color: green;">أحسنت! الله تعالى هو الخبير بكل شيء.</p>
                </div>
                
                <p>بعد أن تعلم أحمد كيف يعتني بالعصفور، اعتني به حتى كبر وصار قويًا. ثم أطلقه أحمد في الحديقة ليعيش حرًا مع الطيور الأخرى.</p>
                <p><strong>العبرة:</strong> الله تعالى هو الخبير بكل شيء في الكون، كبيرًا كان أم صغيرًا. هو يعلم ما نعلم وما لا نعلم.</p>
            </div>
            
            <div class="navigation">
                <button class="btn btn-next" onclick="showSection('content-section')">التعلم عن الخبير →</button>
            </div>
        </div>
        
        <!-- المحتوى العقائدي -->
        <div id="content-section" class="section hidden">
            <div class="content-box">
                <h2 class="section-title">من هو الخبير؟</h2>
                <p>الخبير هو اسم من أسماء الله الحسنى، ويعني:</p>
                <ul>
                    <li>العليم ببواطن الأمور وظواهرها</li>
                    <li>المحيط علمًا بكل شيء</li>
                    <li>الذي لا يخفى عليه شيء في الأرض ولا في السماء</li>
                </ul>
                
                <div class="activity">
                    <h3>أمثلة على علم الله الخبير:</h3>
                    <p>الله الخبير يعلم:</p>
                    <div class="game-container">
                        <div class="game-card" onclick="revealAnswer(this)">عدد النجوم في السماء</div>
                        <div class="game-card" onclick="revealAnswer(this)">ما في قلوب الناس</div>
                        <div class="game-card" onclick="revealAnswer(this)">عدد أوراق الأشجار</div>
                        <div class="game-card" onclick="revealAnswer(this)">ما تخفيه الحيوانات</div>
                    </div>
                </div>
                
                <p>قال تعالى: <strong>"وَهُوَ الْخَبِيرُ الْبَصِيرُ"</strong> (الملك: 14)</p>
                <p>الله الخبير يعلم كل شيء عنا، حتى ما نخفيه في أنفسنا. لذلك يجب أن نستحي منه ولا نعصيه.</p>
            </div>
            
            <div class="navigation">
                <button class="btn btn-prev" onclick="showSection('story-section')">← العودة للقصة</button>
                <button class="btn btn-next" onclick="showSection('activities-section')">الأنشطة التفاعلية →</button>
            </div>
        </div>
        
        <!-- الأنشطة التفاعلية -->
        <div id="activities-section" class="section hidden">
            <div class="content-box">
                <h2 class="section-title">أنشطة وتطبيقات</h2>
                
                <div class="activity">
                    <h3>ربط الكلمات بمعانيها:</h3>
                    <div class="game-container">
                        <div class="game-card" draggable="true" ondragstart="drag(event)" id="drag1">الخبير</div>
                        <div class="game-card" draggable="true" ondragstart="drag(event)" id="drag2">العليم</div>
                        <div class="game-card" draggable="true" ondragstart="drag(event)" id="drag3">البصير</div>
                        
                        <div class="game-card" ondragover="allowDrop(event)" ondrop="drop(event)" id="drop1">المحيط علمًا بكل شيء</div>
                        <div class="game-card" ondragover="allowDrop(event)" ondrop="drop(event)" id="drop2">الذي يعلم كل شيء</div>
                        <div class="game-card" ondragover="allowDrop(event)" ondrop="drop(event)" id="drop3">الذي يرى كل شيء</div>
                    </div>
                    <button class="btn" onclick="checkMatching()">تحقق من الإجابات</button>
                    <p id="matching-feedback" class="hidden" style="color: green;"></p>
                </div>
                
                <div class="activity">
                    <h3>كلمة السر: ابحث عن اسم الله الخبير في الشبكة</h3>
                    <div style="text-align: center; margin: 20px 0;">
                        <table style="margin: 0 auto; border-collapse: collapse;">
                            <tr>
                                <td style="border: 1px solid #333; width: 30px; height: 30px; text-align: center;">ا</td>
                                <td style="border: 1px solid #333; width: 30px; height: 30px; text-align: center;">ل</td>
                                <td style="border: 1px solid #333; width: 30px; height: 30px; text-align: center;">ر</td>
                                <td style="border: 1px solid #333; width: 30px; height: 30px; text-align: center;">ح</td>
                            </tr>
                            <tr>
                                <td style="border: 1px solid #333; width: 30px; height: 30px; text-align: center;">خ</td>
                                <td style="border: 1px solid #333; width: 30px; height: 30px; text-align: center;">ب</td>
                                <td style="border: 1px solid #333; width: 30px; height: 30px; text-align: center;">ي</td>
                                <td style="border: 1px solid #333; width: 30px; height: 30px; text-align: center;">ي</td>
                            </tr>
                            <tr>
                                <td style="border: 1px solid #333; width: 30px; height: 30px; text-align: center;">ي</td>
                                <td style="border: 1px solid #333; width: 30px; height: 30px; text-align: center;">م</td>
                                <td style="border: 1px solid #333; width: 30px; height: 30px; text-align: center;">ل</td>
                                <td style="border: 1px solid #333; width: 30px; height: 30px; text-align: center;">ك</td>
                            </tr>
                            <tr>
                                <td style="border: 1px solid #333; width: 30px; height: 30px; text-align: center;">ا</td>
                                <td style="border: 1px solid #333; width: 30px; height: 30px; text-align: center;">ل</td>
                                <td style="border: 1px solid #333; width: 30px; height: 30px; text-align: center;">خ</td>
                                <td style="border: 1px solid #333; width: 30px; height: 30px; text-align: center;">ر</td>
                            </tr>
                        </table>
                        <p>هل وجدت الكلمة؟ اكتبها هنا: <input type="text" id="word-search"> <button class="btn" onclick="checkWordSearch()">تحقق</button></p>
                        <p id="word-search-feedback" class="hidden" style="color: green;">أحسنت! الكلمة الصحيحة هي "الخبير"</p>
                    </div>
                </div>
            </div>
            
            <div class="navigation">
                <button class="btn btn-prev" onclick="showSection('content-section')">← العودة للتعليمات</button>
                <button class="btn btn-next" onclick="showSection('quiz-section')">اختبار المعلومات →</button>
            </div>
        </div>
        
        <!-- الاختبار -->
        <div id="quiz-section" class="section hidden">
            <div class="content-box">
                <h2 class="section-title">اختبار سريع</h2>
                
                <div class="activity">
                    <h3>اختر الإجابة الصحيحة:</h3>
                    
                    <div>
                        <p>1. ماذا يعني اسم الله "الخبير"؟</p>
                        <label class="quiz-option"><input type="radio" name="q1" value="a"> القوي العزيز</label>
                        <label class="quiz-option"><input type="radio" name="q1" value="b"> العليم ببواطن الأمور وظواهرها</label>
                        <label class="quiz-option"><input type="radio" name="q1" value="c"> الرحيم بعباده</label>
                    </div>
                    
                    <div>
                        <p>2. أي من هذه الأمور يعلمها الله الخبير؟</p>
                        <label class="quiz-option"><input type="radio" name="q2" value="a"> عدد النجوم في السماء</label>
                        <label class="quiz-option"><input type="radio" name="q2" value="b"> ما تخفيه القلوب</label>
                        <label class="quiz-option"><input type="radio" name="q2" value="c"> كل ما سبق</label>
                    </div>
                    
                    <div>
                        <p>3. كيف نستفيد من معرفتنا أن الله خبير؟</p>
                        <label class="quiz-option"><input type="radio" name="q3" value="a"> نستحي منه ولا نعصيه</label>
                        <label class="quiz-option"><input type="radio" name="q3" value="b"> نثق بعلمه الكامل</label>
                        <label class="quiz-option"><input type="radio" name="q3" value="c"> كل ما سبق</label>
                    </div>
                    
                    <button class="btn" onclick="checkQuiz()">تحقق من الإجابات</button>
                    <div id="quiz-results" class="hidden" style="margin-top: 15px; padding: 10px; background-color: #e8f4fc; border-radius: 8px;"></div>
                </div>
            </div>
            
            <div class="navigation">
                <button class="btn btn-prev" onclick="showSection('activities-section')">← العودة للأنشطة</button>
                <button class="btn btn-next" onclick="showSection('prayer-section')">الدعاء الختامي →</button>
            </div>
        </div>
        
        <!-- الدعاء الختامي -->
        <div id="prayer-section" class="section hidden">
            <div class="prayer-box">
                <h2 class="section-title">دعاء الختام</h2>
                <p>اللهم إني أعوذ بك من علم لا ينفع، ومن قلب لا يخشع، ومن نفس لا تشبع، ومن دعوة لا يستجاب لها.</p>
                <p>اللهم اجعلنا من الذين يستفيدون من علمك، ويخشونك في السر والعلن، ويعلمون أنك أنت الخبير بكل شيء.</p>
                <p>سبحانك اللهم وبحمدك، أشهد أن لا إله إلا أنت، أستغفرك وأتوب إليك.</p>
                
                <div style="text-align: center; margin-top: 30px;"> </div>
            </div>
            
            <div class="navigation" style="justify-content: center;">
                <button class="btn btn-prev" onclick="showSection('quiz-section')">← العودة للاختبار</button>
                <button class="btn" onclick="showSection('story-section')">إعادة الدرس من البداية</button>
            </div>
        </div>
    </div>

    <script>
        // إظهار وإخفاء الأقسام
        function showSection(sectionId) {
            document.querySelectorAll('.section').forEach(section => {
                section.classList.add('hidden');
            });
            document.getElementById(sectionId).classList.remove('hidden');
            updateProgressBar(sectionId);
        }
        
        // تحديث شريط التقدم
        function updateProgressBar(sectionId) {
            const sections = ['story-section', 'content-section', 'activities-section', 'quiz-section', 'prayer-section'];
            const currentIndex = sections.indexOf(sectionId);
            const progressPercentage = (currentIndex / (sections.length - 1)) * 100;
            document.getElementById('progress').style.width = progressPercentage + '%';
        }
        
        // التحقق من الفراغات
        function checkBlank(blankId, correctAnswer) {
            const userAnswer = document.getElementById(blankId + '-input').value.trim();
            const feedbackElement = document.getElementById(blankId + '-feedback');
            
            if (userAnswer.toLowerCase() === correctAnswer.toLowerCase()) {
                document.getElementById(blankId).textContent = correctAnswer;
                feedbackElement.classList.remove('hidden');
            } else {
                feedbackElement.textContent = 'ليس صحيحًا، حاول مرة أخرى!';
                feedbackElement.style.color = 'red';
                feedbackElement.classList.remove('hidden');
            }
        }
        
        // الكشف عن الإجابات في الألعاب
        function revealAnswer(element) {
            element.style.backgroundColor = '#d4edda';
            element.style.color = '#155724';
        }
        
        // وظائف السحب والإفلات
        function allowDrop(event) {
            event.preventDefault();
        }
        
        function drag(event) {
            event.dataTransfer.setData("text", event.target.id);
        }
        
        function drop(event) {
            event.preventDefault();
            const data = event.dataTransfer.getData("text");
            const draggedElement = document.getElementById(data);
            event.target.textContent = draggedElement.textContent;
            event.target.setAttribute('data-dragged-id', data);
        }
        
        function checkMatching() {
            const matches = {
                'drag1': 'drop1',
                'drag2': 'drop2',
                'drag3': 'drop3'
            };
            
            let correctMatches = 0;
            
            for (const [dragId, dropId] of Object.entries(matches)) {
                const dropElement = document.getElementById(dropId);
                if (dropElement.getAttribute('data-dragged-id') === dragId) {
                    correctMatches++;
                    dropElement.style.backgroundColor = '#d4edda';
                } else {
                    dropElement.style.backgroundColor = '#f8d7da';
                }
            }
            
            const feedbackElement = document.getElementById('matching-feedback');
            if (correctMatches === Object.keys(matches).length) {
                feedbackElement.textContent = 'أحسنت! جميع الإجابات صحيحة.';
                feedbackElement.style.color = 'green';
            } else {
                feedbackElement.textContent = `لديك ${correctMatches} إجابات صحيحة من ${Object.keys(matches).length}. حاول مرة أخرى!`;
                feedbackElement.style.color = 'red';
            }
            feedbackElement.classList.remove('hidden');
        }
        
        // التحقق من البحث عن الكلمة
        function checkWordSearch() {
            const userAnswer = document.getElementById('word-search').value.trim();
            const feedbackElement = document.getElementById('word-search-feedback');
            
            if (userAnswer === 'الخبير') {
                feedbackElement.classList.remove('hidden');
            } else {
                feedbackElement.textContent = 'ليس صحيحًا، حاول مرة أخرى!';
                feedbackElement.style.color = 'red';
                feedbackElement.classList.remove('hidden');
            }
        }
        
        // التحقق من الاختبار
        function checkQuiz() {
            const answers = {
                'q1': 'b',
                'q2': 'c',
                'q3': 'c'
            };
            
            let score = 0;
            let feedback = '<h4>نتيجتك:</h4><ul>';
            
            for (const [question, correctAnswer] of Object.entries(answers)) {
                const selectedOption = document.querySelector(`input[name="${question}"]:checked`);
                
                if (selectedOption) {
                    if (selectedOption.value === correctAnswer) {
                        score++;
                        feedback += `<li>سؤال ${question.substr(1)}: <span style="color: green;">صحيح ✓</span></li>`;
                    } else {
                        feedback += `<li>سؤال ${question.substr(1)}: <span style="color: red;">غير صحيح ✗</span></li>`;
                    }
                } else {
                    feedback += `<li>سؤال ${question.substr(1)}: <span style="color: orange;">لم تجب</span></li>`;
                }
            }
            
            feedback += `</ul><p>النتيجة النهائية: ${score} من ${Object.keys(answers).length}</p>`;
            
            if (score === Object.keys(answers).length) {
                feedback += '<p>ممتاز! أنت تفهم معنى اسم الله الخبير جيدًا.</p>';
            } else if (score >= Object.keys(answers).length / 2) {
                feedback += '<p>جيد، لكن يمكنك مراجعة الدرس مرة أخرى.</p>';
            } else {
                feedback += '<p>يبدو أنك بحاجة لمراجعة الدرس مرة أخرى.</p>';
            }
            
            document.getElementById('quiz-results').innerHTML = feedback;
            document.getElementById('quiz-results').classList.remove('hidden');
        }
        
        // تهيئة الصفحة
        document.addEventListener('DOMContentLoaded', function() {
            updateProgressBar('story-section');
        });
    </script>
</body>
</html>