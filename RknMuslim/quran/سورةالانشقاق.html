<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>سورة الانشقاق - تعليم القرآن للأطفال</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Tajawal:wght@400;700&display=swap');
        
        :root {
            --primary-color: #FF9F1C;
            --secondary-color: #2EC4B6;
            --accent-color: #E71D36;
            --dark-color: #011627;
            --light-color: #FDFFFC;
        }
        
        body {
            font-family: 'Tajawal', sans-serif;
            background-color: #fff5f5;
            margin: 0;
            padding: 0;
            color: var(--dark-color);
            background-image: radial-gradient(circle at 10% 20%, rgba(255, 159, 28, 0.1) 0%, rgba(46, 196, 182, 0.1) 90%);
        }
        
        .container {
            max-width: 1000px;
            margin: 0 auto;
            padding: 20px;
        }
        
        header {
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            color: white;
            padding: 20px;
            border-radius: 15px;
            text-align: center;
            margin-bottom: 30px;
            box-shadow: 0 10px 20px rgba(0,0,0,0.1);
            position: relative;
            overflow: hidden;
        }
        
        header::after {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" preserveAspectRatio="none"><path fill="rgba(255,255,255,0.1)" d="M0,0 L100,0 L100,100 L0,100 Z" /><circle cx="50" cy="50" r="40" fill="none" stroke="rgba(255,255,255,0.2)" stroke-width="2"/><circle cx="50" cy="50" r="30" fill="none" stroke="rgba(255,255,255,0.2)" stroke-width="2"/><circle cx="50" cy="50" r="20" fill="none" stroke="rgba(255,255,255,0.2)" stroke-width="2"/></svg>');
            background-size: cover;
            opacity: 0.3;
        }
        
        h1 {
            margin: 0;
            font-size: 2.5rem;
            position: relative;
            z-index: 1;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.2);
        }
        
        .subtitle {
            font-size: 1.2rem;
            margin-top: 10px;
            position: relative;
            z-index: 1;
        }
        
        .section {
            background-color: white;
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 30px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
            transition: transform 0.3s ease;
            border-left: 5px solid var(--primary-color);
        }
        
        .section:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0,0,0,0.1);
        }
        
        .section-title {
            color: var(--primary-color);
            font-size: 1.8rem;
            margin-top: 0;
            margin-bottom: 20px;
            border-bottom: 2px dashed var(--accent-color);
            padding-bottom: 10px;
            display: flex;
            align-items: center;
        }
        
        .section-title i {
            margin-left: 10px;
            font-size: 1.5rem;
        }
        
        .surah-text {
            font-size: 1.5rem;
            line-height: 2.5;
            text-align: center;
            background-color: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            border-right: 5px solid var(--secondary-color);
            font-weight: bold;
            color: #2c3e50;
        }
        
        .verse {
            margin-bottom: 15px;
            position: relative;
            padding-right: 30px;
        }
        
        .verse-number {
            position: absolute;
            right: 0;
            top: 0;
            background-color: var(--secondary-color);
            color: white;
            width: 25px;
            height: 25px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.8rem;
        }
        
        .info-box {
            background-color: var(--light-color);
            border-left: 4px solid var(--accent-color);
            padding: 15px;
            border-radius: 0 10px 10px 0;
            margin: 15px 0;
        }
        
        .game-container {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            justify-content: center;
            margin-top: 30px;
        }
        
        .game-card {
            background: white;
            border-radius: 15px;
            width: 200px;
            padding: 20px;
            text-align: center;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            transition: all 0.3s ease;
            cursor: pointer;
            border-top: 5px solid var(--accent-color);
        }
        
        .game-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 15px 30px rgba(0,0,0,0.15);
        }
        
        .game-icon {
            font-size: 3rem;
            margin-bottom: 15px;
            color: var(--primary-color);
        }
        
        .game-title {
            font-weight: bold;
            margin-bottom: 10px;
            color: var(--dark-color);
        }
        
        .btn {
            background-color: var(--primary-color);
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 50px;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            font-family: 'Tajawal', sans-serif;
            font-weight: bold;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
            display: inline-flex;
            align-items: center;
            justify-content: center;
        }
        
        .btn:hover {
            background-color: #FF8C00;
            transform: translateY(-2px);
            box-shadow: 0 6px 12px rgba(0,0,0,0.15);
        }
        
        .btn i {
            margin-left: 8px;
        }
        
        .btn-secondary {
            background-color: var(--secondary-color);
        }
        
        .btn-secondary:hover {
            background-color: #25a99e;
        }
        
        .btn-accent {
            background-color: var(--accent-color);
            color: var(--light-color);
        }
        
        .btn-accent:hover {
            background-color: #c21a30;
        }
        
        .stars {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: -1;
        }
        
        .star {
            position: absolute;
            background-color: white;
            border-radius: 50%;
            animation: twinkle var(--duration) infinite ease-in-out;
            opacity: 0;
        }
        
        @keyframes twinkle {
            0%, 100% { opacity: 0; }
            50% { opacity: var(--opacity); }
        }
        
        .confetti {
            position: fixed;
            width: 10px;
            height: 10px;
            background-color: var(--color);
            opacity: 0;
            animation: confetti-fall 3s ease-in-out forwards;
            z-index: 1000;
        }
        
        @keyframes confetti-fall {
            0% { transform: translateY(-100px) rotate(0deg); opacity: 1; }
            100% { transform: translateY(100vh) rotate(360deg); opacity: 0; }
        }
        
        .progress-container {
            width: 100%;
            background-color: #e0e0e0;
            border-radius: 10px;
            margin: 20px 0;
            height: 20px;
            overflow: hidden;
        }
        
        .progress-bar {
            height: 100%;
            background: linear-gradient(90deg, var(--primary-color), var(--secondary-color));
            width: 0%;
            transition: width 0.5s ease;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: flex-end;
            padding-right: 10px;
            color: white;
            font-size: 0.7rem;
            font-weight: bold;
        }
        
        .quiz-container {
            background-color: white;
            border-radius: 15px;
            padding: 25px;
            margin-top: 20px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
        }
        
        .quiz-question {
            font-weight: bold;
            margin-bottom: 15px;
            font-size: 1.2rem;
        }
        
        .quiz-options {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-bottom: 20px;
        }
        
        @media (max-width: 768px) {
            .quiz-options {
                grid-template-columns: 1fr;
            }
        }
        
        .quiz-option {
            background-color: #f8f9fa;
            padding: 15px;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 2px solid transparent;
        }
        
        .quiz-option:hover {
            background-color: #e9ecef;
        }
        
        .quiz-option.selected {
            border-color: var(--secondary-color);
            background-color: #e6f7f6;
        }
        
        .quiz-option.correct {
            border-color: #28a745;
            background-color: #d4edda;
        }
        
        .quiz-option.incorrect {
            border-color: #dc3545;
            background-color: #f8d7da;
        }
        
        .quiz-feedback {
            padding: 15px;
            border-radius: 10px;
            margin-top: 20px;
            display: none;
        }
        
        .feedback-correct {
            background-color: #d4edda;
            color: #155724;
            border-left: 5px solid #28a745;
        }
        
        .feedback-incorrect {
            background-color: #f8d7da;
            color: #721c24;
            border-left: 5px solid #dc3545;
        }
        
        .puzzle-container {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
            margin: 20px 0;
        }
        
        .puzzle-piece {
            background-color: var(--accent-color);
            border-radius: 10px;
            padding: 20px;
            text-align: center;
            cursor: move;
            font-weight: bold;
            box-shadow: 0 3px 6px rgba(0,0,0,0.1);
            transition: transform 0.2s;
            color: white;
        }
        
        .puzzle-piece:active {
            transform: scale(1.05);
        }
        
        .puzzle-target {
            background-color: #e9ecef;
            border: 2px dashed var(--dark-color);
            border-radius: 10px;
            min-height: 80px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-top: 20px;
        }
        
        .memory-game {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 10px;
            margin: 20px 0;
        }
        
        .memory-card {
            height: 100px;
            background-color: var(--secondary-color);
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            font-size: 1.5rem;
            color: white;
            transition: all 0.3s ease;
            perspective: 1000px;
        }
        
        .memory-card.flipped {
            background-color: white;
            color: var(--dark-color);
            transform: rotateY(180deg);
        }
        
        .memory-card.matched {
            background-color: var(--accent-color);
            color: white;
            cursor: default;
        }
        
        footer {
            text-align: center;
            padding: 20px;
            margin-top: 50px;
            color: #6c757d;
            font-size: 0.9rem;
        }
        
        /* Animation classes */
        .bounce {
            animation: bounce 0.5s;
        }
        
        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }
        
        .pulse {
            animation: pulse 1.5s infinite;
        }
        
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }
        
        /* Responsive adjustments */
        @media (max-width: 768px) {
            h1 {
                font-size: 2rem;
            }
            
            .surah-text {
                font-size: 1.2rem;
                line-height: 2;
            }
            
            .game-card {
                width: 150px;
            }
        }
    </style>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body>
    <!-- Animated Stars Background -->
    <div class="stars" id="stars"></div>
    
    <div class="container">
        <header>
            <h1>سورة الانشقاق</h1>
            <div class="subtitle">درس تعليمي ممتع للأطفال</div>
        </header>
        
        <!-- Surah Text Section -->
        <section class="section" id="surah-text">
            <h2 class="section-title">
                <i class="fas fa-book-quran"></i> نص السورة الكريمة
            </h2>
            <div class="surah-text">
                <div class="verse"><span class="verse-number">1</span> إِذَا السَّمَاءُ انشَقَّتْ</div>
                <div class="verse"><span class="verse-number">2</span> وَأَذِنَتْ لِرَبِّهَا وَحُقَّتْ</div>
                <div class="verse"><span class="verse-number">3</span> وَإِذَا الْأَرْضُ مُدَّتْ</div>
                <div class="verse"><span class="verse-number">4</span> وَأَلْقَتْ مَا فِيهَا وَتَخَلَّتْ</div>
                <div class="verse"><span class="verse-number">5</span> وَأَذِنَتْ لِرَبِّهَا وَحُقَّتْ</div>
                <div class="verse"><span class="verse-number">6</span> يَا أَيُّهَا الْإِنسَانُ إِنَّكَ كَادِحٌ إِلَىٰ رَبِّكَ كَدْحًا فَمُلَاقِيهِ</div>
                <div class="verse"><span class="verse-number">7</span> فَأَمَّا مَنْ أُوتِيَ كِتَابَهُ بِيَمِينِهِ</div>
                <div class="verse"><span class="verse-number">8</span> فَسَوْفَ يُحَاسَبُ حِسَابًا يَسِيرًا</div>
                <div class="verse"><span class="verse-number">9</span> وَيَنقَلِبُ إِلَىٰ أَهْلِهِ مَسْرُورًا</div>
                <div class="verse"><span class="verse-number">10</span> وَأَمَّا مَنْ أُوتِيَ كِتَابَهُ وَرَاءَ ظَهْرِهِ</div>
                <div class="verse"><span class="verse-number">11</span> فَسَوْفَ يَدْعُو ثُبُورًا</div>
                <div class="verse"><span class="verse-number">12</span> وَيَصْلَىٰ سَعِيرًا</div>
                <div class="verse"><span class="verse-number">13</span> إِنَّهُ كَانَ فِي أَهْلِهِ مَسْرُورًا</div>
                <div class="verse"><span class="verse-number">14</span> إِنَّهُ ظَنَّ أَن لَّن يَحُورَ</div>
                <div class="verse"><span class="verse-number">15</span> بَلَىٰ إِنَّ رَبَّهُ كَانَ بِهِ بَصِيرًا</div>
                <div class="verse"><span class="verse-number">16</span> فَلَا أُقْسِمُ بِالشَّفَقِ</div>
                <div class="verse"><span class="verse-number">17</span> وَاللَّيْلِ وَمَا وَسَقَ</div>
                <div class="verse"><span class="verse-number">18</span> وَالْقَمَرِ إِذَا اتَّسَقَ</div>
                <div class="verse"><span class="verse-number">19</span> لَتَرْكَبُنَّ طَبَقًا عَن طَبَقٍ</div>
                <div class="verse"><span class="verse-number">20</span> فَمَا لَهُمْ لَا يُؤْمِنُونَ</div>
                <div class="verse"><span class="verse-number">21</span> وَإِذَا قُرِئَ عَلَيْهِمُ الْقُرْآنُ لَا يَسْجُدُونَ</div>
                <div class="verse"><span class="verse-number">22</span> بَلِ الَّذِينَ كَفَرُوا يُكَذِّبُونَ</div>
                <div class="verse"><span class="verse-number">23</span> وَاللَّهُ أَعْلَمُ بِمَا يُوعُونَ</div>
                <div class="verse"><span class="verse-number">24</span> فَبَشِّرْهُم بِعَذَابٍ أَلِيمٍ</div>
                <div class="verse"><span class="verse-number">25</span> إِلَّا الَّذِينَ آمَنُوا وَعَمِلُوا الصَّالِحَاتِ لَهُمْ أَجْرٌ غَيْرُ مَمْنُونٍ</div>
            </div>
            <button class="btn btn-secondary pulse" id="listen-btn">
                <i class="fas fa-play"></i> استمع إلى السورة
            </button>
        </section>
        
        <!-- About Surah Section -->
        <section class="section" id="about-surah">
            <h2 class="section-title">
                <i class="fas fa-info-circle"></i> نبذة عن السورة
            </h2>
            <div class="info-box">
                <p>سورة الانشقاق هي سورة مكية، من المفصل، آياتها 25، وترتيبها في المصحف 84، في الجزء الثلاثين، الحزب التاسع والخمسين، الربع الثاني.</p>
                <p>تتناول السورة موضوع أهوال يوم القيامة ومشاهد الانقلاب الكوني، وتقسيم الناس إلى فريقين: أصحاب اليمين وأصحاب الشمال.</p>
            </div>
        </section>
        
        <!-- Revelation Reason Section -->
        <section class="section" id="revelation-reason">
            <h2 class="section-title">
                <i class="fas fa-question-circle"></i> سبب نزول السورة
            </h2>
            <div class="info-box">
                <p>نزلت سورة الانشقاق لتصور مشاهد القيامة وأهوالها، ورداً على استبعاد المشركين للبعث، حيث كانت تثير دهشتهم فكرة إحياء العظام وهي رميم.</p>
            </div>
        </section>
        
        <!-- Tafsir Section -->
        <section class="section" id="tafsir">
            <h2 class="section-title">
                <i class="fas fa-book-open"></i> تفسير آيات السورة
            </h2>
            <div class="info-box">
                <p><strong>الآيات 1-5:</strong> تصف انقلاب الكون يوم القيامة وانشقاق السماء ومد الأرض وإلقاء ما فيها.</p>
                <p><strong>الآية 6:</strong> تذكر أن الإنسان سيلاقي ربه بعد كدحه في الدنيا.</p>
                <p><strong>الآيات 7-15:</strong> تفرق بين حال المؤمنين الذين يؤتون كتابهم بيمينهم وحال الكافرين الذين يؤتون كتابهم وراء ظهورهم.</p>
                <p><strong>الآيات 16-20:</strong> يقسم الله ببعض مخلوقاته على أن الإنسان سيمر بمراحل مختلفة في حياته.</p>
                <p><strong>الآيات 21-25:</strong> تذكر موقف الكافرين من القرآن وتبشرهم بعذاب أليم، وتستثني المؤمنين العاملين الصالحات.</p>
            </div>
        </section>
        
        <!-- Virtues Section -->
        <section class="section" id="virtues">
            <h2 class="section-title">
                <i class="fas fa-star"></i> فضائل السورة
            </h2>
            <div class="info-box">
                <p>1. السورة تذكر بأهوال يوم القيامة فتحث على الاستعداد له.</p>
                <p>2. تبين مصير المؤمنين والكافرين ليتخذ الإنسان قراره.</p>
                <p>3. تذكر بنعم الله في الكون ليشكره المؤمنون.</p>
                <p>4. تحذر من الغرور والاستكبار كما حدث لأهل الكتاب.</p>
            </div>
        </section>
        
        <!-- Objectives Section -->
        <section class="section" id="objectives">
            <h2 class="section-title">
                <i class="fas fa-bullseye"></i> مقاصد السورة
            </h2>
            <div class="info-box">
                <p>1. تصوير مشاهد القيامة وأهوالها.</p>
                <p>2. بيان حتمية اللقاء مع الله والجزاء.</p>
                <p>3. التفريق بين مصير المؤمنين والكافرين.</p>
                <p>4. الرد على شبهات المشركين حول البعث.</p>
                <p>5. التذكير بنعم الله في الكون.</p>
            </div>
        </section>
        
        <!-- Summary Section -->
        <section class="section" id="summary">
            <h2 class="section-title">
                <i class="fas fa-file-alt"></i> ملخص السورة
            </h2>
            <div class="info-box">
                <p>تبدأ سورة الانشقاق بوصف مشاهد القيامة وانقلاب الكون، ثم تذكر أن الإنسان سيلاقي ربه بعد كده في الدنيا، ثم تفرق بين حال المؤمنين المسرورين بحسابهم اليسير وحال الكافرين الذين يدعون ثبوراً ويصلى سعيراً، وتختم ببيان موقف الكافرين من القرآن وتبشيرهم بالعذاب الأليم، مع استثناء المؤمنين العاملين الصالحات.</p>
            </div>
        </section>
        
        <!-- Interactive Games Section -->
        <section class="section" id="games">
            <h2 class="section-title">
                <i class="fas fa-gamepad"></i> ألعاب تفاعلية
            </h2>
            <p>اختبر فهمك للسورة من خلال هذه الألعاب الممتعة!</p>
            
            <div class="game-container">
                <div class="game-card" onclick="startQuiz()">
                    <div class="game-icon">
                        <i class="fas fa-question-circle"></i>
                    </div>
                    <div class="game-title">اختبار السورة</div>
                    <p>اختبر معلوماتك عن سورة الانشقاق</p>
                </div>
                
                <div class="game-card" onclick="startPuzzle()">
                    <div class="game-icon">
                        <i class="fas fa-puzzle-piece"></i>
                    </div>
                    <div class="game-title">تركيب الآيات</div>
                    <p>رتب الآيات بالترتيب الصحيح</p>
                </div>
                
                <div class="game-card" onclick="startMemoryGame()">
                    <div class="game-icon">
                        <i class="fas fa-brain"></i>
                    </div>
                    <div class="game-title">لعبة الذاكرة</div>
                    <p>اطبع الآيات في ذاكرتك</p>
                </div>
                
                <div class="game-card" onclick="startMatchingGame()">
                    <div class="game-icon">
                        <i class="fas fa-object-group"></i>
                    </div>
                    <div class="game-title">توصيل الكلمات</div>
                    <p>وصل الكلمة بمعناها</p>
                </div>
            </div>
            
            <!-- Quiz Game -->
            <div id="quiz-game" style="display: none;">
                <div class="quiz-container">
                    <h3>اختبار سورة الانشقاق</h3>
                    <div class="progress-container">
                        <div class="progress-bar" id="quiz-progress">0%</div>
                    </div>
                    
                    <div id="quiz-content">
                        <div class="quiz-question" id="quiz-question"></div>
                        <div class="quiz-options" id="quiz-options"></div>
                        <button class="btn" id="next-question-btn" style="display: none;">السؤال التالي</button>
                        <div class="quiz-feedback" id="quiz-feedback"></div>
                    </div>
                    
                    <div id="quiz-result" style="display: none; text-align: center;">
                        <h3 id="result-title"></h3>
                        <p id="result-message"></p>
                        <div id="result-score"></div>
                        <button class="btn btn-accent" onclick="startQuiz()">حاول مرة أخرى</button>
                    </div>
                </div>
            </div>
            
            <!-- Puzzle Game -->
            <div id="puzzle-game" style="display: none;">
                <div class="quiz-container">
                    <h3>لعبة ترتيب الآيات</h3>
                    <p>قم بسحب الآيات ووضعها في الترتيب الصحيح</p>
                    
                    <div class="puzzle-container" id="puzzle-pieces">
                        <!-- Pieces will be added by JavaScript -->
                    </div>
                    
                    <div class="puzzle-target" id="puzzle-target">
                        <p>اسحب الآيات هنا بالترتيب الصحيح</p>
                    </div>
                    
                    <button class="btn" id="check-puzzle-btn">تحقق من الإجابة</button>
                    <div id="puzzle-feedback" style="margin-top: 20px; display: none;"></div>
                </div>
            </div>
            
            <!-- Memory Game -->
            <div id="memory-game" style="display: none;">
                <div class="quiz-container">
                    <h3>لعبة الذاكرة مع آيات السورة</h3>
                    <p>ابحث عن أزواج الآيات المتطابقة</p>
                    
                    <div class="memory-game" id="memory-cards">
                        <!-- Cards will be added by JavaScript -->
                    </div>
                    
                    <div style="margin-top: 20px;">
                        <span id="memory-moves">عدد المحاولات: 0</span>
                        <button class="btn" id="reset-memory-btn" style="float: left;">إعادة اللعبة</button>
                    </div>
                </div>
            </div>
        </section>
        
        <footer>
            <p>تم تصميم هذا الدرس لتعليم الأطفال سورة الانشقاق بطريقة ممتعة وجذابة</p>
            <p>© 2023 مركز تعليم القرآن الكريم للأطفال</p>
        </footer>
    </div>
    
    <script>
        // Create stars background
        function createStars() {
            const starsContainer = document.getElementById('stars');
            const starsCount = 100;
            
            for (let i = 0; i < starsCount; i++) {
                const star = document.createElement('div');
                star.classList.add('star');
                
                // Random properties
                const size = Math.random() * 3;
                const x = Math.random() * 100;
                const y = Math.random() * 100;
                const duration = 3 + Math.random() * 7;
                const opacity = 0.5 + Math.random() * 0.5;
                const delay = Math.random() * 5;
                
                star.style.width = `${size}px`;
                star.style.height = `${size}px`;
                star.style.left = `${x}%`;
                star.style.top = `${y}%`;
                star.style.setProperty('--duration', `${duration}s`);
                star.style.setProperty('--opacity', opacity);
                star.style.animationDelay = `${delay}s`;
                
                starsContainer.appendChild(star);
            }
        }
        
        // Create confetti effect
        function createConfetti() {
            const colors = ['#FF9F1C', '#2EC4B6', '#E71D36', '#FFBF69', '#CBF3F0'];
            
            for (let i = 0; i < 100; i++) {
                const confetti = document.createElement('div');
                confetti.classList.add('confetti');
                
                // Random properties
                const size = 5 + Math.random() * 10;
                const x = Math.random() * window.innerWidth;
                const color = colors[Math.floor(Math.random() * colors.length)];
                const delay = Math.random() * 3;
                const duration = 2 + Math.random() * 2;
                
                confetti.style.width = `${size}px`;
                confetti.style.height = `${size}px`;
                confetti.style.left = `${x}px`;
                confetti.style.backgroundColor = color;
                confetti.style.setProperty('--color', color);
                confetti.style.animationDuration = `${duration}s`;
                confetti.style.animationDelay = `${delay}s`;
                
                document.body.appendChild(confetti);
                
                // Remove confetti after animation
                setTimeout(() => {
                    confetti.remove();
                }, (duration + delay) * 1000);
            }
        }
        
        // Quiz game data
        const quizQuestions = [
            {
                question: "ما أول شيء تصفه السورة من أهوال القيامة؟",
                options: [
                    "انشقاق السماء",
                    "زلزلة الأرض",
                    "خروج الناس من القبور",
                    "نفخ الصور"
                ],
                answer: 0,
                explanation: "بدأت السورة بقوله تعالى: 'إِذَا السَّمَاءُ انشَقَّتْ'"
            },
            {
                question: "كيف يكون حساب من أوتي كتابه بيمينه؟",
                options: [
                    "حساباً عسيراً",
                    "حساباً يسيراً",
                    "بدون حساب",
                    "حساباً شديداً"
                ],
                answer: 1,
                explanation: "قال تعالى: 'فَسَوْفَ يُحَاسَبُ حِسَابًا يَسِيرًا'"
            },
            {
                question: "ماذا يدعو من أوتي كتابه وراء ظهره؟",
                options: [
                    "الفوز",
                    "الثبور",
                    "النجاة",
                    "الرحمة"
                ],
                answer: 1,
                explanation: "قال تعالى: 'فَسَوْفَ يَدْعُو ثُبُورًا'"
            },
            {
                question: "بم أقسم الله في آخر السورة؟",
                options: [
                    "بالشمس والقمر",
                    "بالشفق والليل والقمر",
                    "بالسماء والأرض",
                    "بالنبي محمد صلى الله عليه وسلم"
                ],
                answer: 1,
                explanation: "قال تعالى: 'فَلَا أُقْسِمُ بِالشَّفَقِ * وَاللَّيْلِ وَمَا وَسَقَ * وَالْقَمَرِ إِذَا اتَّسَقَ'"
            },
            {
                question: "ما مصير الذين آمنوا وعملوا الصالحات؟",
                options: [
                    "عذاب أليم",
                    "أجر غير ممنون",
                    "حساب يسير",
                    "ثواب قليل"
                ],
                answer: 1,
                explanation: "قال تعالى: 'إِلَّا الَّذِينَ آمَنُوا وَعَمِلُوا الصَّالِحَاتِ لَهُمْ أَجْرٌ غَيْرُ مَمْنُونٍ'"
            }
        ];
        
        // Quiz game variables
        let currentQuestion = 0;
        let score = 0;
        let selectedOption = null;
        
        // Start quiz game
        function startQuiz() {
            document.getElementById('quiz-game').style.display = 'block';
            document.getElementById('puzzle-game').style.display = 'none';
            document.getElementById('memory-game').style.display = 'none';
            
            currentQuestion = 0;
            score = 0;
            loadQuestion();
        }
        
        // Load a question
        function loadQuestion() {
            const questionElement = document.getElementById('quiz-question');
            const optionsElement = document.getElementById('quiz-options');
            const progressBar = document.getElementById('quiz-progress');
            const nextBtn = document.getElementById('next-question-btn');
            const feedbackElement = document.getElementById('quiz-feedback');
            
            // Reset UI
            questionElement.textContent = `السؤال ${currentQuestion + 1}: ${quizQuestions[currentQuestion].question}`;
            optionsElement.innerHTML = '';
            nextBtn.style.display = 'none';
            feedbackElement.style.display = 'none';
            feedbackElement.className = 'quiz-feedback';
            
            // Update progress
            progressBar.style.width = `${(currentQuestion / quizQuestions.length) * 100}%`;
            progressBar.textContent = `${Math.round((currentQuestion / quizQuestions.length) * 100)}%`;
            
            // Add options
            quizQuestions[currentQuestion].options.forEach((option, index) => {
                const optionElement = document.createElement('div');
                optionElement.classList.add('quiz-option');
                optionElement.textContent = option;
                optionElement.addEventListener('click', () => selectOption(index));
                optionsElement.appendChild(optionElement);
            });
        }
        
        // Select an option
        function selectOption(index) {
            const options = document.querySelectorAll('.quiz-option');
            const feedbackElement = document.getElementById('quiz-feedback');
            const nextBtn = document.getElementById('next-question-btn');
            
            // Remove previous selection
            if (selectedOption !== null) {
                options[selectedOption].classList.remove('selected');
            }
            
            // Set new selection
            selectedOption = index;
            options[index].classList.add('selected');
            
            // Check answer
            const isCorrect = index === quizQuestions[currentQuestion].answer;
            
            // Show feedback
            feedbackElement.textContent = quizQuestions[currentQuestion].explanation;
            feedbackElement.style.display = 'block';
            
            if (isCorrect) {
                feedbackElement.classList.add('feedback-correct');
                score++;
            } else {
                feedbackElement.classList.add('feedback-incorrect');
                options[quizQuestions[currentQuestion].answer].classList.add('correct');
                options[index].classList.add('incorrect');
            }
            
            // Show next button
            nextBtn.style.display = 'inline-block';
            nextBtn.onclick = nextQuestion;
        }
        
        // Go to next question
        function nextQuestion() {
            currentQuestion++;
            
            if (currentQuestion < quizQuestions.length) {
                loadQuestion();
            } else {
                showQuizResult();
            }
        }
        
        // Show quiz result
        function showQuizResult() {
            const quizContent = document.getElementById('quiz-content');
            const quizResult = document.getElementById('quiz-result');
            const resultTitle = document.getElementById('result-title');
            const resultMessage = document.getElementById('result-message');
            const resultScore = document.getElementById('result-score');
            const progressBar = document.getElementById('quiz-progress');
            
            // Update progress to 100%
            progressBar.style.width = '100%';
            progressBar.textContent = '100%';
            
            // Hide quiz content, show result
            quizContent.style.display = 'none';
            quizResult.style.display = 'block';
            
            // Calculate percentage
            const percentage = (score / quizQuestions.length) * 100;
            
            // Set result message
            resultScore.textContent = `نقاطك: ${score} من ${quizQuestions.length} (${percentage}%)`;
            
            if (percentage >= 80) {
                resultTitle.textContent = 'ممتاز!';
                resultMessage.textContent = 'أحسنت! لديك فهم رائع لسورة الانشقاق.';
                createConfetti();
            } else if (percentage >= 50) {
                resultTitle.textContent = 'جيد!';
                resultMessage.textContent = 'حاول مراجعة السورة مرة أخرى لتحسين فهمك.';
            } else {
                resultTitle.textContent = 'حاول مرة أخرى!';
                resultMessage.textContent = 'اقرأ السورة مرة أخرى وحاول تحسين نتيجتك.';
            }
        }
        
        // Puzzle game
        function startPuzzle() {
            document.getElementById('quiz-game').style.display = 'none';
            document.getElementById('puzzle-game').style.display = 'block';
            document.getElementById('memory-game').style.display = 'none';
            
            const puzzlePieces = document.getElementById('puzzle-pieces');
            puzzlePieces.innerHTML = '';
            
            // Sample verses for the puzzle
            const verses = [
                "إِذَا السَّمَاءُ انشَقَّتْ",
                "وَأَذِنَتْ لِرَبِّهَا وَحُقَّتْ",
                "وَإِذَا الْأَرْضُ مُدَّتْ",
                "وَأَلْقَتْ مَا فِيهَا وَتَخَلَّتْ",
                "يَا أَيُّهَا الْإِنسَانُ إِنَّكَ كَادِحٌ إِلَىٰ رَبِّكَ كَدْحًا فَمُلَاقِيهِ"
            ];
            
            // Shuffle verses
            const shuffledVerses = [...verses].sort(() => Math.random() - 0.5);
            
            // Create puzzle pieces
            shuffledVerses.forEach((verse, index) => {
                const piece = document.createElement('div');
                piece.classList.add('puzzle-piece');
                piece.textContent = verse;
                piece.draggable = true;
                piece.id = `piece-${index}`;
                piece.addEventListener('dragstart', dragStart);
                puzzlePieces.appendChild(piece);
            });
            
            // Set up drop target
            const target = document.getElementById('puzzle-target');
            target.innerHTML = '<p>اسحب الآيات هنا بالترتيب الصحيح</p>';
            target.addEventListener('dragover', dragOver);
            target.addEventListener('drop', drop);
            
            // Set up check button
            document.getElementById('check-puzzle-btn').onclick = checkPuzzle;
            document.getElementById('puzzle-feedback').style.display = 'none';
        }
        
        // Drag and drop functions for puzzle
        function dragStart(e) {
            e.dataTransfer.setData('text/plain', e.target.id);
        }
        
        function dragOver(e) {
            e.preventDefault();
        }
        
        function drop(e) {
            e.preventDefault();
            const id = e.dataTransfer.getData('text/plain');
            const draggedElement = document.getElementById(id);
            
            // Check if the element is already in the target
            if (draggedElement.parentNode === e.target) {
                return;
            }
            
            // Remove the "اسحب الآيات هنا" text if it's the first drop
            if (e.target.innerHTML === '<p>اسحب الآيات هنا بالترتيب الصحيح</p>') {
                e.target.innerHTML = '';
            }
            
            // Add the dragged element to the target
            e.target.appendChild(draggedElement);
        }
        
        // Check puzzle solution
        function checkPuzzle() {
            const target = document.getElementById('puzzle-target');
            const pieces = target.querySelectorAll('.puzzle-piece');
            const feedback = document.getElementById('puzzle-feedback');
            
            if (pieces.length !== 5) {
                feedback.textContent = 'لم تكتمل الأحجية بعد! يرجى إضافة جميع القطع.';
                feedback.style.display = 'block';
                feedback.style.color = '#dc3545';
                return;
            }
            
            // Correct order
            const correctOrder = [
                "إِذَا السَّمَاءُ انشَقَّتْ",
                "وَأَذِنَتْ لِرَبِّهَا وَحُقَّتْ",
                "وَإِذَا الْأَرْضُ مُدَّتْ",
                "وَأَلْقَتْ مَا فِيهَا وَتَخَلَّتْ",
                "يَا أَيُّهَا الْإِنسَانُ إِنَّكَ كَادِحٌ إِلَىٰ رَبِّكَ كَدْحًا فَمُلَاقِيهِ"
            ];
            
            let isCorrect = true;
            
            pieces.forEach((piece, index) => {
                if (piece.textContent !== correctOrder[index]) {
                    isCorrect = false;
                }
            });
            
            if (isCorrect) {
                feedback.textContent = 'أحسنت! لقد رتبت الآيات بشكل صحيح.';
                feedback.style.color = '#28a745';
                createConfetti();
            } else {
                feedback.textContent = 'ليس تماماً! حاول ترتيب الآيات مرة أخرى.';
                feedback.style.color = '#dc3545';
            }
            
            feedback.style.display = 'block';
        }
        
        // Memory game
        function startMemoryGame() {
            document.getElementById('quiz-game').style.display = 'none';
            document.getElementById('puzzle-game').style.display = 'none';
            document.getElementById('memory-game').style.display = 'block';
            
            const memoryCards = document.getElementById('memory-cards');
            memoryCards.innerHTML = '';
            
            // Sample verses for memory game
            const verses = [
                "إِذَا السَّمَاءُ انشَقَّتْ",
                "وَأَذِنَتْ لِرَبِّهَا وَحُقَّتْ",
                "وَإِذَا الْأَرْضُ مُدَّتْ",
                "وَأَلْقَتْ مَا فِيهَا وَتَخَلَّتْ",
                "يَا أَيُّهَا الْإِنسَانُ إِنَّكَ كَادِحٌ إِلَىٰ رَبِّكَ كَدْحًا فَمُلَاقِيهِ",
                "فَأَمَّا مَنْ أُوتِيَ كِتَابَهُ بِيَمِينِهِ"
            ];
            
            // Create pairs
            const cards = [...verses, ...verses];
            
            // Shuffle cards
            const shuffledCards = cards.sort(() => Math.random() - 0.5);
            
            // Game variables
            let flippedCards = [];
            let matchedPairs = 0;
            let moves = 0;
            
            // Create cards
            shuffledCards.forEach((verse, index) => {
                const card = document.createElement('div');
                card.classList.add('memory-card');
                card.dataset.index = index;
                card.dataset.verse = verse;
                card.addEventListener('click', flipCard);
                memoryCards.appendChild(card);
            });
            
            // Update moves counter
            document.getElementById('memory-moves').textContent = 'عدد المحاولات: 0';
            
            // Set up reset button
            document.getElementById('reset-memory-btn').onclick = startMemoryGame;
            
            // Flip card function
            function flipCard() {
                // Don't allow flipping if already flipped or matched
                if (this.classList.contains('flipped') || this.classList.contains('matched')) {
                    return;
                }
                
                // Don't allow more than 2 cards flipped
                if (flippedCards.length >= 2) {
                    return;
                }
                
                // Flip the card
                this.classList.add('flipped');
                this.textContent = this.dataset.verse;
                flippedCards.push(this);
                
                // Check for match if 2 cards are flipped
                if (flippedCards.length === 2) {
                    moves++;
                    document.getElementById('memory-moves').textContent = `عدد المحاولات: ${moves}`;
                    
                    if (flippedCards[0].dataset.verse === flippedCards[1].dataset.verse) {
                        // Match found
                        flippedCards.forEach(card => {
                            card.classList.add('matched');
                        });
                        
                        matchedPairs++;
                        flippedCards = [];
                        
                        // Check if all pairs are matched
                        if (matchedPairs === verses.length) {
                            setTimeout(() => {
                                alert(`أحسنت! لقد أكملت اللعبة في ${moves} محاولة.`);
                                createConfetti();
                            }, 500);
                        }
                    } else {
                        // No match, flip back after delay
                        setTimeout(() => {
                            flippedCards.forEach(card => {
                                card.classList.remove('flipped');
                                card.textContent = '';
                            });
                            flippedCards = [];
                        }, 1000);
                    }
                }
            }
        }
        
        // Start matching game (placeholder)
        function startMatchingGame() {
            alert("لعبة توصيل الكلمات قريباً!");
        }
        
        // Play surah audio
        document.getElementById('listen-btn').addEventListener('click', function() {
            // In a real implementation, this would play the audio of the surah
            alert("جاري تشغيل سورة الانشقاق بصوت القارئ...");
            createConfetti();
            this.classList.add('bounce');
            setTimeout(() => this.classList.remove('bounce'), 1000);
        });
        
        // Initialize the page
        window.onload = function() {
            createStars();
            
            // Add click effect to all game cards
            document.querySelectorAll('.game-card').forEach(card => {
                card.addEventListener('click', function() {
                    this.classList.add('bounce');
                    setTimeout(() => this.classList.remove('bounce'), 1000);
                });
            });
            
            // Start with the quiz game
            startQuiz();
        };
    </script>
</body>
</html>