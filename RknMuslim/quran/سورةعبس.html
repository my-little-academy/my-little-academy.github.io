<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>سورة عبس - تعليم القرآن للأطفال</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Tajawal:wght@400;700&display=swap');
        
        :root {
            --primary-color: #FF7D00;
            --secondary-color: #4CC9F0;
            --accent-color: #F72585;
            --dark-color: #3A0CA3;
            --light-color: #F8F9FA;
            --gradient: linear-gradient(135deg, var(--primary-color), var(--accent-color));
        }
        
        body {
            font-family: 'Tajawal', sans-serif;
            background-color: #F8F9FA;
            margin: 0;
            padding: 0;
            color: var(--dark-color);
            background-image: 
                radial-gradient(circle at 10% 20%, rgba(255, 125, 0, 0.1) 0%, rgba(76, 201, 240, 0.1) 90%),
                url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="100" height="100" viewBox="0 0 100 100"><path fill="%233A0CA3" opacity="0.03" d="M30,50 Q50,30 70,50 T90,50 Q70,70 50,50 T10,50 Q30,30 50,50 T30,50"/></svg>');
        }
        
        .container {
            max-width: 1000px;
            margin: 0 auto;
            padding: 20px;
        }
        
        header {
            background: var(--gradient);
            color: white;
            padding: 20px;
            border-radius: 20px;
            text-align: center;
            margin-bottom: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            position: relative;
            overflow: hidden;
            transform-style: preserve-3d;
        }
        
        header::before {
            content: "";
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255,255,255,0.2) 0%, transparent 70%);
            transform: rotate(45deg);
            animation: shine 3s infinite;
        }
        
        @keyframes shine {
            0% { transform: rotate(45deg) translate(-30%, -30%); }
            100% { transform: rotate(45deg) translate(30%, 30%); }
        }
        
        h1 {
            margin: 0;
            font-size: 2.8rem;
            position: relative;
            z-index: 1;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
            background: linear-gradient(to bottom, #fff, #eee);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        .subtitle {
            font-size: 1.3rem;
            margin-top: 10px;
            position: relative;
            z-index: 1;
            color: rgba(255,255,255,0.9);
        }
        
        .section {
            background-color: white;
            border-radius: 20px;
            padding: 25px;
            margin-bottom: 30px;
            box-shadow: 0 8px 25px rgba(0,0,0,0.08);
            transition: all 0.4s ease;
            border-left: 6px solid var(--primary-color);
            position: relative;
            overflow: hidden;
        }
        
        .section:hover {
            transform: translateY(-8px);
            box-shadow: 0 15px 35px rgba(0,0,0,0.12);
        }
        
        .section::after {
            content: "";
            position: absolute;
            bottom: 0;
            right: 0;
            width: 50px;
            height: 50px;
            background: var(--secondary-color);
            border-radius: 50% 0 0 0;
            opacity: 0.1;
            transition: all 0.3s ease;
        }
        
        .section:hover::after {
            width: 70px;
            height: 70px;
        }
        
        .section-title {
            color: var(--primary-color);
            font-size: 2rem;
            margin-top: 0;
            margin-bottom: 25px;
            border-bottom: 3px dotted var(--accent-color);
            padding-bottom: 10px;
            display: flex;
            align-items: center;
            position: relative;
        }
        
        .section-title::before {
            content: "";
            position: absolute;
            bottom: -3px;
            right: 0;
            width: 30%;
            height: 3px;
            background: var(--secondary-color);
        }
        
        .section-title i {
            margin-left: 15px;
            font-size: 1.8rem;
            background: var(--gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        .surah-text {
            font-size: 1.6rem;
            line-height: 2.8;
            text-align: center;
            background-color: #f8f9fa;
            padding: 25px;
            border-radius: 15px;
            border-right: 6px solid var(--secondary-color);
            font-weight: bold;
            color: var(--dark-color);
            position: relative;
            box-shadow: inset 0 0 15px rgba(0,0,0,0.05);
        }
        
        .surah-text::before {
            content: "﴿";
            position: absolute;
            top: 10px;
            right: 15px;
            font-size: 2rem;
            color: var(--primary-color);
            font-family: 'Times New Roman', serif;
        }
        
        .surah-text::after {
            content: "﴾";
            position: absolute;
            bottom: 10px;
            left: 15px;
            font-size: 2rem;
            color: var(--primary-color);
            font-family: 'Times New Roman', serif;
        }
        
        .verse {
            margin-bottom: 20px;
            position: relative;
            padding-right: 40px;
            transition: all 0.3s ease;
        }
        
        .verse:hover {
            transform: translateX(-5px);
        }
        
        .verse-number {
            position: absolute;
            right: 0;
            top: 0;
            background: var(--gradient);
            color: white;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.9rem;
            font-weight: bold;
            box-shadow: 0 3px 6px rgba(0,0,0,0.1);
        }
        
        .info-box {
            background-color: var(--light-color);
            border-left: 5px solid var(--accent-color);
            padding: 20px;
            border-radius: 0 15px 15px 0;
            margin: 20px 0;
            position: relative;
            box-shadow: 0 3px 10px rgba(0,0,0,0.05);
        }
        
        .info-box::before {
            content: "";
            position: absolute;
            top: 0;
            right: 0;
            width: 5px;
            height: 100%;
            background: var(--gradient);
        }
        
        .game-container {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
            gap: 25px;
            margin-top: 40px;
        }
        
        .game-card {
            background: white;
            border-radius: 15px;
            padding: 25px;
            text-align: center;
            box-shadow: 0 8px 20px rgba(0,0,0,0.1);
            transition: all 0.4s ease;
            cursor: pointer;
            border-top: 5px solid var(--accent-color);
            position: relative;
            overflow: hidden;
        }
        
        .game-card::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 5px;
            background: var(--gradient);
        }
        
        .game-card:hover {
            transform: translateY(-10px) scale(1.03);
            box-shadow: 0 15px 30px rgba(0,0,0,0.15);
        }
        
        .game-icon {
            font-size: 3.5rem;
            margin-bottom: 20px;
            background: var(--gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            transition: all 0.3s ease;
        }
        
        .game-card:hover .game-icon {
            transform: scale(1.1);
        }
        
        .game-title {
            font-weight: bold;
            margin-bottom: 15px;
            color: var(--dark-color);
            font-size: 1.2rem;
        }
        
        .btn {
            background: var(--gradient);
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 50px;
            font-size: 1.1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            font-family: 'Tajawal', sans-serif;
            font-weight: bold;
            box-shadow: 0 5px 15px rgba(247, 37, 133, 0.3);
            display: inline-flex;
            align-items: center;
            justify-content: center;
            position: relative;
            overflow: hidden;
        }
        
        .btn::after {
            content: "";
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(rgba(255,255,255,0.1), rgba(255,255,255,0));
            transform: rotate(45deg);
            transition: all 0.3s ease;
        }
        
        .btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(247, 37, 133, 0.4);
        }
        
        .btn:hover::after {
            left: 100%;
        }
        
        .btn i {
            margin-left: 10px;
            font-size: 1.2rem;
        }
        
        .btn-secondary {
            background: linear-gradient(135deg, var(--secondary-color), var(--dark-color));
            box-shadow: 0 5px 15px rgba(58, 12, 163, 0.3);
        }
        
        .btn-secondary:hover {
            box-shadow: 0 8px 20px rgba(58, 12, 163, 0.4);
        }
        
        .btn-accent {
            background: linear-gradient(135deg, var(--accent-color), #B5179E);
            box-shadow: 0 5px 15px rgba(247, 37, 133, 0.3);
        }
        
        .btn-accent:hover {
            box-shadow: 0 8px 20px rgba(247, 37, 133, 0.4);
        }
        
        .stars {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: -1;
        }
        
        .star {
            position: absolute;
            background-color: white;
            border-radius: 50%;
            animation: twinkle var(--duration) infinite ease-in-out;
            opacity: 0;
        }
        
        @keyframes twinkle {
            0%, 100% { opacity: 0; }
            50% { opacity: var(--opacity); }
        }
        
        .confetti {
            position: fixed;
            width: 12px;
            height: 12px;
            background-color: var(--color);
            opacity: 0;
            animation: confetti-fall 3s ease-in-out forwards;
            z-index: 1000;
            border-radius: 50%;
        }
        
        @keyframes confetti-fall {
            0% { transform: translateY(-100px) rotate(0deg); opacity: 1; }
            100% { transform: translateY(100vh) rotate(720deg); opacity: 0; }
        }
        
        .progress-container {
            width: 100%;
            background-color: #e0e0e0;
            border-radius: 10px;
            margin: 25px 0;
            height: 25px;
            overflow: hidden;
            box-shadow: inset 0 1px 3px rgba(0,0,0,0.1);
        }
        
        .progress-bar {
            height: 100%;
            background: var(--gradient);
            width: 0%;
            transition: width 0.5s ease;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: flex-end;
            padding-right: 15px;
            color: white;
            font-size: 0.8rem;
            font-weight: bold;
            text-shadow: 0 1px 2px rgba(0,0,0,0.2);
        }
        
        .quiz-container {
            background-color: white;
            border-radius: 20px;
            padding: 30px;
            margin-top: 25px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            position: relative;
            overflow: hidden;
        }
        
        .quiz-container::before {
            content: "";
            position: absolute;
            top: 0;
            right: 0;
            width: 100%;
            height: 5px;
            background: var(--gradient);
        }
        
        .quiz-question {
            font-weight: bold;
            margin-bottom: 20px;
            font-size: 1.3rem;
            color: var(--dark-color);
            line-height: 1.5;
        }
        
        .quiz-options {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 25px;
        }
        
        @media (max-width: 768px) {
            .quiz-options {
                grid-template-columns: 1fr;
            }
        }
        
        .quiz-option {
            background-color: #f8f9fa;
            padding: 20px;
            border-radius: 15px;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 2px solid transparent;
            box-shadow: 0 3px 10px rgba(0,0,0,0.05);
            position: relative;
            overflow: hidden;
        }
        
        .quiz-option::before {
            content: "";
            position: absolute;
            top: 0;
            right: 0;
            width: 5px;
            height: 100%;
            background: #e9ecef;
            transition: all 0.3s ease;
        }
        
        .quiz-option:hover {
            background-color: #e9ecef;
            transform: translateX(-5px);
        }
        
        .quiz-option.selected {
            border-color: var(--secondary-color);
            background-color: #e6f7f6;
        }
        
        .quiz-option.selected::before {
            background: var(--secondary-color);
        }
        
        .quiz-option.correct {
            border-color: #28a745;
            background-color: #d4edda;
        }
        
        .quiz-option.correct::before {
            background: #28a745;
        }
        
        .quiz-option.incorrect {
            border-color: #dc3545;
            background-color: #f8d7da;
        }
        
        .quiz-option.incorrect::before {
            background: #dc3545;
        }
        
        .quiz-feedback {
            padding: 20px;
            border-radius: 15px;
            margin-top: 25px;
            display: none;
            position: relative;
            overflow: hidden;
        }
        
        .quiz-feedback::before {
            content: "";
            position: absolute;
            top: 0;
            right: 0;
            width: 5px;
            height: 100%;
        }
        
        .feedback-correct {
            background-color: #d4edda;
            color: #155724;
            border-left: 5px solid #28a745;
        }
        
        .feedback-correct::before {
            background: #28a745;
        }
        
        .feedback-incorrect {
            background-color: #f8d7da;
            color: #721c24;
            border-left: 5px solid #dc3545;
        }
        
        .feedback-incorrect::before {
            background: #dc3545;
        }
        
        .puzzle-container {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 15px;
            margin: 25px 0;
        }
        
        .puzzle-piece {
            background: var(--gradient);
            border-radius: 15px;
            padding: 25px;
            text-align: center;
            cursor: move;
            font-weight: bold;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            transition: all 0.3s ease;
            color: white;
            font-size: 1rem;
            position: relative;
            overflow: hidden;
        }
        
        .puzzle-piece::after {
            content: "";
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(rgba(255,255,255,0.1), rgba(255,255,255,0));
            transform: rotate(45deg);
            transition: all 0.3s ease;
        }
        
        .puzzle-piece:active {
            transform: scale(1.05);
        }
        
        .puzzle-piece:active::after {
            left: 100%;
        }
        
        .puzzle-target {
            background-color: #f8f9fa;
            border: 3px dashed var(--dark-color);
            border-radius: 15px;
            min-height: 100px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-top: 25px;
            transition: all 0.3s ease;
            position: relative;
        }
        
        .puzzle-target.highlight {
            border-color: var(--accent-color);
            background-color: rgba(247, 37, 133, 0.05);
        }
        
        .memory-game {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 15px;
            margin: 25px 0;
        }
        
        .memory-card {
            height: 120px;
            background: var(--gradient);
            border-radius: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            font-size: 1.8rem;
            color: white;
            transition: all 0.4s ease;
            perspective: 1000px;
            position: relative;
            transform-style: preserve-3d;
        }
        
        .memory-card::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.1);
            border-radius: 15px;
        }
        
        .memory-card.flipped {
            background: white;
            color: var(--dark-color);
            transform: rotateY(180deg);
        }
        
        .memory-card.matched {
            background: var(--accent-color);
            color: white;
            cursor: default;
            transform: rotateY(180deg);
        }
        
        .memory-card.matched::after {
            content: "✓";
            position: absolute;
            top: 5px;
            right: 5px;
            font-size: 1.2rem;
            color: white;
            background: #28a745;
            width: 25px;
            height: 25px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        footer {
            text-align: center;
            padding: 30px;
            margin-top: 50px;
            color: #6c757d;
            font-size: 1rem;
            position: relative;
        }
        
        footer::before {
            content: "";
            position: absolute;
            top: 0;
            right: 25%;
            left: 25%;
            height: 1px;
            background: linear-gradient(to right, transparent, #dee2e6, transparent);
        }
        
        /* Animation classes */
        .bounce {
            animation: bounce 0.6s;
        }
        
        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-15px); }
        }
        
        .pulse {
            animation: pulse 1.8s infinite;
        }
        
        @keyframes pulse {
            0% { transform: scale(1); opacity: 1; }
            50% { transform: scale(1.1); opacity: 0.8; }
            100% { transform: scale(1); opacity: 1; }
        }
        
        .tada {
            animation: tada 1s;
        }
        
        @keyframes tada {
            0% { transform: scale(1); }
            10%, 20% { transform: scale(0.9) rotate(-5deg); }
            30%, 50%, 70%, 90% { transform: scale(1.1) rotate(5deg); }
            40%, 60%, 80% { transform: scale(1.1) rotate(-5deg); }
            100% { transform: scale(1) rotate(0); }
        }
        
        /* Responsive adjustments */
        @media (max-width: 768px) {
            h1 {
                font-size: 2.2rem;
            }
            
            .section-title {
                font-size: 1.6rem;
            }
            
            .surah-text {
                font-size: 1.3rem;
                line-height: 2.2;
                padding: 15px;
            }
            
            .game-container {
                grid-template-columns: 1fr 1fr;
            }
            
            .game-card {
                padding: 15px;
            }
        }
        
        @media (max-width: 480px) {
            h1 {
                font-size: 1.8rem;
            }
            
            .subtitle {
                font-size: 1rem;
            }
            
            .section {
                padding: 15px;
            }
            
            .game-container {
                grid-template-columns: 1fr;
            }
            
            .memory-game {
                grid-template-columns: 1fr 1fr;
            }
        }
    </style>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body>
    <!-- Animated Stars Background -->
    <div class="stars" id="stars"></div>
    
    <div class="container">
        <header>
            <h1>سورة عبس</h1>
            <div class="subtitle">رحلة تعليمية تفاعلية ممتعة للأطفال</div>
        </header>
        
        <!-- Surah Text Section -->
        <section class="section" id="surah-text">
            <h2 class="section-title">
                <i class="fas fa-book-quran"></i> نص السورة الكريمة
            </h2>
            <div class="surah-text">
                <div class="verse"><span class="verse-number">1</span> عَبَسَ وَتَوَلَّىٰ</div>
                <div class="verse"><span class="verse-number">2</span> أَن جَاءَهُ الْأَعْمَىٰ</div>
                <div class="verse"><span class="verse-number">3</span> وَمَا يُدْرِيكَ لَعَلَّهُ يَزَّكَّىٰ</div>
                <div class="verse"><span class="verse-number">4</span> أَوْ يَذَّكَّرُ فَتَنفَعَهُ الذِّكْرَىٰ</div>
                <div class="verse"><span class="verse-number">5</span> أَمَّا مَنِ اسْتَغْنَىٰ</div>
                <div class="verse"><span class="verse-number">6</span> فَأَنتَ لَهُ تَصَدَّىٰ</div>
                <div class="verse"><span class="verse-number">7</span> وَمَا عَلَيْكَ أَلَّا يَزَّكَّىٰ</div>
                <div class="verse"><span class="verse-number">8</span> وَأَمَّا مَن جَاءَكَ يَسْعَىٰ</div>
                <div class="verse"><span class="verse-number">9</span> وَهُوَ يَخْشَىٰ</div>
                <div class="verse"><span class="verse-number">10</span> فَأَنتَ عَنْهُ تَلَهَّىٰ</div>
                <div class="verse"><span class="verse-number">11</span> كَلَّا إِنَّهَا تَذْكِرَةٌ</div>
                <div class="verse"><span class="verse-number">12</span> فَمَن شَاءَ ذَكَرَهُ</div>
                <div class="verse"><span class="verse-number">13</span> فِي صُحُفٍ مُّكَرَّمَةٍ</div>
                <div class="verse"><span class="verse-number">14</span> مَّرْفُوعَةٍ مُّطَهَّرَةٍ</div>
                <div class="verse"><span class="verse-number">15</span> بِأَيْدِي سَفَرَةٍ</div>
                <div class="verse"><span class="verse-number">16</span> كِرَامٍ بَرَرَةٍ</div>
                <div class="verse"><span class="verse-number">17</span> قُتِلَ الْإِنسَانُ مَا أَكْفَرَهُ</div>
                <div class="verse"><span class="verse-number">18</span> مِنْ أَيِّ شَيْءٍ خَلَقَهُ</div>
                <div class="verse"><span class="verse-number">19</span> مِن نُّطْفَةٍ خَلَقَهُ فَقَدَّرَهُ</div>
                <div class="verse"><span class="verse-number">20</span> ثُمَّ السَّبِيلَ يَسَّرَهُ</div>
                <div class="verse"><span class="verse-number">21</span> ثُمَّ أَمَاتَهُ فَأَقْبَرَهُ</div>
                <div class="verse"><span class="verse-number">22</span> ثُمَّ إِذَا شَاءَ أَنشَرَهُ</div>
                <div class="verse"><span class="verse-number">23</span> كَلَّا لَمَّا يَقْضِ مَا أَمَرَهُ</div>
                <div class="verse"><span class="verse-number">24</span> فَلْيَنظُرِ الْإِنسَانُ إِلَىٰ طَعَامِهِ</div>
                <div class="verse"><span class="verse-number">25</span> أَنَّا صَبَبْنَا الْمَاءَ صَبًّا</div>
                <div class="verse"><span class="verse-number">26</span> ثُمَّ شَقَقْنَا الْأَرْضَ شَقًّا</div>
                <div class="verse"><span class="verse-number">27</span> فَأَنبَتْنَا فِيهَا حَبًّا</div>
                <div class="verse"><span class="verse-number">28</span> وَعِنَبًا وَقَضْبًا</div>
                <div class="verse"><span class="verse-number">29</span> وَزَيْتُونًا وَنَخْلًا</div>
                <div class="verse"><span class="verse-number">30</span> وَحَدَائِقَ غُلْبًا</div>
                <div class="verse"><span class="verse-number">31</span> وَفَاكِهَةً وَأَبًّا</div>
                <div class="verse"><span class="verse-number">32</span> مَّتَاعًا لَّكُمْ وَلِأَنْعَامِكُمْ</div>
                <div class="verse"><span class="verse-number">33</span> فَإِذَا جَاءَتِ الصَّاخَّةُ</div>
                <div class="verse"><span class="verse-number">34</span> يَوْمَ يَفِرُّ الْمَرْءُ مِنْ أَخِيهِ</div>
                <div class="verse"><span class="verse-number">35</span> وَأُمِّهِ وَأَبِيهِ</div>
                <div class="verse"><span class="verse-number">36</span> وَصَاحِبَتِهِ وَبَنِيهِ</div>
                <div class="verse"><span class="verse-number">37</span> لِكُلِّ امْرِئٍ مِّنْهُمْ يَوْمَئِذٍ شَأْنٌ يُغْنِيهِ</div>
                <div class="verse"><span class="verse-number">38</span> وُجُوهٌ يَوْمَئِذٍ مُّسْفِرَةٌ</div>
                <div class="verse"><span class="verse-number">39</span> ضَاحِكَةٌ مُّسْتَبْشِرَةٌ</div>
                <div class="verse"><span class="verse-number">40</span> وَوُجُوهٌ يَوْمَئِذٍ عَلَيْهَا غَبَرَةٌ</div>
                <div class="verse"><span class="verse-number">41</span> تَرْهَقُهَا قَتَرَةٌ</div>
                <div class="verse"><span class="verse-number">42</span> أُولَـٰئِكَ هُمُ الْكَفَرَةُ الْفَجَرَةُ</div>
            </div>
            <button class="btn btn-secondary pulse" id="listen-btn">
                <i class="fas fa-play"></i> استمع إلى السورة
            </button>
        </section>
        
        <!-- About Surah Section -->
        <section class="section" id="about-surah">
            <h2 class="section-title">
                <i class="fas fa-info-circle"></i> نبذة عن السورة
            </h2>
            <div class="info-box">
                <p>سورة عبس هي سورة مكية، من المفصل، آياتها 42، وترتيبها في المصحف 80، في الجزء الثلاثين، الحزب التاسع والخمسين، الربع الثاني.</p>
                <p>تتناول السورة قصة الأعمى الذي جاء إلى النبي صلى الله عليه وسلم وهو منشغل بدعوة كبار القوم، ثم تنتقل إلى الحديث عن نعم الله على الإنسان وتكفيره لها، وتصور مشاهد القيامة.</p>
            </div>
        </section>
        
        <!-- Revelation Reason Section -->
        <section class="section" id="revelation-reason">
            <h2 class="section-title">
                <i class="fas fa-question-circle"></i> سبب نزول السورة
            </h2>
            <div class="info-box">
                <p>نزلت السورة عندما جاء الأعمى عبد الله بن أم مكتوم إلى النبي صلى الله عليه وسلم وهو منشغل بدعوة بعض زعماء قريش، فعبس النبي وأعرض عنه، فعاتبه الله تعالى على ذلك.</p>
                <p>السورة تعلمنا عدم التمييز بين الناس على أساس المظهر أو المكانة الاجتماعية، وأن الخشية لله هي المعيار الحقيقي.</p>
            </div>
        </section>
        
        <!-- Tafsir Section -->
        <section class="section" id="tafsir">
            <h2 class="section-title">
                <i class="fas fa-book-open"></i> تفسير آيات السورة
            </h2>
            <div class="info-box">
                <p><strong>الآيات 1-10:</strong> عتاب من الله لنبيه صلى الله عليه وسلم لعبوسه في وجه الأعمى عبد الله بن أم مكتوم وإعراضه عنه بينما كان منشغلاً بدعوة كبار قريش.</p>
                <p><strong>الآيات 11-16:</strong> بيان أن القرآن تذكرة للناس، محفوظ في صحف مكرمة عند ملائكة كرام.</p>
                <p><strong>الآيات 17-23:</strong> بيان تكفير الإنسان لنعم الله عليه مع أن الله خلقه من نطفة ثم قدره وسواه.</p>
                <p><strong>الآيات 24-32:</strong> تعداد لنعم الله على الإنسان في الطعام والشراب والثمار.</p>
                <p><strong>الآيات 33-42:</strong> وصف لأهوال يوم القيامة واختلاف حال الناس بين الفرح والسرور للحقين، والحزن والكآبة للكافرين.</p>
            </div>
        </section>
        
        <!-- Virtues Section -->
        <section class="section" id="virtues">
            <h2 class="section-title">
                <i class="fas fa-star"></i> فضائل السورة
            </h2>
            <div class="info-box">
                <p>1. السورة تعلمنا عدم التمييز بين الناس على أساس المظهر أو المكانة الاجتماعية.</p>
                <p>2. تذكر بنعم الله الكثيرة على الإنسان وتكفيره لها.</p>
                <p>3. تبين أهمية التذكرة والموعظة للجميع دون استثناء.</p>
                <p>4. تصور مشاهد القيامة وأحوال الناس فيها.</p>
            </div>
        </section>
        
        <!-- Objectives Section -->
        <section class="section" id="objectives">
            <h2 class="section-title">
                <i class="fas fa-bullseye"></i> مقاصد السورة
            </h2>
            <div class="info-box">
                <p>1. تعليم الأدب في التعامل مع طلاب العلم.</p>
                <p>2. بيان أن الخشية لله هي المعيار الحقيقي لا المظهر أو المكانة.</p>
                <p>3. تذكير الإنسان بنعم الله عليه وتكفيره لها.</p>
                <p>4. تصوير أهوال يوم القيامة واختلاف حال الناس فيها.</p>
                <p>5. بيان عظمة القرآن وأنه تذكرة للناس.</p>
            </div>
        </section>
        
        <!-- Summary Section -->
        <section class="section" id="summary">
            <h2 class="section-title">
                <i class="fas fa-file-alt"></i> ملخص السورة
            </h2>
            <div class="info-box">
                <p>تبدأ سورة عبس بعتاب الله لنبيه صلى الله عليه وسلم لعبوسه في وجه الأعمى وإعراضه عنه، ثم تنتقل إلى بيان أن القرآن تذكرة للناس محفوظة في صحف مكرمة، ثم تذكر تكفير الإنسان لنعم الله مع أن الله خلقه من نطفة ثم قدره وسواه، ثم تعدد بعض نعم الله في الطعام والشراب والثمار، وتختم بوصف أهوال القيامة واختلاف حال الناس بين الفرح والسرور للحقين، والحزن والكآبة للكافرين.</p>
            </div>
        </section>
        
        <!-- Interactive Games Section -->
        <section class="section" id="games">
            <h2 class="section-title">
                <i class="fas fa-gamepad"></i> ألعاب تعليمية تفاعلية
            </h2>
            <p>اختبر فهمك للسورة من خلال هذه الألعاب الممتعة!</p>
            
            <div class="game-container">
                <div class="game-card" onclick="startQuiz()">
                    <div class="game-icon">
                        <i class="fas fa-question-circle"></i>
                    </div>
                    <div class="game-title">اختبار السورة</div>
                    <p>اختبر معلوماتك عن سورة عبس</p>
                </div>
                
                <div class="game-card" onclick="startPuzzle()">
                    <div class="game-icon">
                        <i class="fas fa-puzzle-piece"></i>
                    </div>
                    <div class="game-title">تركيب الآيات</div>
                    <p>رتب الآيات بالترتيب الصحيح</p>
                </div>
                
                <div class="game-card" onclick="startMemoryGame()">
                    <div class="game-icon">
                        <i class="fas fa-brain"></i>
                    </div>
                    <div class="game-title">لعبة الذاكرة</div>
                    <p>اطبع الآيات في ذاكرتك</p>
                </div>
                
                <div class="game-card" onclick="startStoryGame()">
                    <div class="game-icon">
                        <i class="fas fa-book-open"></i>
                    </div>
                    <div class="game-title">قصة الأعمى</div>
                    <p>شارك في القصة التفاعلية</p>
                </div>
            </div>
            
            <!-- Quiz Game -->
            <div id="quiz-game" style="display: none;">
                <div class="quiz-container">
                    <h3>اختبار سورة عبس</h3>
                    <div class="progress-container">
                        <div class="progress-bar" id="quiz-progress">0%</div>
                    </div>
                    
                    <div id="quiz-content">
                        <div class="quiz-question" id="quiz-question"></div>
                        <div class="quiz-options" id="quiz-options"></div>
                        <button class="btn" id="next-question-btn" style="display: none;">السؤال التالي</button>
                        <div class="quiz-feedback" id="quiz-feedback"></div>
                    </div>
                    
                    <div id="quiz-result" style="display: none; text-align: center;">
                        <h3 id="result-title"></h3>
                        <p id="result-message"></p>
                        <div id="result-score"></div>
                        <button class="btn btn-accent" onclick="startQuiz()">حاول مرة أخرى</button>
                    </div>
                </div>
            </div>
            
            <!-- Puzzle Game -->
            <div id="puzzle-game" style="display: none;">
                <div class="quiz-container">
                    <h3>لعبة ترتيب الآيات</h3>
                    <p>قم بسحب الآيات ووضعها في الترتيب الصحيح</p>
                    
                    <div class="puzzle-container" id="puzzle-pieces">
                        <!-- Pieces will be added by JavaScript -->
                    </div>
                    
                    <div class="puzzle-target" id="puzzle-target">
                        <p>اسحب الآيات هنا بالترتيب الصحيح</p>
                    </div>
                    
                    <button class="btn" id="check-puzzle-btn">تحقق من الإجابة</button>
                    <div id="puzzle-feedback" style="margin-top: 20px; display: none;"></div>
                </div>
            </div>
            
            <!-- Memory Game -->
            <div id="memory-game" style="display: none;">
                <div class="quiz-container">
                    <h3>لعبة الذاكرة مع آيات السورة</h3>
                    <p>ابحث عن أزواج الآيات المتطابقة</p>
                    
                    <div class="memory-game" id="memory-cards">
                        <!-- Cards will be added by JavaScript -->
                    </div>
                    
                    <div style="margin-top: 20px;">
                        <span id="memory-moves">عدد المحاولات: 0</span>
                        <button class="btn" id="reset-memory-btn" style="float: left;">إعادة اللعبة</button>
                    </div>
                </div>
            </div>
            
            <!-- Story Game -->
            <div id="story-game" style="display: none;">
                <div class="quiz-container">
                    <h3>قصة الأعمى التفاعلية</h3>
                    <p>شارك في قصة عبد الله بن أم مكتوم</p>
                    
                    <div id="story-content">
                        <div class="story-scene" id="scene-1">
                            <p>كان النبي صلى الله عليه وسلم جالساً مع بعض زعماء قريش يدعوهم إلى الإسلام، فجاءه الأعمى عبد الله بن أم مكتوم يسأله عن شيء...</p>
                            <div class="quiz-options">
                                <div class="quiz-option" onclick="nextScene(1, 1)">ماذا فعل النبي صلى الله عليه وسلم؟</div>
                            </div>
                        </div>
                        
                        <div class="story-scene" id="scene-2" style="display: none;">
                            <p>عبس النبي صلى الله عليه وسلم في وجه الأعمى وأعرض عنه لأنه كان منشغلاً بدعوة هؤلاء الزعماء...</p>
                            <div class="quiz-options">
                                <div class="quiz-option" onclick="nextScene(2, 1)">ماذا حدث بعد ذلك؟</div>
                            </div>
                        </div>
                        
                        <div class="story-scene" id="scene-3" style="display: none;">
                            <p>نزلت سورة عبس تعاتب النبي صلى الله عليه وسلم على هذا الموقف:</p>
                            <div class="info-box">
                                "عَبَسَ وَتَوَلَّىٰ ﴿١﴾ أَن جَاءَهُ الْأَعْمَىٰ ﴿٢﴾ وَمَا يُدْرِيكَ لَعَلَّهُ يَزَّكَّىٰ ﴿٣﴾ أَوْ يَذَّكَّرُ فَتَنفَعَهُ الذِّكْرَىٰ ﴿٤﴾"
                            </div>
                            <div class="quiz-options">
                                <div class="quiz-option" onclick="nextScene(3, 1)">ما العبرة من هذه القصة؟</div>
                            </div>
                        </div>
                        
                        <div class="story-scene" id="scene-4" style="display: none;">
                            <p>العبرة أننا لا نفرق بين الناس في الدعوة والتعليم على أساس مظهرهم أو مكانتهم، بل نعطي الأهمية لمن يخشى الله ويريد التعلم.</p>
                            <div class="quiz-options">
                                <div class="quiz-option" onclick="finishStory()">أحسنت! انتهت القصة</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        
        <footer>
            <p>تم تصميم هذا الدرس لتعليم الأطفال سورة عبس بطريقة تفاعلية ممتعة</p>
            <p>© 2023 مركز تعليم القرآن الكريم للأطفال</p>
        </footer>
    </div>
    
    <script>
        // Create stars background
        function createStars() {
            const starsContainer = document.getElementById('stars');
            const starsCount = 150;
            
            for (let i = 0; i < starsCount; i++) {
                const star = document.createElement('div');
                star.classList.add('star');
                
                // Random properties
                const size = Math.random() * 4;
                const x = Math.random() * 100;
                const y = Math.random() * 100;
                const duration = 3 + Math.random() * 7;
                const opacity = 0.5 + Math.random() * 0.5;
                const delay = Math.random() * 5;
                
                star.style.width = `${size}px`;
                star.style.height = `${size}px`;
                star.style.left = `${x}%`;
                star.style.top = `${y}%`;
                star.style.setProperty('--duration', `${duration}s`);
                star.style.setProperty('--opacity', opacity);
                star.style.animationDelay = `${delay}s`;
                
                starsContainer.appendChild(star);
            }
        }
        
        // Create confetti effect
        function createConfetti() {
            const colors = ['#FF7D00', '#4CC9F0', '#F72585', '#3A0CA3', '#B5179E'];
            
            for (let i = 0; i < 150; i++) {
                const confetti = document.createElement('div');
                confetti.classList.add('confetti');
                
                // Random properties
                const size = 5 + Math.random() * 10;
                const x = Math.random() * window.innerWidth;
                const color = colors[Math.floor(Math.random() * colors.length)];
                const delay = Math.random() * 3;
                const duration = 2 + Math.random() * 3;
                const rotation = Math.random() * 720;
                
                confetti.style.width = `${size}px`;
                confetti.style.height = `${size}px`;
                confetti.style.left = `${x}px`;
                confetti.style.backgroundColor = color;
                confetti.style.setProperty('--color', color);
                confetti.style.animationDuration = `${duration}s`;
                confetti.style.animationDelay = `${delay}s`;
                confetti.style.transform = `rotate(${rotation}deg)`;
                
                document.body.appendChild(confetti);
                
                // Remove confetti after animation
                setTimeout(() => {
                    confetti.remove();
                }, (duration + delay) * 1000);
            }
        }
        
        // Quiz game data
        const quizQuestions = [
            {
                question: "لماذا عاتبت السورة النبي صلى الله عليه وسلم؟",
                options: [
                    "لأنه تأخر عن الصلاة",
                    "لأنه عبس في وجه الأعمى وأعرض عنه",
                    "لأنه لم يطعم المساكين",
                    "لأنه تحدث بصوت عال"
                ],
                answer: 1,
                explanation: "السورة بدأت بعتاب النبي صلى الله عليه وسلم لعبوسه في وجه الأعمى عبد الله بن أم مكتوم وإعراضه عنه."
            },
            {
                question: "ما الذي خلقه الله من نطفة ثم قدره حسب السورة؟",
                options: [
                    "السماء",
                    "الجبل",
                    "الإنسان",
                    "الشجر"
                ],
                answer: 2,
                explanation: "قال تعالى: 'مِن نُّطْفَةٍ خَلَقَهُ فَقَدَّرَهُ'"
            },
            {
                question: "ما مصير من جاء يسعى وهو يخشى؟",
                options: [
                    "يتصدى له النبي",
                    "ينتفع بالذكرى",
                    "يعرض عنه النبي",
                    "يترك دون تعليم"
                ],
                answer: 1,
                explanation: "السورة بينت أن من يخشى الله وينتفع بالذكرى هو الأولى بالاهتمام"
            },
            {
                question: "ما الذي أنبته الله في الأرض حسب السورة؟",
                options: [
                    "حبوب وعنب وزيتون ونخل",
                    "ذهب وفضة",
                    "حيوانات فقط",
                    "صخور وجبال"
                ],
                answer: 0,
                explanation: "ذكرت السورة العديد من النعم مثل الحب والعنب والزيتون والنخل"
            },
            {
                question: "كيف تكون وجوه الكفرة يوم القيامة حسب السورة؟",
                options: [
                    "مشرقة ضاحكة",
                    "عليها غبرة وترهقها قترة",
                    "بيضاء ناصعة",
                    "لا تغير من شكلها"
                ],
                answer: 1,
                explanation: "قال تعالى: 'وَوُجُوهٌ يَوْمَئِذٍ عَلَيْهَا غَبَرَةٌ * تَرْهَقُهَا قَتَرَةٌ'"
            }
        ];
        
        // Quiz game variables
        let currentQuestion = 0;
        let score = 0;
        let selectedOption = null;
        
        // Start quiz game
        function startQuiz() {
            document.getElementById('quiz-game').style.display = 'block';
            document.getElementById('puzzle-game').style.display = 'none';
            document.getElementById('memory-game').style.display = 'none';
            document.getElementById('story-game').style.display = 'none';
            
            currentQuestion = 0;
            score = 0;
            loadQuestion();
        }
        
        // Load a question
        function loadQuestion() {
            const questionElement = document.getElementById('quiz-question');
            const optionsElement = document.getElementById('quiz-options');
            const progressBar = document.getElementById('quiz-progress');
            const nextBtn = document.getElementById('next-question-btn');
            const feedbackElement = document.getElementById('quiz-feedback');
            
            // Reset UI
            questionElement.textContent = `السؤال ${currentQuestion + 1}: ${quizQuestions[currentQuestion].question}`;
            optionsElement.innerHTML = '';
            nextBtn.style.display = 'none';
            feedbackElement.style.display = 'none';
            feedbackElement.className = 'quiz-feedback';
            
            // Update progress
            progressBar.style.width = `${(currentQuestion / quizQuestions.length) * 100}%`;
            progressBar.textContent = `${Math.round((currentQuestion / quizQuestions.length) * 100)}%`;
            
            // Add options
            quizQuestions[currentQuestion].options.forEach((option, index) => {
                const optionElement = document.createElement('div');
                optionElement.classList.add('quiz-option');
                optionElement.textContent = option;
                optionElement.addEventListener('click', () => selectOption(index));
                optionsElement.appendChild(optionElement);
            });
        }
        
        // Select an option
        function selectOption(index) {
            const options = document.querySelectorAll('.quiz-option');
            const feedbackElement = document.getElementById('quiz-feedback');
            const nextBtn = document.getElementById('next-question-btn');
            
            // Remove previous selection
            if (selectedOption !== null) {
                options[selectedOption].classList.remove('selected');
            }
            
            // Set new selection
            selectedOption = index;
            options[index].classList.add('selected');
            
            // Check answer
            const isCorrect = index === quizQuestions[currentQuestion].answer;
            
            // Show feedback
            feedbackElement.textContent = quizQuestions[currentQuestion].explanation;
            feedbackElement.style.display = 'block';
            
            if (isCorrect) {
                feedbackElement.classList.add('feedback-correct');
                score++;
                createConfetti();
            } else {
                feedbackElement.classList.add('feedback-incorrect');
                options[quizQuestions[currentQuestion].answer].classList.add('correct');
                options[index].classList.add('incorrect');
            }
            
            // Show next button
            nextBtn.style.display = 'inline-block';
            nextBtn.onclick = nextQuestion;
        }
        
        // Go to next question
        function nextQuestion() {
            currentQuestion++;
            
            if (currentQuestion < quizQuestions.length) {
                loadQuestion();
            } else {
                showQuizResult();
            }
        }
        
        // Show quiz result
        function showQuizResult() {
            const quizContent = document.getElementById('quiz-content');
            const quizResult = document.getElementById('quiz-result');
            const resultTitle = document.getElementById('result-title');
            const resultMessage = document.getElementById('result-message');
            const resultScore = document.getElementById('result-score');
            const progressBar = document.getElementById('quiz-progress');
            
            // Update progress to 100%
            progressBar.style.width = '100%';
            progressBar.textContent = '100%';
            
            // Hide quiz content, show result
            quizContent.style.display = 'none';
            quizResult.style.display = 'block';
            
            // Calculate percentage
            const percentage = (score / quizQuestions.length) * 100;
            
            // Set result message
            resultScore.textContent = `نقاطك: ${score} من ${quizQuestions.length} (${percentage}%)`;
            
            if (percentage >= 80) {
                resultTitle.textContent = 'ممتاز!';
                resultMessage.textContent = 'أحسنت! لديك فهم رائع لسورة عبس.';
                createConfetti();
            } else if (percentage >= 50) {
                resultTitle.textContent = 'جيد جداً!';
                resultMessage.textContent = 'حاول مراجعة السورة مرة أخرى لتحسين فهمك.';
            } else {
                resultTitle.textContent = 'حاول مرة أخرى!';
                resultMessage.textContent = 'اقرأ السورة مرة أخرى وحاول تحسين نتيجتك.';
            }
        }
        
        // Puzzle game
        function startPuzzle() {
            document.getElementById('quiz-game').style.display = 'none';
            document.getElementById('puzzle-game').style.display = 'block';
            document.getElementById('memory-game').style.display = 'none';
            document.getElementById('story-game').style.display = 'none';
            
            const puzzlePieces = document.getElementById('puzzle-pieces');
            puzzlePieces.innerHTML = '';
            
            // Sample verses for the puzzle
            const verses = [
                "عَبَسَ وَتَوَلَّىٰ",
                "أَن جَاءَهُ الْأَعْمَىٰ",
                "وَمَا يُدْرِيكَ لَعَلَّهُ يَزَّكَّىٰ",
                "أَوْ يَذَّكَّرُ فَتَنفَعَهُ الذِّكْرَىٰ",
                "أَمَّا مَنِ اسْتَغْنَىٰ"
            ];
            
            // Shuffle verses
            const shuffledVerses = [...verses].sort(() => Math.random() - 0.5);
            
            // Create puzzle pieces
            shuffledVerses.forEach((verse, index) => {
                const piece = document.createElement('div');
                piece.classList.add('puzzle-piece');
                piece.textContent = verse;
                piece.draggable = true;
                piece.id = `piece-${index}`;
                piece.addEventListener('dragstart', dragStart);
                puzzlePieces.appendChild(piece);
            });
            
            // Set up drop target
            const target = document.getElementById('puzzle-target');
            target.innerHTML = '<p>اسحب الآيات هنا بالترتيب الصحيح</p>';
            target.addEventListener('dragover', dragOver);
            target.addEventListener('dragenter', dragEnter);
            target.addEventListener('dragleave', dragLeave);
            target.addEventListener('drop', drop);
            
            // Set up check button
            document.getElementById('check-puzzle-btn').onclick = checkPuzzle;
            document.getElementById('puzzle-feedback').style.display = 'none';
        }
        
        // Drag and drop functions for puzzle
        function dragStart(e) {
            e.dataTransfer.setData('text/plain', e.target.id);
        }
        
        function dragOver(e) {
            e.preventDefault();
        }
        
        function dragEnter(e) {
            e.preventDefault();
            e.target.classList.add('highlight');
        }
        
        function dragLeave(e) {
            e.target.classList.remove('highlight');
        }
        
        function drop(e) {
            e.preventDefault();
            e.target.classList.remove('highlight');
            const id = e.dataTransfer.getData('text/plain');
            const draggedElement = document.getElementById(id);
            
            // Check if the element is already in the target
            if (draggedElement.parentNode === e.target) {
                return;
            }
            
            // Remove the "اسحب الآيات هنا" text if it's the first drop
            if (e.target.innerHTML === '<p>اسحب الآيات هنا بالترتيب الصحيح</p>') {
                e.target.innerHTML = '';
            }
            
            // Add the dragged element to the target
            e.target.appendChild(draggedElement);
        }
        
        // Check puzzle solution
        function checkPuzzle() {
            const target = document.getElementById('puzzle-target');
            const pieces = target.querySelectorAll('.puzzle-piece');
            const feedback = document.getElementById('puzzle-feedback');
            
            if (pieces.length !== 5) {
                feedback.textContent = 'لم تكتمل الأحجية بعد! يرجى إضافة جميع القطع.';
                feedback.style.display = 'block';
                feedback.style.color = '#dc3545';
                return;
            }
            
            // Correct order
            const correctOrder = [
                "عَبَسَ وَتَوَلَّىٰ",
                "أَن جَاءَهُ الْأَعْمَىٰ",
                "وَمَا يُدْرِيكَ لَعَلَّهُ يَزَّكَّىٰ",
                "أَوْ يَذَّكَّرُ فَتَنفَعَهُ الذِّكْرَىٰ",
                " أَمَّا مَنِ اسْتَغْنَىٰ "
            ];
            
            let isCorrect = true;
            
            pieces.forEach((piece, index) => {
                if (piece.textContent !== correctOrder[index]) {
                    isCorrect = false;
                }
            });
            
            if (isCorrect) {
                feedback.textContent = 'أحسنت! لقد رتبت الآيات بشكل صحيح.';
                feedback.style.color = '#28a745';
                createConfetti();
            } else {
                feedback.textContent = 'ليس تماماً! حاول ترتيب الآيات مرة أخرى.';
                feedback.style.color = '#dc3545';
            }
            
            feedback.style.display = 'block';
        }
        
        // Memory game
        function startMemoryGame() {
            document.getElementById('quiz-game').style.display = 'none';
            document.getElementById('puzzle-game').style.display = 'none';
            document.getElementById('memory-game').style.display = 'block';
            document.getElementById('story-game').style.display = 'none';
            
            const memoryCards = document.getElementById('memory-cards');
            memoryCards.innerHTML = '';
            
            // Sample verses for memory game
            const verses = [
                "عَبَسَ وَتَوَلَّىٰ",
                "أَن جَاءَهُ الْأَعْمَىٰ",
                "مِن نُّطْفَةٍ خَلَقَهُ",
                "وَزَيْتُونًا وَنَخْلًا",
                "وُجُوهٌ يَوْمَئِذٍ مُّسْفِرَةٌ",
                "تَرْهَقُهَا قَتَرَةٌ"
            ];
            
            // Create pairs
            const cards = [...verses, ...verses];
            
            // Shuffle cards
            const shuffledCards = cards.sort(() => Math.random() - 0.5);
            
            // Game variables
            let flippedCards = [];
            let matchedPairs = 0;
            let moves = 0;
            
            // Create cards
            shuffledCards.forEach((verse, index) => {
                const card = document.createElement('div');
                card.classList.add('memory-card');
                card.dataset.index = index;
                card.dataset.verse = verse;
                card.addEventListener('click', flipCard);
                memoryCards.appendChild(card);
            });
            
            // Update moves counter
            document.getElementById('memory-moves').textContent = 'عدد المحاولات: 0';
            
            // Set up reset button
            document.getElementById('reset-memory-btn').onclick = startMemoryGame;
            
            // Flip card function
            function flipCard() {
                // Don't allow flipping if already flipped or matched
                if (this.classList.contains('flipped') || this.classList.contains('matched')) {
                    return;
                }
                
                // Don't allow more than 2 cards flipped
                if (flippedCards.length >= 2) {
                    return;
                }
                
                // Flip the card
                this.classList.add('flipped');
                this.textContent = this.dataset.verse;
                flippedCards.push(this);
                
                // Check for match if 2 cards are flipped
                if (flippedCards.length === 2) {
                    moves++;
                    document.getElementById('memory-moves').textContent = `عدد المحاولات: ${moves}`;
                    
                    if (flippedCards[0].dataset.verse === flippedCards[1].dataset.verse) {
                        // Match found
                        flippedCards.forEach(card => {
                            card.classList.add('matched');
                        });
                        
                        matchedPairs++;
                        flippedCards = [];
                        
                        // Check if all pairs are matched
                        if (matchedPairs === verses.length) {
                            setTimeout(() => {
                                alert(`أحسنت! لقد أكملت اللعبة في ${moves} محاولة.`);
                                createConfetti();
                            }, 500);
                        }
                    } else {
                        // No match, flip back after delay
                        setTimeout(() => {
                            flippedCards.forEach(card => {
                                card.classList.remove('flipped');
                                card.textContent = '';
                            });
                            flippedCards = [];
                        }, 1000);
                    }
                }
            }
        }
        
        // Story game functions
        function startStoryGame() {
            document.getElementById('quiz-game').style.display = 'none';
            document.getElementById('puzzle-game').style.display = 'none';
            document.getElementById('memory-game').style.display = 'none';
            document.getElementById('story-game').style.display = 'block';
            
            // Reset story to first scene
            document.querySelectorAll('.story-scene').forEach(scene => {
                scene.style.display = 'none';
            });
            document.getElementById('scene-1').style.display = 'block';
        }
        
        function nextScene(currentScene, choice) {
            document.getElementById(`scene-${currentScene}`).style.display = 'none';
            document.getElementById(`scene-${currentScene+1}`).style.display = 'block';
        }
        
        function finishStory() {
            document.getElementById('story-game').style.display = 'none';
            createConfetti();
            alert('أحسنت! لقد تعلمت درساً مهماً من قصة الأعمى في سورة عبس.');
        }
        
        // Play surah audio
        document.getElementById('listen-btn').addEventListener('click', function() {
            // In a real implementation, this would play the audio of the surah
            alert("جاري تشغيل سورة عبس بصوت القارئ...");
            createConfetti();
            this.classList.add('tada');
            setTimeout(() => this.classList.remove('tada'), 1000);
        });
        
        // Initialize the page
        window.onload = function() {
            createStars();
            
            // Add click effect to all game cards
            document.querySelectorAll('.game-card').forEach(card => {
                card.addEventListener('click', function() {
                    this.classList.add('bounce');
                    setTimeout(() => this.classList.remove('bounce'), 1000);
                });
            });
            
            // Start with the quiz game
            startQuiz();
        };
    </script>
</body>
</html>