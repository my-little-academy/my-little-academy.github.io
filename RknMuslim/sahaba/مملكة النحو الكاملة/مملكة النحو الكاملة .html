<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù…Ù…Ù„ÙƒØ© Ø§Ù„Ù†Ø­Ùˆ Ø§Ù„ÙƒØ§Ù…Ù„Ø© ğŸ°</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
            direction: rtl;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        .header {
            text-align: center;
            color: white;
            margin-bottom: 30px;
            animation: fadeIn 1s ease-in;
        }

        .header h1 {
            font-size: 3em;
            text-shadow: 3px 3px 6px rgba(0,0,0,0.3);
            margin-bottom: 10px;
        }

        .header p {
            font-size: 1.2em;
            opacity: 0.9;
        }

        .player-stats {
            background: white;
            border-radius: 20px;
            padding: 20px;
            margin-bottom: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            display: flex;
            justify-content: space-around;
            align-items: center;
            flex-wrap: wrap;
            gap: 20px;
        }

        .stat-item {
            text-align: center;
        }

        .stat-item h3 {
            color: #667eea;
            font-size: 1.1em;
            margin-bottom: 5px;
        }

        .stat-value {
            font-size: 2em;
            font-weight: bold;
            color: #333;
        }

        .knight-rank {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            color: white;
            padding: 10px 20px;
            border-radius: 50px;
            font-size: 1.2em;
            font-weight: bold;
        }

        .provinces-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .province-card {
            background: white;
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .province-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.3);
        }

        .province-card.completed {
            border: 3px solid #4CAF50;
        }

        .province-card.locked {
            opacity: 0.6;
            cursor: not-allowed;
        }

        .province-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 15px;
        }

        .province-icon {
            font-size: 3em;
        }

        .province-title {
            flex: 1;
            margin: 0 15px;
        }

        .province-title h2 {
            color: #333;
            font-size: 1.5em;
            margin-bottom: 5px;
        }

        .province-progress {
            font-size: 0.9em;
            color: #666;
        }

        .badge {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5em;
            background: #ddd;
        }

        .badge.earned {
            background: linear-gradient(135deg, #ffd700, #ffed4e);
            animation: pulse 2s infinite;
        }

        .province-description {
            color: #666;
            line-height: 1.6;
            margin-bottom: 15px;
        }

        .start-btn {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            border: none;
            padding: 12px 30px;
            border-radius: 25px;
            font-size: 1em;
            font-weight: bold;
            cursor: pointer;
            width: 100%;
            transition: all 0.3s ease;
        }

        .start-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }

        .start-btn:disabled {
            background: #ccc;
            cursor: not-allowed;
        }

        .quiz-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.8);
            z-index: 1000;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }

        .quiz-modal.active {
            display: flex;
        }

        .quiz-content {
            background: white;
            border-radius: 20px;
            padding: 40px;
            max-width: 700px;
            width: 100%;
            max-height: 90vh;
            overflow-y: auto;
            position: relative;
        }

        .close-btn {
            position: absolute;
            top: 20px;
            left: 20px;
            background: #ff4757;
            color: white;
            border: none;
            width: 35px;
            height: 35px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 1.2em;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .question-header {
            text-align: center;
            margin-bottom: 30px;
        }

        .question-number {
            color: #667eea;
            font-size: 1.1em;
            margin-bottom: 10px;
        }

        .question-text {
            font-size: 1.5em;
            color: #333;
            font-weight: bold;
            line-height: 1.6;
        }

        .answers-grid {
            display: grid;
            gap: 15px;
            margin-bottom: 30px;
        }

        .answer-btn {
            background: #f5f5f5;
            border: 3px solid transparent;
            padding: 20px;
            border-radius: 15px;
            font-size: 1.1em;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: right;
        }

        .answer-btn:hover {
            background: #e8e8e8;
            transform: translateX(-5px);
        }

        .answer-btn.selected {
            border-color: #667eea;
            background: #eef2ff;
        }

        .answer-btn.correct {
            border-color: #4CAF50;
            background: #e8f5e9;
        }

        .answer-btn.wrong {
            border-color: #ff4757;
            background: #ffebee;
        }

        .submit-answer-btn {
            background: linear-gradient(135deg, #4CAF50, #45a049);
            color: white;
            border: none;
            padding: 15px 40px;
            border-radius: 25px;
            font-size: 1.2em;
            font-weight: bold;
            cursor: pointer;
            width: 100%;
            transition: all 0.3s ease;
        }

        .submit-answer-btn:hover {
            transform: scale(1.05);
        }

        .submit-answer-btn:disabled {
            background: #ccc;
            cursor: not-allowed;
        }

        .feedback {
            margin-top: 20px;
            padding: 20px;
            border-radius: 15px;
            text-align: center;
            font-size: 1.1em;
            display: none;
        }

        .feedback.show {
            display: block;
            animation: slideIn 0.5s ease;
        }

        .feedback.correct {
            background: #e8f5e9;
            color: #2e7d32;
            border: 2px solid #4CAF50;
        }

        .feedback.wrong {
            background: #ffebee;
            color: #c62828;
            border: 2px solid #ff4757;
        }

        .next-question-btn {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            border: none;
            padding: 15px 40px;
            border-radius: 25px;
            font-size: 1.2em;
            font-weight: bold;
            cursor: pointer;
            width: 100%;
            margin-top: 15px;
        }

        .completion-screen {
            text-align: center;
        }

        .completion-screen h2 {
            color: #4CAF50;
            font-size: 2.5em;
            margin-bottom: 20px;
        }

        .score-display {
            font-size: 3em;
            color: #667eea;
            margin: 20px 0;
            font-weight: bold;
        }

        .new-badge {
            font-size: 5em;
            margin: 20px 0;
            animation: bounce 1s infinite;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }

        @keyframes slideIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-20px); }
        }

        .badges-collection {
            background: white;
            border-radius: 20px;
            padding: 25px;
            margin-top: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        }

        .badges-collection h2 {
            text-align: center;
            color: #667eea;
            margin-bottom: 20px;
            font-size: 2em;
        }

        .badges-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(100px, 1fr));
            gap: 20px;
            text-align: center;
        }

        .badge-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 10px;
        }

        .badge-item .badge {
            width: 80px;
            height: 80px;
            font-size: 2em;
        }

        .badge-name {
            font-size: 0.9em;
            color: #666;
            font-weight: bold;
        }

        @media (max-width: 768px) {
            .header h1 {
                font-size: 2em;
            }

            .provinces-grid {
                grid-template-columns: 1fr;
            }

            .quiz-content {
                padding: 25px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ° Ù…Ù…Ù„ÙƒØ© Ø§Ù„Ù†Ø­Ùˆ Ø§Ù„ÙƒØ§Ù…Ù„Ø© ğŸ°</h1>
            <p>Ø§Ø¬Ù…Ø¹ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù†ÙŠØ§Ø´ÙŠÙ† ÙˆÙƒÙ† ÙØ§Ø±Ø³ Ø§Ù„Ù†Ø­Ùˆ Ø§Ù„Ø´Ø¬Ø§Ø¹!</p>
        </div>

        <div class="player-stats">
            <div class="stat-item">
                <h3>Ø§Ù„Ù†ÙŠØ§Ø´ÙŠÙ† Ø§Ù„Ù…ÙƒØªØ³Ø¨Ø©</h3>
                <div class="stat-value" id="totalBadges">0/8</div>
            </div>
            <div class="stat-item">
                <h3>Ø§Ù„Ù†Ù‚Ø§Ø· Ø§Ù„ÙƒÙ„ÙŠØ©</h3>
                <div class="stat-value" id="totalScore">0</div>
            </div>
            <div class="stat-item">
                <div class="knight-rank" id="knightRank">Ù…Ø¨ØªØ¯Ø¦ Ø§Ù„Ù†Ø­Ùˆ</div>
            </div>
        </div>

        <div class="provinces-grid" id="provincesGrid"></div>

        <div class="badges-collection">
            <h2>ğŸ… Ù…Ø¬Ù…ÙˆØ¹Ø© Ø§Ù„Ù†ÙŠØ§Ø´ÙŠÙ† ğŸ…</h2>
            <div class="badges-grid" id="badgesGrid"></div>
        </div>
    </div>

    <div class="quiz-modal" id="quizModal">
        <div class="quiz-content">
            <button class="close-btn" onclick="closeQuiz()">Ã—</button>
            <div id="quizContainer"></div>
        </div>
    </div>

    <script>
        const provinces = [
            {
                id: 1,
                name: "Ù…Ù‚Ø§Ø·Ø¹Ø© Ø§Ù„Ø£Ø³Ù…Ø§Ø¡",
                icon: "ğŸ“",
                badge: "ğŸ…",
                description: "ØªØ¹Ù„Ù… Ø£Ù†ÙˆØ§Ø¹ Ø§Ù„Ø£Ø³Ù…Ø§Ø¡ ÙˆØ¥Ø¹Ø±Ø§Ø¨Ù‡Ø§",
                questions: [
                    {
                        question: "Ù…Ø§ Ø¥Ø¹Ø±Ø§Ø¨ ÙƒÙ„Ù…Ø© 'Ù…Ø­Ù…Ø¯ÙŒ' ÙÙŠ Ø¬Ù…Ù„Ø©: 'Ù…Ø­Ù…Ø¯ÙŒ Ø·Ø§Ù„Ø¨ÙŒ Ù…Ø¬ØªÙ‡Ø¯ÙŒ'ØŸ",
                        answers: ["Ù…Ø¨ØªØ¯Ø£ Ù…Ø±ÙÙˆØ¹", "ÙØ§Ø¹Ù„ Ù…Ø±ÙÙˆØ¹", "Ø®Ø¨Ø± Ù…Ø±ÙÙˆØ¹", "Ù…ÙØ¹ÙˆÙ„ Ø¨Ù‡ Ù…Ù†ØµÙˆØ¨"],
                        correct: 0
                    },
                    {
                        question: "Ø£ÙŠ Ù…Ù† Ø§Ù„ÙƒÙ„Ù…Ø§Øª Ø§Ù„ØªØ§Ù„ÙŠØ© Ø§Ø³Ù… Ù†ÙƒØ±Ø©ØŸ",
                        answers: ["Ù…Ø­Ù…Ø¯", "ÙƒØªØ§Ø¨", "Ø§Ù„Ù…Ø¯Ø±Ø³Ø©", "ÙØ§Ø·Ù…Ø©"],
                        correct: 1
                    },
                    {
                        question: "Ù…Ø§ Ù†ÙˆØ¹ Ø§Ù„Ø§Ø³Ù… 'Ø§Ù„Ù‚Ø§Ù‡Ø±Ø©'ØŸ",
                        answers: ["Ø§Ø³Ù… Ø¹Ù„Ù…", "Ø§Ø³Ù… Ù†ÙƒØ±Ø©", "Ø§Ø³Ù… ÙØ¹Ù„", "Ø§Ø³Ù… Ø¥Ø´Ø§Ø±Ø©"],
                        correct: 0
                    },
                    {
                        question: "Ù…Ø§ Ø¹Ù„Ø§Ù…Ø© Ø±ÙØ¹ 'Ø§Ù„Ù…Ø¹Ù„Ù…ÙˆÙ†' ÙÙŠ Ø¬Ù…Ù„Ø©: 'Ø§Ù„Ù…Ø¹Ù„Ù…ÙˆÙ† Ù†Ø´ÙŠØ·ÙˆÙ†'ØŸ",
                        answers: ["Ø§Ù„Ø¶Ù…Ø©", "Ø§Ù„ÙˆØ§Ùˆ", "Ø§Ù„Ø£Ù„Ù", "Ø§Ù„ÙƒØ³Ø±Ø©"],
                        correct: 1
                    },
                    {
                        question: "Ø£ÙŠ Ù…Ù† Ø§Ù„ÙƒÙ„Ù…Ø§Øª Ø§Ù„ØªØ§Ù„ÙŠØ© Ø§Ø³Ù… Ù…Ø¤Ù†Ø«ØŸ",
                        answers: ["Ø·Ø§Ù„Ø¨", "ÙƒØªØ§Ø¨", "Ù…Ø¯Ø±Ø³Ø©", "Ù‚Ù„Ù…"],
                        correct: 2
                    }
                ]
            },
            {
                id: 2,
                name: "Ù…Ù‚Ø§Ø·Ø¹Ø© Ø§Ù„Ø£ÙØ¹Ø§Ù„",
                icon: "âš”ï¸",
                badge: "ğŸ–ï¸",
                description: "Ø§Ø³ØªÙƒØ´Ù Ø£Ù†ÙˆØ§Ø¹ Ø§Ù„Ø£ÙØ¹Ø§Ù„ ÙˆØ£Ø²Ù…Ù†ØªÙ‡Ø§",
                questions: [
                    {
                        question: "Ù…Ø§ Ù†ÙˆØ¹ Ø§Ù„ÙØ¹Ù„ 'ÙƒØªØ¨'ØŸ",
                        answers: ["ÙØ¹Ù„ Ù…Ø§Ø¶Ù", "ÙØ¹Ù„ Ù…Ø¶Ø§Ø±Ø¹", "ÙØ¹Ù„ Ø£Ù…Ø±", "ÙØ¹Ù„ Ù†Ø§Ø³Ø®"],
                        correct: 0
                    },
                    {
                        question: "Ø£ÙŠ Ù…Ù† Ø§Ù„Ø£ÙØ¹Ø§Ù„ Ø§Ù„ØªØ§Ù„ÙŠØ© ÙØ¹Ù„ Ø£Ù…Ø±ØŸ",
                        answers: ["ÙŠØ¯Ø±Ø³", "Ø¯Ø±Ø³", "Ø§Ø¯Ø±Ø³", "Ø³ÙŠØ¯Ø±Ø³"],
                        correct: 2
                    },
                    {
                        question: "Ù…Ø§ Ø¹Ù„Ø§Ù…Ø© Ø±ÙØ¹ Ø§Ù„ÙØ¹Ù„ 'ÙŠÙƒØªØ¨ÙˆÙ†'ØŸ",
                        answers: ["Ø§Ù„Ø¶Ù…Ø©", "Ø«Ø¨ÙˆØª Ø§Ù„Ù†ÙˆÙ†", "Ø§Ù„ÙˆØ§Ùˆ", "Ø§Ù„Ø³ÙƒÙˆÙ†"],
                        correct: 1
                    },
                    {
                        question: "Ø£ÙŠ ÙØ¹Ù„ Ù…Ù† Ø§Ù„Ø£ÙØ¹Ø§Ù„ Ø§Ù„Ø®Ù…Ø³Ø©ØŸ",
                        answers: ["ÙŠÙƒØªØ¨", "ÙƒØªØ¨", "ÙŠÙƒØªØ¨Ø§Ù†", "Ø§ÙƒØªØ¨"],
                        correct: 2
                    },
                    {
                        question: "Ù…Ø§ Ù†ÙˆØ¹ Ø§Ù„ÙØ¹Ù„ 'ÙƒØ§Ù†' ÙÙŠ 'ÙƒØ§Ù† Ø§Ù„Ø·Ù‚Ø³ Ø¬Ù…ÙŠÙ„Ø§Ù‹'ØŸ",
                        answers: ["ÙØ¹Ù„ Ù…Ø§Ø¶Ù Ø¹Ø§Ø¯ÙŠ", "ÙØ¹Ù„ Ù†Ø§Ø³Ø®", "ÙØ¹Ù„ Ø£Ù…Ø±", "ÙØ¹Ù„ Ù…Ø¶Ø§Ø±Ø¹"],
                        correct: 1
                    }
                ]
            },
            {
                id: 3,
                name: "Ù…Ù‚Ø§Ø·Ø¹Ø© Ø§Ù„Ø­Ø±ÙˆÙ",
                icon: "âœ¨",
                badge: "ğŸ’«",
                description: "ØªØ¹Ø±Ù Ø¹Ù„Ù‰ Ø­Ø±ÙˆÙ Ø§Ù„Ø¬Ø± ÙˆØ§Ù„Ø¹Ø·Ù ÙˆØ§Ù„Ù†ØµØ¨",
                questions: [
                    {
                        question: "Ø£ÙŠ Ù…Ù† Ø§Ù„ØªØ§Ù„ÙŠ Ø­Ø±Ù Ø¬Ø±ØŸ",
                        answers: ["Ùˆ", "Ù…Ù†", "Ù„Ù†", "Ù‡Ù„"],
                        correct: 1
                    },
                    {
                        question: "Ù…Ø§ Ø¹Ù…Ù„ Ø­Ø±Ù 'Ø¥Ù†'ØŸ",
                        answers: ["ÙŠØ±ÙØ¹ Ø§Ù„Ù…Ø¨ØªØ¯Ø£", "ÙŠÙ†ØµØ¨ Ø§Ù„Ù…Ø¨ØªØ¯Ø£ ÙˆÙŠØ±ÙØ¹ Ø§Ù„Ø®Ø¨Ø±", "Ù„Ø§ ÙŠØ¹Ù…Ù„ Ø´ÙŠØ¦Ø§Ù‹", "ÙŠØ¬Ø²Ù… Ø§Ù„ÙØ¹Ù„"],
                        correct: 1
                    },
                    {
                        question: "Ø£ÙŠ Ø­Ø±Ù ÙŠÙÙŠØ¯ Ø§Ù„Ø¹Ø·Ù ÙˆØ§Ù„ØªØ±ØªÙŠØ¨ ÙˆØ§Ù„ØªØ¹Ù‚ÙŠØ¨ØŸ",
                        answers: ["Ùˆ", "Ø«Ù…", "Ù", "Ø£Ùˆ"],
                        correct: 2
                    },
                    {
                        question: "Ù…Ø§ Ø§Ù„Ø­Ø±Ù Ø§Ù„Ø°ÙŠ ÙŠÙ†ØµØ¨ Ø§Ù„ÙØ¹Ù„ Ø§Ù„Ù…Ø¶Ø§Ø±Ø¹ØŸ",
                        answers: ["Ù‚Ø¯", "Ù„Ù†", "Ø³ÙˆÙ", "Ø§Ù„Ø³ÙŠÙ†"],
                        correct: 1
                    },
                    {
                        question: "Ø£ÙŠ Ù…Ù† Ø­Ø±ÙˆÙ Ø§Ù„Ø¬Ø± ÙŠÙÙŠØ¯ Ø§Ù„ØªØ¨Ø¹ÙŠØ¶ØŸ",
                        answers: ["Ø¹Ù„Ù‰", "ÙÙŠ", "Ù…Ù†", "Ø¥Ù„Ù‰"],
                        correct: 2
                    }
                ]
            },
            {
                id: 4,
                name: "Ù…Ù‚Ø§Ø·Ø¹Ø© Ø§Ù„Ø¬Ù…Ù„",
                icon: "ğŸ›ï¸",
                badge: "ğŸ”±",
                description: "Ø§ÙÙ‡Ù… ØªØ±ÙƒÙŠØ¨ Ø§Ù„Ø¬Ù…Ù„Ø© Ø§Ù„Ø§Ø³Ù…ÙŠØ© ÙˆØ§Ù„ÙØ¹Ù„ÙŠØ©",
                questions: [
                    {
                        question: "Ù…Ø§ Ù†ÙˆØ¹ Ø§Ù„Ø¬Ù…Ù„Ø© 'Ø§Ù„Ø³Ù…Ø§Ø¡ ØµØ§ÙÙŠØ©'ØŸ",
                        answers: ["Ø¬Ù…Ù„Ø© ÙØ¹Ù„ÙŠØ©", "Ø¬Ù…Ù„Ø© Ø§Ø³Ù…ÙŠØ©", "Ø´Ø¨Ù‡ Ø¬Ù…Ù„Ø©", "Ø¬Ù…Ù„Ø© Ø´Ø±Ø·ÙŠØ©"],
                        correct: 1
                    },
                    {
                        question: "Ù…Ø§ Ø±ÙƒÙ†Ø§ Ø§Ù„Ø¬Ù…Ù„Ø© Ø§Ù„ÙØ¹Ù„ÙŠØ©ØŸ",
                        answers: ["Ù…Ø¨ØªØ¯Ø£ ÙˆØ®Ø¨Ø±", "ÙØ¹Ù„ ÙˆÙØ§Ø¹Ù„", "ÙØ¹Ù„ ÙˆÙ…ÙØ¹ÙˆÙ„", "Ø§Ø³Ù… ÙˆÙØ¹Ù„"],
                        correct: 1
                    },
                    {
                        question: "ÙÙŠ Ø¬Ù…Ù„Ø© 'Ø§Ù„Ø·Ø§Ù„Ø¨ ÙŠØ¯Ø±Ø³ Ø§Ù„Ø¯Ø±Ø³' - Ù…Ø§ Ù…ÙˆÙ‚Ø¹ 'ÙŠØ¯Ø±Ø³ Ø§Ù„Ø¯Ø±Ø³'ØŸ",
                        answers: ["Ø®Ø¨Ø±", "ÙØ¹Ù„", "ÙØ§Ø¹Ù„", "Ù…ÙØ¹ÙˆÙ„ Ø¨Ù‡"],
                        correct: 0
                    },
                    {
                        question: "Ù…Ø§ Ø¥Ø¹Ø±Ø§Ø¨ 'Ø¬Ù…ÙŠÙ„Ø©' ÙÙŠ 'Ø§Ù„Ø­Ø¯ÙŠÙ‚Ø© Ø¬Ù…ÙŠÙ„Ø©'ØŸ",
                        answers: ["Ù…Ø¨ØªØ¯Ø£", "Ø®Ø¨Ø± Ù…Ø±ÙÙˆØ¹", "ÙØ§Ø¹Ù„", "ØµÙØ©"],
                        correct: 1
                    },
                    {
                        question: "Ø£ÙŠ Ù…Ù† Ø§Ù„Ø¬Ù…Ù„ Ø§Ù„ØªØ§Ù„ÙŠØ© Ø¬Ù…Ù„Ø© ÙØ¹Ù„ÙŠØ©ØŸ",
                        answers: ["Ø§Ù„ÙƒØªØ§Ø¨ Ù…ÙÙŠØ¯", "Ù‚Ø±Ø£ Ø£Ø­Ù…Ø¯", "Ø§Ù„Ù†Ø¬ÙˆÙ… Ù„Ø§Ù…Ø¹Ø©", "Ù‡Ø°Ø§ Ø¬Ù…ÙŠÙ„"],
                        correct: 1
                    }
                ]
            },
            {
                id: 5,
                name: "Ù…Ù‚Ø§Ø·Ø¹Ø© Ø§Ù„Ø¥Ø¹Ø±Ø§Ø¨",
                icon: "ğŸ¯",
                badge: "â­",
                description: "Ø£ØªÙ‚Ù† Ø¹Ù„Ø§Ù…Ø§Øª Ø§Ù„Ø¥Ø¹Ø±Ø§Ø¨ ÙˆØ§Ù„Ø¨Ù†Ø§Ø¡",
                questions: [
                    {
                        question: "Ù…Ø§ Ø¹Ù„Ø§Ù…Ø© Ø¬Ø± Ø§Ù„Ø§Ø³Ù… Ø§Ù„Ù…ÙØ±Ø¯ØŸ",
                        answers: ["Ø§Ù„ÙØªØ­Ø©", "Ø§Ù„Ø¶Ù…Ø©", "Ø§Ù„ÙƒØ³Ø±Ø©", "Ø§Ù„Ø³ÙƒÙˆÙ†"],
                        correct: 2
                    },
                    {
                        question: "Ù…Ø§ Ø¹Ù„Ø§Ù…Ø© Ù†ØµØ¨ Ø¬Ù…Ø¹ Ø§Ù„Ù…Ø¤Ù†Ø« Ø§Ù„Ø³Ø§Ù„Ù…ØŸ",
                        answers: ["Ø§Ù„ÙØªØ­Ø©", "Ø§Ù„ÙƒØ³Ø±Ø©", "Ø§Ù„ÙŠØ§Ø¡", "Ø§Ù„Ø£Ù„Ù"],
                        correct: 1
                    },
                    {
                        question: "Ù…Ø§ Ø­Ø±ÙƒØ© Ø§Ù„ÙØ¹Ù„ Ø§Ù„Ù…Ø§Ø¶ÙŠ 'ÙƒØªØ¨Ù'ØŸ",
                        answers: ["Ù…Ø¨Ù†ÙŠ Ø¹Ù„Ù‰ Ø§Ù„Ø¶Ù…", "Ù…Ø¨Ù†ÙŠ Ø¹Ù„Ù‰ Ø§Ù„ÙØªØ­", "Ù…Ø¨Ù†ÙŠ Ø¹Ù„Ù‰ Ø§Ù„Ø³ÙƒÙˆÙ†", "Ù…Ø¹Ø±Ø¨ Ù…Ø±ÙÙˆØ¹"],
                        correct: 1
                    },
                    {
                        question: "Ù…Ø§ Ø¹Ù„Ø§Ù…Ø© Ø±ÙØ¹ Ø§Ù„Ù…Ø«Ù†Ù‰ØŸ",
                        answers: ["Ø§Ù„ÙˆØ§Ùˆ", "Ø§Ù„Ø£Ù„Ù", "Ø§Ù„Ù†ÙˆÙ†", "Ø§Ù„Ø¶Ù…Ø©"],
                        correct: 1
                    },
                    {
                        question: "Ø£ÙŠ Ù…Ù† Ø§Ù„ÙƒÙ„Ù…Ø§Øª Ù…Ø¨Ù†ÙŠØ©ØŸ",
                        answers: ["Ø§Ù„Ø·Ø§Ù„Ø¨", "Ù‡Ø°Ø§", "ÙƒØªØ§Ø¨", "Ù…Ø¹Ù„Ù…Ø©"],
                        correct: 1
                    }
                ]
            },
            {
                id: 6,
                name: "Ù…Ù‚Ø§Ø·Ø¹Ø© Ø§Ù„ØªÙˆØ§Ø¨Ø¹",
                icon: "ğŸŒŸ",
                badge: "ğŸ’",
                description: "ØªØ¹Ù„Ù… Ø§Ù„Ù†Ø¹Øª ÙˆØ§Ù„Ø¹Ø·Ù ÙˆØ§Ù„Ø¨Ø¯Ù„ ÙˆØ§Ù„ØªÙˆÙƒÙŠØ¯",
                questions: [
                    {
                        question: "Ù…Ø§ Ø¥Ø¹Ø±Ø§Ø¨ 'Ø§Ù„Ø¬Ù…ÙŠÙ„' ÙÙŠ 'Ù‚Ø±Ø£Øª Ø§Ù„ÙƒØªØ§Ø¨ Ø§Ù„Ø¬Ù…ÙŠÙ„'ØŸ",
                        answers: ["Ø®Ø¨Ø±", "Ù†Ø¹Øª", "Ù…ÙØ¹ÙˆÙ„ Ø¨Ù‡", "Ø¨Ø¯Ù„"],
                        correct: 1
                    },
                    {
                        question: "Ù…Ø§ Ø§Ù„Ø­Ø±Ù Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ÙÙŠ Ø§Ù„Ø¹Ø·Ù 'Ø¬Ø§Ø¡ Ù…Ø­Ù…Ø¯ Ùˆ Ø¹Ù„ÙŠ'ØŸ",
                        answers: ["Ø§Ù„ÙˆØ§Ùˆ", "Ø§Ù„ÙØ§Ø¡", "Ø«Ù…", "Ø£Ùˆ"],
                        correct: 0
                    },
                    {
                        question: "Ø£ÙŠ Ù…Ù† Ø§Ù„ØªØ§Ù„ÙŠ ØªÙˆÙƒÙŠØ¯ Ù„ÙØ¸ÙŠØŸ",
                        answers: ["Ø§Ù„ÙƒØªØ§Ø¨ Ù†ÙØ³Ù‡", "Ø¬Ø§Ø¡ Ø¬Ø§Ø¡ Ù…Ø­Ù…Ø¯", "Ø§Ù„Ù…Ø¹Ù„Ù… Ø§Ù„Ù…Ø¬ØªÙ‡Ø¯", "Ø§Ù„Ù‚Ù„Ù… Ø§Ù„Ø£Ø²Ø±Ù‚"],
                        correct: 1
                    },
                    {
                        question: "Ø§Ù„Ù†Ø¹Øª ÙŠØªØ¨Ø¹ Ø§Ù„Ù…Ù†Ø¹ÙˆØª ÙÙŠ:",
                        answers: ["Ø§Ù„Ø¥Ø¹Ø±Ø§Ø¨ ÙÙ‚Ø·", "Ø§Ù„Ø¥Ø¹Ø±Ø§Ø¨ ÙˆØ§Ù„Ø¹Ø¯Ø¯", "Ø§Ù„Ø¥Ø¹Ø±Ø§Ø¨ ÙˆØ§Ù„ØªØ¹Ø±ÙŠÙ ÙˆØ§Ù„ØªÙ†ÙƒÙŠØ± ÙˆØ§Ù„Ø¹Ø¯Ø¯", "Ø§Ù„ØªØ¹Ø±ÙŠÙ ÙÙ‚Ø·"],
                        correct: 2
                    },
                    {
                        question: "Ù…Ø§ Ù†ÙˆØ¹ Ø§Ù„Ø¨Ø¯Ù„ ÙÙŠ 'Ù‚Ø±Ø£Øª Ø§Ù„ÙƒØªØ§Ø¨ Ù†ØµÙÙ‡'ØŸ",
                        answers: ["Ø¨Ø¯Ù„ ÙƒÙ„ Ù…Ù† ÙƒÙ„", "Ø¨Ø¯Ù„ Ø¨Ø¹Ø¶ Ù…Ù† ÙƒÙ„", "Ø¨Ø¯Ù„ Ø§Ø´ØªÙ…Ø§Ù„", "Ø¨Ø¯Ù„ Ù…Ø·Ø§Ø¨Ù‚"],
                        correct: 1
                    }
                ]
            },
            {
                id: 7,
                name: "Ù…Ù‚Ø§Ø·Ø¹Ø© Ø§Ù„Ø£Ø³Ø§Ù„ÙŠØ¨",
                icon: "ğŸ­",
                badge: "ğŸ‘‘",
                description: "Ø§ÙƒØªØ´Ù Ø£Ø³Ø§Ù„ÙŠØ¨ Ø§Ù„Ù†Ø¯Ø§Ø¡ ÙˆØ§Ù„Ø§Ø³ØªÙÙ‡Ø§Ù… ÙˆØ§Ù„Ù†ÙÙŠ",
                questions: [
                    {
                        question: "Ù…Ø§ Ø£Ø¯Ø§Ø© Ø§Ù„Ù†Ø¯Ø§Ø¡ ÙÙŠ 'ÙŠØ§ Ù…Ø­Ù…Ø¯'ØŸ",
                        answers: ["Ø§Ù„ÙŠØ§Ø¡", "ÙŠØ§", "Ø£ÙŠØ§", "Ø§Ù„Ù‡Ù…Ø²Ø©"],
                        correct: 1
                    },
                    {
                        question: "Ø£ÙŠ Ù…Ù† Ø£Ø¯ÙˆØ§Øª Ø§Ù„Ø§Ø³ØªÙÙ‡Ø§Ù… ØªØ³ØªØ®Ø¯Ù… Ù„Ù„Ø¹Ø§Ù‚Ù„ØŸ",
                        answers: ["Ù…Ø§", "Ù…Ù†", "Ø£ÙŠÙ†", "Ù…ØªÙ‰"],
                        correct: 1
                    },
                    {
                        question: "Ù…Ø§ Ø£Ø¯Ø§Ø© Ø§Ù„Ù†ÙÙŠ ÙÙŠ 'Ù„Ù… ÙŠØ­Ø¶Ø± Ø§Ù„Ø·Ø§Ù„Ø¨'ØŸ",
                        answers: ["Ù„Ø§", "Ù„Ù†", "Ù„Ù…", "Ù…Ø§"],
                        correct: 2
                    },
                    {
                        question: "Ù…Ø§ Ù†ÙˆØ¹ Ø§Ù„Ø£Ø³Ù„ÙˆØ¨ 'Ù…Ø§ Ø£Ø¬Ù…Ù„ Ø§Ù„Ø³Ù…Ø§Ø¡!'ØŸ",
                        answers: ["Ø§Ø³ØªÙÙ‡Ø§Ù…", "ØªØ¹Ø¬Ø¨", "Ù†Ø¯Ø§Ø¡", "Ù†ÙÙŠ"],
                        correct: 1
                    },
                    {
                        question: "Ø£ÙŠ Ø£Ø¯Ø§Ø© ØªÙÙŠØ¯ Ø§Ù„Ø§Ø³ØªÙÙ‡Ø§Ù… Ø¹Ù† Ø§Ù„Ù…ÙƒØ§Ù†ØŸ",
                        answers: ["Ù…ØªÙ‰", "ÙƒÙŠÙ", "Ø£ÙŠÙ†", "Ù…Ù†"],
                        correct: 2
                    }
                ]
            },
            {
                id: 8,
                name: "Ù…Ù‚Ø§Ø·Ø¹Ø© Ø§Ù„ØµØ±Ù",
                icon: "ğŸ”®",
                badge: "ğŸ†",
                description: "ÙÙ‡Ù… Ø§Ù„Ù…ÙŠØ²Ø§Ù† Ø§Ù„ØµØ±ÙÙŠ ÙˆØ§Ù„Ù…Ø´ØªÙ‚Ø§Øª",
                questions: [
                    {
                        question: "Ù…Ø§ ÙˆØ²Ù† ÙƒÙ„Ù…Ø© 'ÙƒØªØ§Ø¨'ØŸ",
                        answers: ["ÙÙØ¹ÙÙ„", "ÙÙØ¹ÙØ§Ù„", "ÙÙØ¹Ù’Ù„", "Ù…ÙÙÙ’Ø¹ÙÙ„"],
                        correct: 1
                    },
                    {
                        question: "Ù…Ø§ Ù†ÙˆØ¹ 'Ù…ÙƒØªØ¨' Ù…Ù† Ø§Ù„Ù…Ø´ØªÙ‚Ø§ØªØŸ",
                        answers: ["Ø§Ø³Ù… ÙØ§Ø¹Ù„", "Ø§Ø³Ù… Ù…ÙØ¹ÙˆÙ„", "Ø§Ø³Ù… Ù…ÙƒØ§Ù†", "ØµÙØ© Ù…Ø´Ø¨Ù‡Ø©"],
                        correct: 2
                    },
                    {
                        question: "Ù…Ø§ Ø§Ù„Ø¬Ø°Ø± Ø§Ù„Ù„ØºÙˆÙŠ Ù„ÙƒÙ„Ù…Ø© 'Ø§Ø³ØªØ®Ø±Ø¬'ØŸ",
                        answers: ["Ø³ Ø® Ø±", "Ø® Ø± Ø¬", "Ø³ Øª Ø®", "Ø± Ø¬ Ø®"],
                        correct: 1
                    },
                    {
                        question: "Ø£ÙŠ Ù…Ù† Ø§Ù„ÙƒÙ„Ù…Ø§Øª Ø§Ø³Ù… ÙØ§Ø¹Ù„ØŸ",
                        answers: ["Ù…ÙƒØªÙˆØ¨", "ÙƒØ§ØªØ¨", "Ù…ÙƒØªØ¨", "ÙƒØªØ§Ø¨Ø©"],
                        correct: 1
                    },
                    {
                        question: "Ù…Ø§ ÙˆØ²Ù† 'Ù…Ø¹Ù„Ù…' (Ù…Ù† Ø¹Ù„ÙÙ‘Ù…)ØŸ",
                        answers: ["ÙØ§Ø¹Ù„", "Ù…ÙÙÙØ¹ÙÙ‘Ù„", "Ù…ÙÙÙ’Ø¹ÙÙˆÙ„", "ÙÙØ¹ÙÙŠÙ„"],
                        correct: 1
                    }
                ]
            }
        ];

        let playerData = {
            totalScore: 0,
            badgesEarned: 0,
            completedProvinces: [],
            rank: "Ù…Ø¨ØªØ¯Ø¦ Ø§Ù„Ù†Ø­Ùˆ"
        };

        let currentProvince = null;
        let currentQuestionIndex = 0;
        let currentScore = 0;
        let selectedAnswer = null;

        function initGame() {
            loadPlayerData();
            renderProvinces();
            renderBadges();
            updateStats();
        }

        function loadPlayerData() {
            const saved = localStorage.getItem('grammarKingdomData');
            if (saved) {
                playerData = JSON.parse(saved);
            }
        }

        function savePlayerData() {
            localStorage.setItem('grammarKingdomData', JSON.stringify(playerData));
        }

        function renderProvinces() {
            const grid = document.getElementById('provincesGrid');
            grid.innerHTML = '';

            provinces.forEach(province => {
                const isCompleted = playerData.completedProvinces.includes(province.id);
                const card = document.createElement('div');
                card.className = `province-card ${isCompleted ? 'completed' : ''}`;
                
                card.innerHTML = `
                    <div class="province-header">
                        <div class="province-icon">${province.icon}</div>
                        <div class="province-title">
                            <h2>${province.name}</h2>
                            <div class="province-progress">${isCompleted ? 'Ù…ÙƒØªÙ…Ù„Ø© âœ“' : 'Ù„Ù… ØªØ¨Ø¯Ø£'}</div>
                        </div>
                        <div class="badge ${isCompleted ? 'earned' : ''}">${province.badge}</div>
                    </div>
                    <div class="province-description">${province.description}</div>
                    <button class="start-btn" onclick="startProvince(${province.id})" ${isCompleted ? '' : ''}>
                        ${isCompleted ? 'Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø©' : 'Ø§Ø¨Ø¯Ø£ Ø§Ù„ØªØ­Ø¯ÙŠ'}
                    </button>
                `;
                
                grid.appendChild(card);
            });
        }

        function renderBadges() {
            const grid = document.getElementById('badgesGrid');
            grid.innerHTML = '';

            provinces.forEach(province => {
                const isEarned = playerData.completedProvinces.includes(province.id);
                const badgeItem = document.createElement('div');
                badgeItem.className = 'badge-item';
                
                badgeItem.innerHTML = `
                    <div class="badge ${isEarned ? 'earned' : ''}">${province.badge}</div>
                    <div class="badge-name">${province.name.replace('Ù…Ù‚Ø§Ø·Ø¹Ø© ', '')}</div>
                `;
                
                grid.appendChild(badgeItem);
            });
        }

        function updateStats() {
            document.getElementById('totalBadges').textContent = `${playerData.badgesEarned}/8`;
            document.getElementById('totalScore').textContent = playerData.totalScore;
            document.getElementById('knightRank').textContent = playerData.rank;
        }

        function updateRank() {
            if (playerData.badgesEarned >= 8) {
                playerData.rank = "ÙØ§Ø±Ø³ Ø§Ù„Ù†Ø­Ùˆ Ø§Ù„Ø£Ø¹Ø¸Ù… ğŸ‡ğŸ‘‘";
            } else if (playerData.badgesEarned >= 6) {
                playerData.rank = "ÙØ§Ø±Ø³ Ø§Ù„Ù†Ø­Ùˆ ğŸ‡";
            } else if (playerData.badgesEarned >= 4) {
                playerData.rank = "Ù…Ø­Ø§Ø±Ø¨ Ø§Ù„Ù†Ø­Ùˆ âš”ï¸";
            } else if (playerData.badgesEarned >= 2) {
                playerData.rank = "Ù…ØªØ¯Ø±Ø¨ Ø§Ù„Ù†Ø­Ùˆ ğŸ›¡ï¸";
            } else {
                playerData.rank = "Ù…Ø¨ØªØ¯Ø¦ Ø§Ù„Ù†Ø­Ùˆ ğŸ“–";
            }
        }

        function startProvince(provinceId) {
            currentProvince = provinces.find(p => p.id === provinceId);
            currentQuestionIndex = 0;
            currentScore = 0;
            selectedAnswer = null;
            
            document.getElementById('quizModal').classList.add('active');
            showQuestion();
        }

        function showQuestion() {
            const question = currentProvince.questions[currentQuestionIndex];
            const container = document.getElementById('quizContainer');
            
            container.innerHTML = `
                <div class="question-header">
                    <div class="question-number">Ø§Ù„Ø³Ø¤Ø§Ù„ ${currentQuestionIndex + 1} Ù…Ù† ${currentProvince.questions.length}</div>
                    <h2 class="question-text">${question.question}</h2>
                </div>
                <div class="answers-grid" id="answersGrid"></div>
                <button class="submit-answer-btn" id="submitBtn" onclick="checkAnswer()" disabled>ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø©</button>
                <div class="feedback" id="feedback"></div>
            `;

            const answersGrid = document.getElementById('answersGrid');
            question.answers.forEach((answer, index) => {
                const btn = document.createElement('button');
                btn.className = 'answer-btn';
                btn.textContent = answer;
                btn.onclick = () => selectAnswer(index);
                answersGrid.appendChild(btn);
            });
        }

        function selectAnswer(index) {
            selectedAnswer = index;
            
            document.querySelectorAll('.answer-btn').forEach((btn, i) => {
                btn.classList.remove('selected');
                if (i === index) {
                    btn.classList.add('selected');
                }
            });
            
            document.getElementById('submitBtn').disabled = false;
        }

        function checkAnswer() {
            const question = currentProvince.questions[currentQuestionIndex];
            const feedback = document.getElementById('feedback');
            const submitBtn = document.getElementById('submitBtn');
            const answerBtns = document.querySelectorAll('.answer-btn');
            
            submitBtn.disabled = true;
            answerBtns.forEach(btn => btn.disabled = true);
            
            if (selectedAnswer === question.correct) {
                feedback.className = 'feedback correct show';
                feedback.innerHTML = 'ğŸ‰ Ø¥Ø¬Ø§Ø¨Ø© ØµØ­ÙŠØ­Ø©! Ø£Ø­Ø³Ù†Øª!';
                answerBtns[selectedAnswer].classList.add('correct');
                currentScore += 20;
            } else {
                feedback.className = 'feedback wrong show';
                feedback.innerHTML = 'âŒ Ø¥Ø¬Ø§Ø¨Ø© Ø®Ø§Ø·Ø¦Ø©. Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© Ø§Ù„ØµØ­ÙŠØ­Ø© Ù‡ÙŠ: ' + question.answers[question.correct];
                answerBtns[selectedAnswer].classList.add('wrong');
                answerBtns[question.correct].classList.add('correct');
            }
            
            if (currentQuestionIndex < currentProvince.questions.length - 1) {
                const nextBtn = document.createElement('button');
                nextBtn.className = 'next-question-btn';
                nextBtn.textContent = 'Ø§Ù„Ø³Ø¤Ø§Ù„ Ø§Ù„ØªØ§Ù„ÙŠ â†';
                nextBtn.onclick = nextQuestion;
                feedback.appendChild(nextBtn);
            } else {
                const nextBtn = document.createElement('button');
                nextBtn.className = 'next-question-btn';
                nextBtn.textContent = 'Ø¹Ø±Ø¶ Ø§Ù„Ù†ØªØ§Ø¦Ø¬';
                nextBtn.onclick = showResults;
                feedback.appendChild(nextBtn);
            }
        }

        function nextQuestion() {
            currentQuestionIndex++;
            selectedAnswer = null;
            showQuestion();
        }

        function showResults() {
            const container = document.getElementById('quizContainer');
            const percentage = (currentScore / 100) * 100;
            const passed = percentage >= 60;
            
            let message = '';
            let badgeEarned = false;
            
            if (passed && !playerData.completedProvinces.includes(currentProvince.id)) {
                playerData.completedProvinces.push(currentProvince.id);
                playerData.badgesEarned++;
                playerData.totalScore += currentScore;
                badgeEarned = true;
                updateRank();
                savePlayerData();
            }
            
            if (passed) {
                message = badgeEarned ? 'Ø±Ø§Ø¦Ø¹! Ù„Ù‚Ø¯ Ø­ØµÙ„Øª Ø¹Ù„Ù‰ Ù†ÙŠØ´Ø§Ù† Ø¬Ø¯ÙŠØ¯!' : 'Ù…Ù…ØªØ§Ø²! Ù„Ù‚Ø¯ Ø£ØªÙ…Ù…Øª Ù‡Ø°Ù‡ Ø§Ù„Ù…Ù‚Ø§Ø·Ø¹Ø© Ù…Ù† Ù‚Ø¨Ù„';
            } else {
                message = 'Ø­Ø§ÙˆÙ„ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰! ØªØ­ØªØ§Ø¬ 60% Ù„Ù„Ù†Ø¬Ø§Ø­';
            }
            
            container.innerHTML = `
                <div class="completion-screen">
                    <h2>${passed ? 'ğŸŠ ØªÙ‡Ø§Ù†ÙŠÙ†Ø§! ğŸŠ' : 'ğŸ’ª Ø§Ø³ØªÙ…Ø± ÙÙŠ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø©'}</h2>
                    <div class="score-display">${percentage}%</div>
                    <p style="font-size: 1.2em; margin: 20px 0;">${message}</p>
                    ${badgeEarned ? `<div class="new-badge">${currentProvince.badge}</div>` : ''}
                    <p style="color: #666; margin: 20px 0;">Ø§Ù„Ù†Ù‚Ø§Ø· Ø§Ù„Ù…ÙƒØªØ³Ø¨Ø©: ${currentScore}/100</p>
                    <button class="next-question-btn" onclick="closeQuiz(); renderProvinces(); renderBadges(); updateStats();">
                        Ø§Ù„Ø¹ÙˆØ¯Ø© Ø¥Ù„Ù‰ Ø§Ù„Ù…Ù…Ù„ÙƒØ©
                    </button>
                </div>
            `;
        }

        function closeQuiz() {
            document.getElementById('quizModal').classList.remove('active');
        }

        window.onload = initGame;
    </script>
</body>
</html>