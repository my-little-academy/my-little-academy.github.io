<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù…Ù…Ù„ÙƒØ© Ø§Ù„Ø¬Ù…ÙˆØ¹ Ø§Ù„Ø³Ø­Ø±ÙŠØ©</title>
    <style>
        body {
            font-family: 'Arial', sans-serif;
            background-color: #f0f8ff;
            margin: 0;
            padding: 0;
            color: #333;
            background-image: url('https://img.freepik.com/free-vector/hand-drawn-arabic-pattern-background_23-2149430436.jpg');
            background-size: cover;
        }
        
        .container {
            max-width: 900px;
            margin: 0 auto;
            padding: 20px;
            background-color: rgba(255, 255, 255, 0.9);
            border-radius: 15px;
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.2);
            margin-top: 30px;
            margin-bottom: 30px;
        }
        
        h1 {
            color: #8B4513;
            text-align: center;
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
        }
        
        .intro {
            text-align: center;
            margin-bottom: 30px;
            font-size: 1.2em;
            line-height: 1.6;
        }
        
        .level-selection {
            text-align: center;
            margin-bottom: 20px;
        }
        
        .level-btn {
            background-color: #4CAF50;
            color: white;
            border: none;
            padding: 10px 20px;
            margin: 5px;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .level-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 0 10px rgba(0,0,0,0.2);
        }
        
        .level-btn.easy {
            background-color: #4CAF50;
        }
        
        .level-btn.medium {
            background-color: #FF9800;
        }
        
        .level-btn.hard {
            background-color: #F44336;
        }
        
        .character-selection {
            display: flex;
            justify-content: space-around;
            margin-bottom: 30px;
            flex-wrap: wrap;
        }
        
        .character {
            cursor: pointer;
            text-align: center;
            padding: 15px;
            border-radius: 10px;
            transition: all 0.3s;
            width: 150px;
            margin: 10px;
        }
        
        .character:hover {
            transform: scale(1.1);
            background-color: #f0e6ff;
        }
        
        .character img {
            width: 100px;
            height: 100px;
            object-fit: contain;
        }
        
        .character.selected {
            background-color: #d4b5ff;
            box-shadow: 0 0 15px #8a2be2;
        }
        
        .game-area {
            display: none;
            margin-top: 20px;
        }
        
        .island {
            background-color: #fff;
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            position: relative;
            overflow: hidden;
        }
        
        .island h2 {
            color: #fff;
            background-color: #4CAF50;
            padding: 10px;
            margin: -20px -20px 20px -20px;
            text-align: center;
        }
        
        .island.salim h2 {
            background-color: #2196F3;
        }
        
        .island.taksir h2 {
            background-color: #FF9800;
        }
        
        .island.monath h2 {
            background-color: #E91E63;
        }
        
        .question {
            font-size: 1.3em;
            margin-bottom: 15px;
            font-weight: bold;
        }
        
        .options {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 10px;
        }
        
        .option {
            background-color: #f5f5f5;
            padding: 10px 15px;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s;
            border: 2px solid #ddd;
        }
        
        .option:hover {
            background-color: #e0e0e0;
        }
        
        .option.selected {
            background-color: #4CAF50;
            color: white;
            border-color: #4CAF50;
        }
        
        .feedback {
            text-align: center;
            margin-top: 15px;
            font-weight: bold;
            min-height: 24px;
        }
        
        .correct {
            color: #4CAF50;
        }
        
        .incorrect {
            color: #F44336;
        }
        
        .progress-container {
            width: 100%;
            background-color: #ddd;
            border-radius: 10px;
            margin: 20px 0;
        }
        
        .progress-bar {
            height: 20px;
            background-color: #4CAF50;
            border-radius: 10px;
            width: 0%;
            transition: width 0.5s;
            text-align: center;
            color: white;
            line-height: 20px;
        }
        
        .treasure-map {
            display: none;
            text-align: center;
            margin: 20px 0;
        }
        
        .treasure-map img {
            max-width: 100%;
            height: auto;
            border-radius: 10px;
        }
        
        .final-battle {
            display: none;
            text-align: center;
            padding: 20px;
            background-color: #ffebee;
            border-radius: 15px;
            margin-top: 30px;
        }
        
        .monster {
            width: 150px;
            height: 150px;
            margin: 0 auto 20px;
            background-image: url('https://cdn-icons-png.flaticon.com/512/1864/1864593.png');
            background-size: contain;
            background-repeat: no-repeat;
            background-position: center;
            transition: all 0.5s;
        }
        
        .monster.weak {
            transform: scale(0.8);
            opacity: 0.7;
        }
        
        .monster.very-weak {
            transform: scale(0.6);
            opacity: 0.5;
        }
        
        .monster.defeated {
            transform: scale(0.3);
            opacity: 0.2;
        }
        
        .victory {
            display: none;
            text-align: center;
            padding: 30px;
            background-color: #e8f5e9;
            border-radius: 15px;
            margin-top: 30px;
        }
        
        .victory h2 {
            color: #2E7D32;
        }
        
        .jewel {
            font-size: 100px;
            margin: 20px 0;
            color: #FFD700;
            text-shadow: 0 0 10px rgba(255, 215, 0, 0.7);
        }
        
        button {
            background-color: #8B4513;
            color: white;
            border: none;
            padding: 12px 25px;
            font-size: 1.1em;
            border-radius: 30px;
            cursor: pointer;
            transition: all 0.3s;
            margin: 10px;
        }
        
        button:hover {
            background-color: #A0522D;
            transform: scale(1.05);
        }
        
        .badges {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 15px;
            margin-top: 20px;
        }
        
        .badge {
            background-color: #FFD700;
            color: #8B4513;
            padding: 8px 15px;
            border-radius: 20px;
            font-weight: bold;
            box-shadow: 0 3px 5px rgba(0, 0, 0, 0.2);
        }
        
        .score {
            font-size: 1.2em;
            margin: 10px 0;
            font-weight: bold;
            color: #8B4513;
        }
        
        @media (max-width: 768px) {
            .container {
                padding: 15px;
                margin: 15px;
            }
            
            .character {
                width: 120px;
            }
            
            .character img {
                width: 80px;
                height: 80px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Ù…Ù…Ù„ÙƒØ© Ø§Ù„Ø¬Ù…ÙˆØ¹ Ø§Ù„Ø³Ø­Ø±ÙŠØ©</h1>
        
        <div class="intro">
            <p>ÙÙŠ Ù…Ù…Ù„ÙƒØ© Ø§Ù„Ù„ØºØ© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©ØŒ Ø³ÙØ±Ù‚Øª "Ø¬ÙˆÙ‡Ø±Ø© Ø§Ù„Ù‚ÙˆØ§Ø¹Ø¯" Ù…Ù† Ù‚Ù„Ø¹Ø© Ø§Ù„Ù†Ø­Ùˆ Ø¨ÙˆØ§Ø³Ø·Ø© ÙˆØ­Ø´ Ø§Ù„ØªØ´ÙˆÙŠØ´!</p>
            <p>Ø³Ø§Ø¹Ø¯ Ø§Ù„Ø¨Ø·Ù„ ÙÙŠ Ø§Ø³ØªØ¹Ø§Ø¯Ø© Ø§Ù„Ø¬ÙˆÙ‡Ø±Ø© Ø¹Ø¨Ø± ØªØ¬Ù…ÙŠØ¹ Ù‚Ø·Ø¹Ù‡Ø§ Ø§Ù„Ù…Ø¨Ø¹Ø«Ø±Ø© ÙÙŠ Ø«Ù„Ø§Ø« Ø¬Ø²Ø± Ø³Ø­Ø±ÙŠØ©.</p>
        </div>
        
        <div class="level-selection" id="levelSelection">
            <h2>Ø§Ø®ØªØ± Ù…Ø³ØªÙˆÙ‰ Ø§Ù„ØµØ¹ÙˆØ¨Ø©:</h2>
            <button class="level-btn easy" onclick="selectLevel('easy')">Ø³Ù‡Ù„</button>
            <button class="level-btn medium" onclick="selectLevel('medium')">Ù…ØªÙˆØ³Ø·</button>
            <button class="level-btn hard" onclick="selectLevel('hard')">ØµØ¹Ø¨</button>
        </div>
        
        <h2 id="characterTitle" style="display: none;">Ø§Ø®ØªØ± Ø´Ø®ØµÙŠØªÙƒ:</h2>
        <div class="character-selection" id="characterSelection" style="display: none;">
            <div class="character" onclick="selectCharacter(this, 'knight')">
                <img src="https://cdn-icons-png.flaticon.com/512/3940/3940403.png" alt="ÙØ§Ø±Ø³">
                <p>Ø§Ù„ÙØ§Ø±Ø³ Ø§Ù„Ø´Ø¬Ø§Ø¹</p>
            </div>
            <div class="character" onclick="selectCharacter(this, 'princess')">
                <img src="https://cdn-icons-png.flaticon.com/512/3940/3940407.png" alt="Ø£Ù…ÙŠØ±Ø©">
                <p>Ø§Ù„Ø£Ù…ÙŠØ±Ø© Ø§Ù„Ø°ÙƒÙŠØ©</p>
            </div>
            <div class="character" onclick="selectCharacter(this, 'wizard')">
                <img src="https://cdn-icons-png.flaticon.com/512/3940/3940416.png" alt="Ø³Ø§Ø­Ø±">
                <p>Ø§Ù„Ø¹Ø§Ù„Ù… Ø§Ù„Ø­ÙƒÙŠÙ…</p>
            </div>
        </div>
        
        <div class="game-area" id="gameArea">
            <div class="score" id="scoreDisplay">Ø§Ù„Ù†Ù‚Ø§Ø·: 0</div>
            <div class="progress-container">
                <div class="progress-bar" id="progressBar">0%</div>
            </div>
            
            <div class="treasure-map" id="treasureMap">
                <img src="https://img.freepik.com/free-vector/hand-drawn-treasure-map_23-2149238426.jpg" alt="Ø®Ø±ÙŠØ·Ø© Ø§Ù„ÙƒÙ†Ø²">
                <p>Ù„Ù‚Ø¯ ÙˆØ¬Ø¯Øª Ø¬Ø²Ø¡Ù‹Ø§ Ù…Ù† Ø®Ø±ÙŠØ·Ø© Ø§Ù„ÙƒÙ†Ø²! ØªØ§Ø¨Ø¹ Ø§Ù„Ù…ØºØ§Ù…Ø±Ø© Ù„Ø§ÙƒØªØ´Ø§Ù Ø§Ù„Ù…Ø²ÙŠØ¯.</p>
            </div>
            
            <div class="island salim" id="islandSalim">
                <h2>Ø¬Ø²ÙŠØ±Ø© Ø§Ù„Ø¬Ù…Ø¹ Ø§Ù„Ø³Ø§Ù„Ù…</h2>
                <div class="question" id="questionSalim"></div>
                <div class="options" id="optionsSalim"></div>
                <div class="feedback" id="feedbackSalim"></div>
            </div>
            
            <div class="island taksir" id="islandTaksir">
                <h2>Ø¬Ø²ÙŠØ±Ø© Ø¬Ù…Ø¹ Ø§Ù„ØªÙƒØ³ÙŠØ±</h2>
                <div class="question" id="questionTaksir"></div>
                <div class="options" id="optionsTaksir"></div>
                <div class="feedback" id="feedbackTaksir"></div>
            </div>
            
            <div class="island monath" id="islandMonath">
                <h2>Ø¬Ø²ÙŠØ±Ø© Ø¬Ù…Ø¹ Ø§Ù„Ù…Ø¤Ù†Ø« Ø§Ù„Ø³Ø§Ù„Ù…</h2>
                <div class="question" id="questionMonath"></div>
                <div class="options" id="optionsMonath"></div>
                <div class="feedback" id="feedbackMonath"></div>
            </div>
            
            <div class="final-battle" id="finalBattle">
                <h2>Ø§Ù„Ù…ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠØ© Ù…Ø¹ ÙˆØ­Ø´ Ø§Ù„ØªØ´ÙˆÙŠØ´!</h2>
                <div class="monster" id="monster"></div>
                <div class="question" id="questionBattle"></div>
                <div class="options" id="optionsBattle"></div>
                <div class="feedback" id="feedbackBattle"></div>
            </div>
            
            <div class="victory" id="victory">
                <h2>Ù…Ø¨Ø±ÙˆÙƒ! Ù„Ù‚Ø¯ Ø§Ù†ØªØµØ±Øª!</h2>
                <div class="jewel">ğŸ’</div>
                <p>Ù„Ù‚Ø¯ Ø§Ø³ØªØ¹Ø¯Øª Ø¬ÙˆÙ‡Ø±Ø© Ø§Ù„Ù‚ÙˆØ§Ø¹Ø¯ ÙˆØ£Ù†Ù‚Ø°Øª Ù…Ù…Ù„ÙƒØ© Ø§Ù„Ù„ØºØ© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©!</p>
                <p id="finalScore"></p>
                
                <div class="badges" id="badgesEarned"></div>
                
                <button onclick="resetGame()">Ø§Ù„Ø¹Ø¨ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰</button>
            </div>
            
            <button onclick="nextQuestion()" id="nextBtn" style="display: none;">Ø§Ù„ØªØ§Ù„ÙŠ</button>
        </div>
    </div>

    <script>
        // Game data
        const questions = {
            easy: {
                salim: [
                    {
                        question: "Ù…Ø§ Ù‡Ùˆ Ø¬Ù…Ø¹ ÙƒÙ„Ù…Ø© 'Ù…ÙØ¹ÙÙ„Ù‘ÙÙ…'ØŸ",
                        options: ["Ù…ÙØ¹ÙÙ„Ù‘ÙÙ…ÙˆÙ†", "Ù…ÙØ¹ÙÙ„Ù‘ÙÙ…ÙŠÙ†", "Ù…ÙØ¹Ø§Ù„ÙÙ…", "Ù…ÙØ¹ÙÙ„Ù‘ÙÙ…Ø§Øª"],
                        answer: "Ù…ÙØ¹ÙÙ„Ù‘ÙÙ…ÙˆÙ†"
                    },
                    {
                        question: "Ù…Ø§ Ù‡Ùˆ Ø¬Ù…Ø¹ ÙƒÙ„Ù…Ø© 'Ø·Ø§Ù„ÙØ¨'ØŸ",
                        options: ["Ø·Ø§Ù„ÙØ¨ÙˆÙ†", "Ø·Ø§Ù„ÙØ¨Ø§Øª", "Ø·ÙÙ„Ù‘Ø§Ø¨", "Ø·Ø§Ù„ÙØ¨ÙŠÙ†"],
                        answer: "Ø·ÙÙ„Ù‘Ø§Ø¨"
                    },
                    {
                        question: "Ù…Ø§ Ù‡Ùˆ Ø¬Ù…Ø¹ ÙƒÙ„Ù…Ø© 'ÙƒØ§ØªÙØ¨'ØŸ",
                        options: ["ÙƒØ§ØªÙØ¨ÙˆÙ†", "ÙƒÙØªÙ‘Ø§Ø¨", "ÙƒØ§ØªÙØ¨Ø§Øª", "ÙƒØ§ØªÙØ¨ÙŠÙ†"],
                        answer: "ÙƒÙØªÙ‘Ø§Ø¨"
                    }
                ],
                taksir: [
                    {
                        question: "Ù…Ø§ Ù‡Ùˆ Ø¬Ù…Ø¹ ÙƒÙ„Ù…Ø© 'ÙƒÙØªØ§Ø¨'ØŸ",
                        options: ["ÙƒÙØªØ§Ø¨ÙˆÙ†", "ÙƒÙØªÙØ¨", "ÙƒÙØªØ§Ø¨Ø§Øª", "ÙƒÙØªØ§Ø¨ÙŠÙ†"],
                        answer: "ÙƒÙØªÙØ¨"
                    },
                    {
                        question: "Ù…Ø§ Ù‡Ùˆ Ø¬Ù…Ø¹ ÙƒÙ„Ù…Ø© 'Ø¨ÙÙŠØª'ØŸ",
                        options: ["Ø¨ÙÙŠÙˆØª", "Ø¨ÙÙŠØªÙˆÙ†", "Ø¨ÙÙŠØªØ§Øª", "Ø¨ÙÙŠØªÙŠÙ†"],
                        answer: "Ø¨ÙÙŠÙˆØª"
                    },
                    {
                        question: "Ù…Ø§ Ù‡Ùˆ Ø¬Ù…Ø¹ ÙƒÙ„Ù…Ø© 'Ù‚ÙÙ„ÙÙ…'ØŸ",
                        options: ["Ù‚ÙÙ„ÙÙ…ÙˆÙ†", "Ø£ÙÙ‚Ù„Ø§Ù…", "Ù‚ÙÙ„ÙÙ…Ø§Øª", "Ù‚ÙÙ„ÙÙ…ÙŠÙ†"],
                        answer: "Ø£ÙÙ‚Ù„Ø§Ù…"
                    }
                ],
                monath: [
                    {
                        question: "Ù…Ø§ Ù‡Ùˆ Ø¬Ù…Ø¹ ÙƒÙ„Ù…Ø© 'Ø´ÙØ¬ÙØ±Ø©'ØŸ",
                        options: ["Ø´ÙØ¬ÙØ±Ø§Øª", "Ø£ÙØ´Ø¬Ø§Ø±", "Ø´ÙØ¬ÙØ±ÙˆÙ†", "Ø´ÙØ¬ÙØ±ÙŠÙ†"],
                        answer: "Ø£ÙØ´Ø¬Ø§Ø±"
                    },
                    {
                        question: "Ù…Ø§ Ù‡Ùˆ Ø¬Ù…Ø¹ ÙƒÙ„Ù…Ø© 'Ø·Ø§Ù„ÙØ¨Ø©'ØŸ",
                        options: ["Ø·Ø§Ù„ÙØ¨Ø§Øª", "Ø·Ø§Ù„ÙØ¨ÙˆÙ†", "Ø·ÙÙ„Ù‘Ø§Ø¨", "Ø·Ø§Ù„ÙØ¨ÙŠÙ†"],
                        answer: "Ø·Ø§Ù„ÙØ¨Ø§Øª"
                    },
                    {
                        question: "Ù…Ø§ Ù‡Ùˆ Ø¬Ù…Ø¹ ÙƒÙ„Ù…Ø© 'Ù…ÙÙÙ’ØªØ§Ø­'ØŸ",
                        options: ["Ù…ÙÙØ§ØªÙŠØ­", "Ù…ÙÙÙ’ØªØ§Ø­Ø§Øª", "Ù…ÙÙÙ’ØªØ§Ø­ÙˆÙ†", "Ù…ÙÙÙ’ØªØ§Ø­ÙŠÙ†"],
                        answer: "Ù…ÙÙØ§ØªÙŠØ­"
                    }
                ],
                battle: [
                    {
                        question: "Ù…Ø§ Ù‡Ùˆ Ø¬Ù…Ø¹ ÙƒÙ„Ù…Ø© 'Ù…ÙÙ‡ÙÙ†Ù’Ø¯ÙØ³'ØŸ",
                        options: ["Ù…ÙÙ‡ÙÙ†Ù’Ø¯ÙØ³ÙˆÙ†", "Ù…ÙÙ‡ÙÙ†Ù’Ø¯ÙØ³Ø§Øª", "Ù…ÙÙ‡ÙÙ†Ø¯ÙØ³ÙŠÙ†", "Ù…ÙÙ‡ÙÙ†Ø¯ÙØ³ÙˆÙ†"],
                        answer: "Ù…ÙÙ‡ÙÙ†Ù’Ø¯ÙØ³ÙˆÙ†"
                    },
                    {
                        question: "Ù…Ø§ Ù‡Ùˆ Ø¬Ù…Ø¹ ÙƒÙ„Ù…Ø© 'Ø¹ÙØµÙ’ÙÙˆØ±'ØŸ",
                        options: ["Ø¹ÙØµÙ’ÙÙˆØ±Ø§Øª", "Ø¹ÙØµØ§ÙÙŠØ±", "Ø¹ÙØµÙ’ÙÙˆØ±ÙˆÙ†", "Ø¹ÙØµÙ’ÙÙˆØ±ÙŠÙ†"],
                        answer: "Ø¹ÙØµØ§ÙÙŠØ±"
                    },
                    {
                        question: "Ù…Ø§ Ù‡Ùˆ Ø¬Ù…Ø¹ ÙƒÙ„Ù…Ø© 'Ø²ÙÙ‡Ù’Ø±Ø©'ØŸ",
                        options: ["Ø²ÙÙ‡ÙˆØ±", "Ø²ÙÙ‡Ù’Ø±Ø§Øª", "Ø²ÙÙ‡Ù’Ø±ÙˆÙ†", "Ø²ÙÙ‡Ù’Ø±ÙŠÙ†"],
                        answer: "Ø²ÙÙ‡Ù’Ø±Ø§Øª" 
                    }
                ]
            },
            medium: {
                salim: [
                    {
                        question: "Ù…Ø§ Ù‡Ùˆ Ø¬Ù…Ø¹ ÙƒÙ„Ù…Ø© 'ÙØ§Ø¹ÙÙ„'ØŸ",
                        options: ["ÙØ§Ø¹ÙÙ„ÙˆÙ†", "ÙØ§Ø¹ÙÙ„Ø§Øª", "ÙÙØ¹Ù‘Ø§Ù„", "ÙØ§Ø¹ÙÙ„ÙŠÙ†"],
                        answer: "ÙØ§Ø¹ÙÙ„ÙˆÙ†"
                    },
                    {
                        question: "Ù…Ø§ Ù‡Ùˆ Ø¬Ù…Ø¹ ÙƒÙ„Ù…Ø© 'Ù†Ø§Ø¬ÙØ­'ØŸ",
                        options: ["Ù†Ø§Ø¬ÙØ­ÙˆÙ†", "Ù†Ø§Ø¬ÙØ­Ø§Øª", "Ù†ÙØ¬Ù‘Ø§Ø­", "Ù†Ø§Ø¬ÙØ­ÙŠÙ†"],
                        answer: "Ù†Ø§Ø¬ÙØ­ÙˆÙ†"
                    },
                    {
                        question: "Ù…Ø§ Ù‡Ùˆ Ø¬Ù…Ø¹ ÙƒÙ„Ù…Ø© 'Ø±Ø§Ù‚ÙØµ'ØŸ",
                        options: ["Ø±Ø§Ù‚ÙØµÙˆÙ†", "Ø±Ø§Ù‚ÙØµØ§Øª", "Ø±ÙÙ‚Ù‘Ø§Øµ", "Ø±Ø§Ù‚ÙØµÙŠÙ†"],
                        answer: "Ø±Ø§Ù‚ÙØµÙˆÙ†"
                    }
                ],
                taksir: [
                    {
                        question: "Ù…Ø§ Ù‡Ùˆ Ø¬Ù…Ø¹ ÙƒÙ„Ù…Ø© 'Ø³ÙØ¤Ø§Ù„'ØŸ",
                        options: ["Ø£ÙØ³Ø¦ÙÙ„Ø©", "Ø³ÙØ¤Ø§Ù„ÙˆÙ†", "Ø³ÙØ¤Ø§Ù„ÙŠÙ†", "Ø³ÙØ¤Ø§Ù„Ø§Øª"],
                        answer: "Ø£ÙØ³Ø¦ÙÙ„Ø©"
                    },
                    {
                        question: "Ù…Ø§ Ù‡Ùˆ Ø¬Ù…Ø¹ ÙƒÙ„Ù…Ø© 'ØµÙØ¯ÙŠÙ‚'ØŸ",
                        options: ["Ø£ÙØµØ¯ÙÙ‚Ø§Ø¡", "ØµÙØ¯ÙŠÙ‚ÙˆÙ†", "ØµÙØ¯ÙŠÙ‚Ø§Øª", "ØµÙØ¯ÙŠÙ‚ÙŠÙ†"],
                        answer: "Ø£ÙØµØ¯ÙÙ‚Ø§Ø¡"
                    },
                    {
                        question: "Ù…Ø§ Ù‡Ùˆ Ø¬Ù…Ø¹ ÙƒÙ„Ù…Ø© 'Ø±ÙØ¬ÙÙ„'ØŸ",
                        options: ["Ø±ÙØ¬Ø§Ù„", "Ø±ÙØ¬ÙÙ„ÙˆÙ†", "Ø±ÙØ¬ÙÙ„Ø§Øª", "Ø±ÙØ¬ÙÙ„ÙŠÙ†"],
                        answer: "Ø±ÙØ¬Ø§Ù„"
                    }
                ],
                monath: [
                    {
                        question: "Ù…Ø§ Ù‡Ùˆ Ø¬Ù…Ø¹ ÙƒÙ„Ù…Ø© 'Ø³ÙÙŠÙ‘ÙØ¯Ø©'ØŸ",
                        options: ["Ø³ÙÙŠÙ‘ÙØ¯Ø§Øª", "Ø³Ø§Ø¯ÙØ©", "Ø³ÙÙŠÙ‘ÙØ¯ÙˆÙ†", "Ø³ÙÙŠÙ‘ÙØ¯ÙŠÙ†"],
                        answer: "Ø³ÙÙŠÙ‘ÙØ¯Ø§Øª"
                    },
                    {
                        question: "Ù…Ø§ Ù‡Ùˆ Ø¬Ù…Ø¹ ÙƒÙ„Ù…Ø© 'Ø­Ø§Ø¶ÙÙ†Ø©'ØŸ",
                        options: ["Ø­Ø§Ø¶ÙÙ†Ø§Øª", "Ø­ÙØ¶Ù‘Ø§Ù†", "Ø­Ø§Ø¶ÙÙ†ÙˆÙ†", "Ø­Ø§Ø¶ÙÙ†ÙŠÙ†"],
                        answer: "Ø­Ø§Ø¶ÙÙ†Ø§Øª"
                    },
                    {
                        question: "Ù…Ø§ Ù‡Ùˆ Ø¬Ù…Ø¹ ÙƒÙ„Ù…Ø© 'Ø¬Ø§Ù…ÙØ¹Ø©'ØŸ",
                        options: ["Ø¬Ø§Ù…ÙØ¹Ø§Øª", "Ø¬ÙÙˆØ§Ù…ÙØ¹", "Ø¬Ø§Ù…ÙØ¹ÙˆÙ†", "Ø¬Ø§Ù…ÙØ¹ÙŠÙ†"],
                        answer: "Ø¬Ø§Ù…ÙØ¹Ø§Øª"
                    }
                ],
                battle: [
                    {
                        question: "Ù…Ø§ Ù‡Ùˆ Ø¬Ù…Ø¹ ÙƒÙ„Ù…Ø© 'Ù…ÙØ¯ÙŠØ±'ØŸ",
                        options: ["Ù…ÙØ¯ÙŠØ±ÙˆÙ†", "Ù…ÙØ¯ÙŠØ±Ø§Øª", "Ù…ÙØ¯ÙŠØ±ÙŠÙ†", "Ù…ÙØ¯Ø§Ø±Ø§Ø¡"],
                        answer: "Ù…ÙØ¯ÙŠØ±ÙˆÙ†"
                    },
                    {
                        question: "Ù…Ø§ Ù‡Ùˆ Ø¬Ù…Ø¹ ÙƒÙ„Ù…Ø© 'ÙˆÙÙ„ÙØ¯'ØŸ",
                        options: ["Ø£ÙÙˆÙ„Ø§Ø¯", "ÙˆÙÙ„Ù’Ø¯Ø§Ù†", "ÙˆÙÙ„ÙØ¯ÙˆÙ†", "ÙˆÙÙ„ÙØ¯Ø§Øª"],
                        answer: "Ø£ÙÙˆÙ„Ø§Ø¯"
                    },
                    {
                        question: "Ù…Ø§ Ù‡Ùˆ Ø¬Ù…Ø¹ ÙƒÙ„Ù…Ø© 'Ù…ÙÙ…ÙØ±Ù‘ÙØ¶ÙØ©'ØŸ",
                        options: ["Ù…ÙÙ…ÙØ±Ù‘ÙØ¶Ø§Øª", "Ù…ÙÙ…ÙØ±Ù‘ÙØ¶ÙˆÙ†", "Ù…ÙÙ…ÙØ§Ø±ÙØ¶", "Ù…ÙÙ…ÙØ±Ù‘ÙØ¶ÙŠÙ†"],
                        answer: "Ù…ÙÙ…ÙØ±Ù‘ÙØ¶Ø§Øª"
                    }
                ]
            },
            hard: {
                salim: [
                    {
                        question: "Ù…Ø§ Ù‡Ùˆ Ø¬Ù…Ø¹ ÙƒÙ„Ù…Ø© 'Ù…ÙØ³Ù’ØªÙØ´Ù’ÙÙ‰'ØŸ",
                        options: ["Ù…ÙØ³Ù’ØªÙØ´Ù’ÙÙÙŠØ§Øª", "Ù…ÙØ³Ù’ØªÙØ´Ù’ÙÙÙˆÙ’Ù†", "Ù…ÙØ´Ø§ÙÙÙŠ", "Ù…ÙØ³Ù’ØªÙØ´Ù’ÙÙÙŠÙ’Ù†"],
                        answer: "Ù…ÙØ³Ù’ØªÙØ´Ù’ÙÙÙŠØ§Øª"
                    },
                    {
                        question: "Ù…Ø§ Ù‡Ùˆ Ø¬Ù…Ø¹ ÙƒÙ„Ù…Ø© 'Ù…ÙØªÙÙÙÙˆÙ‘ÙÙ‚'ØŸ",
                        options: ["Ù…ÙØªÙÙÙÙˆÙ‘ÙÙ‚ÙˆÙ†", "Ù…ÙØªÙÙÙÙˆÙ‘ÙÙ‚Ø§Øª", "Ù…ÙØªÙÙÙÙˆÙ‘ÙÙ‚ÙŠÙ†", "ØªÙÙØ§ÙˆÙÙ‚"],
                        answer: "Ù…ÙØªÙÙÙÙˆÙ‘ÙÙ‚ÙˆÙ†"
                    },
                    {
                        question: "Ù…Ø§ Ù‡Ùˆ Ø¬Ù…Ø¹ ÙƒÙ„Ù…Ø© 'Ù…ÙØ¨Ù’ØªÙØ¯ÙØ¹'ØŸ",
                        options: ["Ù…ÙØ¨Ù’ØªÙØ¯ÙØ¹ÙˆÙ†", "Ù…ÙØ¨Ù’ØªÙØ¯ÙØ¹Ø§Øª", "Ø¨ÙØ¯Ø§Ø¦ÙØ¹", "Ù…ÙØ¨Ù’ØªÙØ¯ÙØ¹ÙŠÙ†"],
                        answer: "Ù…ÙØ¨Ù’ØªÙØ¯ÙØ¹ÙˆÙ†"
                    }
                ],
                taksir: [
                    {
                        question: "Ù…Ø§ Ù‡Ùˆ Ø¬Ù…Ø¹ ÙƒÙ„Ù…Ø© 'Ø¥ÙÙ†Ù’Ø³Ø§Ù†'ØŸ",
                        options: ["Ù†Ø§Ø³", "Ø¥ÙÙ†Ù’Ø³Ø§Ù†ÙˆÙ†", "Ø¥ÙÙ†Ù’Ø³Ø§Ù†ÙŠÙ†", "Ø¥ÙÙ†Ù’Ø³Ø§Ù†Ø§Øª"],
                        answer: "Ù†Ø§Ø³"
                    },
                    {
                        question: "Ù…Ø§ Ù‡Ùˆ Ø¬Ù…Ø¹ ÙƒÙ„Ù…Ø© 'Ø¹ÙØ§Ù„ÙÙ…'ØŸ",
                        options: ["Ø¹ÙÙˆØ§Ù„ÙÙ…", "Ø¹ÙØ§Ù„ÙÙ…ÙˆÙ†", "Ø¹ÙØ§Ù„ÙÙ…Ø§Øª", "Ø¹ÙØ§Ù„ÙÙ…ÙŠÙ†"],
                        answer: "Ø¹ÙÙˆØ§Ù„ÙÙ…"
                    },
                    {
                        question: "Ù…Ø§ Ù‡Ùˆ Ø¬Ù…Ø¹ ÙƒÙ„Ù…Ø© 'Ø£ÙØ³Ù’ØªØ§Ø°'ØŸ",
                        options: ["Ø£ÙØ³Ø§ØªÙØ°Ø©", "Ø£ÙØ³Ù’ØªØ§Ø°ÙˆÙ†", "Ø£ÙØ³Ù’ØªØ§Ø°Ø§Øª", "Ø£ÙØ³Ù’ØªØ§Ø°ÙŠÙ†"],
                        answer: "Ø£ÙØ³Ø§ØªÙØ°Ø©"
                    }
                ],
                monath: [
                    {
                        question: "Ù…Ø§ Ù‡Ùˆ Ø¬Ù…Ø¹ ÙƒÙ„Ù…Ø© 'Ù…ÙÙ„ÙÙƒÙØ©'ØŸ",
                        options: ["Ù…ÙÙ„ÙÙƒØ§Øª", "Ù…ÙÙ„ÙˆÙƒ", "Ù…ÙÙ„ÙÙƒÙˆÙ†", "Ù…ÙÙ„ÙÙƒÙŠÙ†"],
                        answer: "Ù…ÙÙ„ÙÙƒØ§Øª"
                    },
                    {
                        question: "Ù…Ø§ Ù‡Ùˆ Ø¬Ù…Ø¹ ÙƒÙ„Ù…Ø© 'Ù…ÙØ¹ÙÙ„Ù‘ÙÙ…ÙØ©'ØŸ",
                        options: ["Ù…ÙØ¹ÙÙ„Ù‘ÙÙ…Ø§Øª", "Ù…ÙØ¹ÙÙ„Ù‘ÙÙ…ÙˆÙ†", "Ù…ÙØ¹Ø§Ù„ÙÙ…", "Ù…ÙØ¹ÙÙ„Ù‘ÙÙ…ÙŠÙ†"],
                        answer: "Ù…ÙØ¹ÙÙ„Ù‘ÙÙ…Ø§Øª"
                    },
                    {
                        question: "Ù…Ø§ Ù‡Ùˆ Ø¬Ù…Ø¹ ÙƒÙ„Ù…Ø© 'Ù‚Ø§Ø¶ÙÙŠÙØ©'ØŸ",
                        options: ["Ù‚Ø§Ø¶ÙÙŠØ§Øª", "Ù‚ÙØ¶Ø§Ø©", "Ù‚Ø§Ø¶ÙÙŠÙˆÙ†", "Ù‚Ø§Ø¶ÙÙŠÙŠÙ†"],
                        answer: "Ù‚Ø§Ø¶ÙÙŠØ§Øª"
                    }
                ],
                battle: [
                    {
                        question: "Ù…Ø§ Ù‡Ùˆ Ø¬Ù…Ø¹ ÙƒÙ„Ù…Ø© 'Ù…ÙØ®Ù’ØªÙØ¨ÙØ±'ØŸ",
                        options: ["Ù…ÙØ®Ø§Ø¨ÙØ±", "Ù…ÙØ®Ù’ØªÙØ¨ÙØ±Ø§Øª", "Ù…ÙØ®Ù’ØªÙØ¨ÙØ±ÙˆÙ†", "Ù…ÙØ®Ù’ØªÙØ¨ÙØ±ÙŠÙ†"],
                        answer: "Ù…ÙØ®Ø§Ø¨ÙØ±"
                    },
                    {
                        question: "Ù…Ø§ Ù‡Ùˆ Ø¬Ù…Ø¹ ÙƒÙ„Ù…Ø© 'Ù…ÙØ±Ù’Ø£Ø©'ØŸ",
                        options: ["Ù†ÙØ³Ø§Ø¡", "Ù…ÙØ±Ù’Ø£ØªØ§Øª", "Ù…ÙØ±Ù’Ø£ÙˆÙ†", "Ù…ÙØ±Ù’Ø£ØªÙŠÙ†"],
                        answer: "Ù†ÙØ³Ø§Ø¡"
                    },
                    {
                        question: "Ù…Ø§ Ù‡Ùˆ Ø¬Ù…Ø¹ ÙƒÙ„Ù…Ø© 'Ø­Ø§ÙÙØ¸ÙØ©'ØŸ",
                        options: ["Ø­Ø§ÙÙØ¸Ø§Øª", "Ø­ÙÙÙ‘Ø§Ø¸", "Ø­Ø§ÙÙØ¸ÙˆÙ†", "Ø­Ø§ÙÙØ¸ÙŠÙ†"],
                        answer: "Ø­Ø§ÙÙØ¸Ø§Øª"
                    }
                ]
            }
        };

        // Game state
        let currentLevel = '';
        let selectedCharacter = '';
        let progress = 0;
        let score = 0;
        let monsterHealth = 3;
        let currentQuestions = {};
        let currentQuestionIndex = {
            salim: 0,
            taksir: 0,
            monath: 0,
            battle: 0
        };
        let correctAnswers = 0;
        let badgesEarned = [];

        // DOM elements
        const levelSelection = document.getElementById('levelSelection');
        const characterSelection = document.getElementById('characterSelection');
        const characterTitle = document.getElementById('characterTitle');
        const gameArea = document.getElementById('gameArea');
        const scoreDisplay = document.getElementById('scoreDisplay');

        // Initialize game
        function selectLevel(level) {
            currentLevel = level;
            levelSelection.style.display = 'none';
            characterSelection.style.display = 'flex';
            characterTitle.style.display = 'block';
            currentQuestions = questions[level];
        }

        function selectCharacter(element, character) {
            // Remove selection from all characters
            document.querySelectorAll('.character').forEach(char => {
                char.classList.remove('selected');
            });
            
            // Add selection to clicked character
            element.classList.add('selected');
            selectedCharacter = character;
            
            // Show game area
            gameArea.style.display = 'block';
            
            // Load first questions
            loadQuestion('salim');
            loadQuestion('taksir');
            loadQuestion('monath');
            
            // Scroll to game area
            gameArea.scrollIntoView({ behavior: 'smooth' });
        }

        function loadQuestion(island) {
            const questions = currentQuestions[island];
            const index = currentQuestionIndex[island];
            
            if (index < questions.length) {
                const question = questions[index];
                document.getElementById(`question${island.charAt(0).toUpperCase() + island.slice(1)}`).textContent = question.question;
                
                const optionsContainer = document.getElementById(`options${island.charAt(0).toUpperCase() + island.slice(1)}`);
                optionsContainer.innerHTML = '';
                
                question.options.forEach(option => {
                    const optionElement = document.createElement('div');
                    optionElement.className = 'option';
                    optionElement.textContent = option;
                    optionElement.onclick = () => checkAnswer(optionElement, option, question.answer, island);
                    optionsContainer.appendChild(optionElement);
                });
            } else {
                // No more questions for this island
                document.getElementById(`island${island.charAt(0).toUpperCase() + island.slice(1)}`).style.display = 'none';
                checkGameProgress();
            }
        }

        function checkAnswer(element, selectedAnswer, correctAnswer, island) {
            // Disable all options
            const options = element.parentElement.querySelectorAll('.option');
            options.forEach(opt => {
                opt.style.pointerEvents = 'none';
            });
            
            // Check if answer is correct
            if (selectedAnswer === correctAnswer) {
                element.classList.add('selected');
                document.getElementById(`feedback${island.charAt(0).toUpperCase() + island.slice(1)}`).innerHTML = 
                    `<span class="correct">Ø¥Ø¬Ø§Ø¨Ø© ØµØ­ÙŠØ­Ø©! Ø£Ø­Ø³Ù†Øª!</span>`;
                
                // Increase score based on level difficulty
                if (currentLevel === 'easy') score += 10;
                else if (currentLevel === 'medium') score += 15;
                else score += 20;
                
                correctAnswers++;
            } else {
                element.style.backgroundColor = '#F44336';
                element.style.color = 'white';
                document.getElementById(`feedback${island.charAt(0).toUpperCase() + island.slice(1)}`).innerHTML = 
                    `<span class="incorrect">Ø¥Ø¬Ø§Ø¨Ø© Ø®Ø§Ø·Ø¦Ø©! Ø§Ù„Ø¬ÙˆØ§Ø¨ Ø§Ù„ØµØ­ÙŠØ­ Ù‡Ùˆ: ${correctAnswer}</span>`;
                
                // Small penalty for wrong answers
                score = Math.max(0, score - 5);
            }
            
            // Update score and progress
            scoreDisplay.textContent = `Ø§Ù„Ù†Ù‚Ø§Ø·: ${score}`;
            progress = Math.min(100, Math.floor((correctAnswers / 9) * 100));
            updateProgress();
            
            // Show next button
            document.getElementById('nextBtn').style.display = 'inline-block';
            
            // Store that this question was answered
            currentQuestionIndex[island]++;
        }

        function battleAnswer(element, selectedAnswer, correctAnswer) {
            // Disable all options
            const options = element.parentElement.querySelectorAll('.option');
            options.forEach(opt => {
                opt.style.pointerEvents = 'none';
            });
            
            // Check if answer is correct
            if (selectedAnswer === correctAnswer) {
                element.classList.add('selected');
                document.getElementById('feedbackBattle').innerHTML = 
                    '<span class="correct">Ø¥ØµØ§Ø¨Ø© Ù…Ø¨Ø§Ø´Ø±Ø©! Ù„Ù‚Ø¯ Ø£Ø¶Ø¹ÙØª Ø§Ù„ÙˆØ­Ø´!</span>';
                monsterHealth--;
                
                // Increase score for correct battle answers
                score += 30;
                scoreDisplay.textContent = `Ø§Ù„Ù†Ù‚Ø§Ø·: ${score}`;
                
                // Update monster appearance
                const monster = document.getElementById('monster');
                if (monsterHealth === 2) {
                    monster.classList.add('weak');
                } else if (monsterHealth === 1) {
                    monster.classList.remove('weak');
                    monster.classList.add('very-weak');
                } else if (monsterHealth === 0) {
                    monster.classList.remove('very-weak');
                    monster.classList.add('defeated');
                    
                    // Add final score bonus
                    score += 100;
                    scoreDisplay.textContent = `Ø§Ù„Ù†Ù‚Ø§Ø·: ${score}`;
                    
                    // Show victory screen
                    setTimeout(() => {
                        document.getElementById('finalBattle').style.display = 'none';
                        showVictory();
                    }, 1500);
                }
            } else {
                element.style.backgroundColor = '#F44336';
                element.style.color = 'white';
                document.getElementById('feedbackBattle').innerHTML = 
                    '<span class="incorrect">Ø£Ø®Ø·Ø£Øª! Ø­Ø§ÙˆÙ„ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰!</span>';
                
                // Small penalty for wrong answers
                score = Math.max(0, score - 10);
                scoreDisplay.textContent = `Ø§Ù„Ù†Ù‚Ø§Ø·: ${score}`;
            }
        }

        function showVictory() {
            const victoryScreen = document.getElementById('victory');
            const finalScore = document.getElementById('finalScore');
            const badgesContainer = document.getElementById('badgesEarned');
            
            // Set final score
            finalScore.textContent = `Ø¯Ø±Ø¬ØªÙƒ Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠØ©: ${score} Ù†Ù‚Ø·Ø©`;
            
            // Determine badges earned
            badgesEarned = [];
            
            if (score >= 200) {
                badgesEarned.push("ÙˆØ³Ø§Ù… Ø§Ù„Ø¨Ø·Ù„ Ø§Ù„Ø¹Ø¸ÙŠÙ…");
            }
            if (score >= 150) {
                badgesEarned.push("Ù†Ø¬Ù… Ø§Ù„Ø¬Ù…ÙˆØ¹ Ø§Ù„Ø°Ù‡Ø¨ÙŠ");
            }
            if (correctAnswers >= 8) {
                badgesEarned.push("Ø®Ø¨ÙŠØ± Ø§Ù„Ø¬Ù…ÙˆØ¹");
            }
            if (currentLevel === 'hard' && score >= 180) {
                badgesEarned.push("Ø³ÙŠØ¯ Ø§Ù„Ø¬Ù…ÙˆØ¹");
            }
            
            // Add default badge for completion
            badgesEarned.push("ÙØ§Ø±Ø³ Ø§Ù„Ù„ØºØ© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©");
            
            // Display badges
            badgesContainer.innerHTML = '';
            badgesEarned.forEach(badge => {
                const badgeElement = document.createElement('div');
                badgeElement.className = 'badge';
                badgeElement.textContent = badge;
                badgesContainer.appendChild(badgeElement);
            });
            
            victoryScreen.style.display = 'block';
        }

        function updateProgress() {
            const progressBar = document.getElementById('progressBar');
            progressBar.style.width = progress + '%';
            progressBar.textContent = progress + '%';
            
            // Show treasure map at 30% progress
            if (progress >= 30 && progress < 100) {
                document.getElementById('treasureMap').style.display = 'block';
            } else {
                document.getElementById('treasureMap').style.display = 'none';
            }
            
            // Check if all islands are completed
            checkGameProgress();
        }

        function checkGameProgress() {
            // Check if all islands are completed
            const islandsCompleted = 
                currentQuestionIndex.salim >= currentQuestions.salim.length &&
                currentQuestionIndex.taksir >= currentQuestions.taksir.length &&
                currentQuestionIndex.monath >= currentQuestions.monath.length;
            
            if (islandsCompleted && progress < 100) {
                progress = 100;
                updateProgress();
            }
            
            // Show final battle at 100% progress
            if (progress >= 100) {
                document.querySelectorAll('.island').forEach(island => {
                    island.style.display = 'none';
                });
                document.getElementById('nextBtn').style.display = 'none';
                
                // Load first battle question
                loadBattleQuestion();
                document.getElementById('finalBattle').style.display = 'block';
            }
        }

        function loadBattleQuestion() {
            const questions = currentQuestions.battle;
            const index = currentQuestionIndex.battle;
            
            if (index < questions.length) {
                const question = questions[index];
                document.getElementById('questionBattle').textContent = question.question;
                
                const optionsContainer = document.getElementById('optionsBattle');
                optionsContainer.innerHTML = '';
                
                question.options.forEach(option => {
                    const optionElement = document.createElement('div');
                    optionElement.className = 'option';
                    optionElement.textContent = option;
                    optionElement.onclick = () => battleAnswer(optionElement, option, question.answer);
                    optionsContainer.appendChild(optionElement);
                });
                
                currentQuestionIndex.battle++;
            }
        }

        function nextQuestion() {
            // Hide next button
            document.getElementById('nextBtn').style.display = 'none';
            
            // Check which islands still have questions
            if (currentQuestionIndex.salim < currentQuestions.salim.length) {
                loadQuestion('salim');
            }
            if (currentQuestionIndex.taksir < currentQuestions.taksir.length) {
                loadQuestion('taksir');
            }
            if (currentQuestionIndex.monath < currentQuestions.monath.length) {
                loadQuestion('monath');
            }
            
            // Clear feedback
            document.querySelectorAll('.feedback').forEach(fb => {
                fb.innerHTML = '';
            });
        }

        function resetGame() {
            // Reset all game state
            currentLevel = '';
            selectedCharacter = '';
            progress = 0;
            score = 0;
            monsterHealth = 3;
            currentQuestionIndex = {
                salim: 0,
                taksir: 0,
                monath: 0,
                battle: 0
            };
            correctAnswers = 0;
            badgesEarned = [];
            
            // Reset UI
            levelSelection.style.display = 'block';
            characterSelection.style.display = 'none';
            characterTitle.style.display = 'none';
            gameArea.style.display = 'none';
            document.getElementById('victory').style.display = 'none';
            document.getElementById('finalBattle').style.display = 'none';
            document.getElementById('monster').className = 'monster';
            
            // Show all islands again
            document.querySelectorAll('.island').forEach(island => {
                island.style.display = 'block';
            });
            
            // Reset progress and score
            updateProgress();
            scoreDisplay.textContent = 'Ø§Ù„Ù†Ù‚Ø§Ø·: 0';
            
            // Scroll to top
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }
    </script>
</body>
</html>