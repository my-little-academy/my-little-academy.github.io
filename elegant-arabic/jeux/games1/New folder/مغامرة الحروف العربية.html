<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù…ØºØ§Ù…Ø±Ø© Ø§Ù„Ø­Ø±ÙˆÙ Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Tajawal:wght@400;700;900&display=swap');
        
        :root {
            --primary-color: #6a4c93;
            --secondary-color: #8ac926;
            --accent-color: #ff595e;
            --light-color: #f8f7ff;
            --dark-color: #1a1423;
        }
        
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Tajawal', sans-serif;
        }
        
        body {
            background-color: var(--light-color);
            color: var(--dark-color);
            overflow-x: hidden;
            background-image: url('https://i.imgur.com/ZYdX9Uj.png');
            background-size: 40%;
            background-repeat: repeat;
            background-attachment: fixed;
            background-blend-mode: overlay;
        }
        
        #game-container {
            max-width: 1000px;
            margin: 0 auto;
            padding: 20px;
            position: relative;
            min-height: 100vh;
        }
        
        header {
            background: linear-gradient(135deg, var(--primary-color), #8a5a44);
            color: white;
            padding: 15px;
            border-radius: 15px;
            text-align: center;
            margin-bottom: 30px;
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2);
            position: relative;
            overflow: hidden;
            border: 3px solid #fff;
            animation: rainbow-border 8s infinite linear;
        }
        
        @keyframes rainbow-border {
            0% { border-color: #ff0000; }
            14% { border-color: #ff7f00; }
            28% { border-color: #ffff00; }
            42% { border-color: #00ff00; }
            57% { border-color: #0000ff; }
            71% { border-color: #4b0082; }
            85% { border-color: #9400d3; }
            100% { border-color: #ff0000; }
        }
        
        h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
        }
        
        .subtitle {
            font-size: 1.2rem;
            opacity: 0.9;
        }
        
        /* Ø£Ù†Ù…Ø§Ø· Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© */
        #main-menu {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 25px;
            margin-top: 40px;
        }
        
        .menu-card {
            background-color: white;
            border-radius: 20px;
            width: 220px;
            height: 220px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.15);
            position: relative;
            overflow: hidden;
            border: 3px solid var(--secondary-color);
        }
        
        .menu-card:hover {
            transform: translateY(-10px) rotate(3deg);
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.25);
        }
        
        .menu-card i {
            font-size: 5rem;
            margin-bottom: 15px;
            color: var(--primary-color);
            transition: all 0.3s ease;
        }
        
        .menu-card:hover i {
            transform: scale(1.2) rotate(10deg);
            color: var(--accent-color);
        }
        
        .menu-card h3 {
            font-size: 1.5rem;
            color: var(--dark-color);
            font-weight: 700;
        }
        
        .menu-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 8px;
            background: linear-gradient(90deg, var(--accent-color), var(--secondary-color));
            transition: all 0.3s ease;
        }
        
        .menu-card:hover::before {
            height: 12px;
        }
        
        /* Ø£Ù†Ù…Ø§Ø· Ø´Ø§Ø´Ø© Ø§Ù„Ù„Ø¹Ø¨Ø© */
        #game-screen {
            display: none;
            background-color: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
            margin-top: 20px;
            animation: fadeIn 0.5s ease;
            border: 3px dashed var(--primary-color);
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .game-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }
        
        .score-container {
            background-color: var(--secondary-color);
            padding: 10px 20px;
            border-radius: 30px;
            font-weight: bold;
            color: white;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }
        
        .time-container {
            background-color: var(--accent-color);
            padding: 10px 20px;
            border-radius: 30px;
            font-weight: bold;
            color: white;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }
        
        .question-container {
            margin-bottom: 30px;
            text-align: center;
        }
        
        .question {
            font-size: 2rem;
            margin-bottom: 30px;
            line-height: 1.6;
            color: var(--dark-color);
            font-weight: 700;
            background: linear-gradient(to right, var(--primary-color), var(--accent-color));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
        }
        
        .options {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 20px;
            margin-top: 30px;
        }
        
        .option {
            background-color: #f0f0f0;
            padding: 20px;
            border-radius: 15px;
            cursor: pointer;
            transition: all 0.2s ease;
            text-align: center;
            font-size: 1.5rem;
            font-weight: bold;
            border: 3px solid transparent;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            position: relative;
            overflow: hidden;
        }
        
        .option:hover {
            background-color: #e0e0e0;
            transform: scale(1.05);
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);
        }
        
        .option.correct {
            background-color: #a8e6cf;
            color: #1e6f5c;
            animation: correct 0.5s ease;
            border-color: var(--secondary-color);
        }
        
        @keyframes correct {
            0% { transform: scale(1); }
            50% { transform: scale(1.1); }
            100% { transform: scale(1); }
        }
        
        .option.wrong {
            background-color: #ffaaa5;
            color: #9c1f1f;
            animation: shake 0.5s ease;
            border-color: var(--accent-color);
        }
        
        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            20%, 60% { transform: translateX(-10px); }
            40%, 80% { transform: translateX(10px); }
        }
        
        .feedback {
            margin-top: 25px;
            padding: 20px;
            border-radius: 15px;
            display: none;
            font-size: 1.3rem;
            line-height: 1.6;
            text-align: center;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }
        
        .feedback.correct {
            background-color: #e3f9e5;
            color: #1e6f5c;
            border-right: 5px solid var(--secondary-color);
        }
        
        .feedback.wrong {
            background-color: #ffebee;
            color: #9c1f1f;
            border-right: 5px solid var(--accent-color);
        }
        
        .controls {
            display: flex;
            justify-content: space-between;
            margin-top: 30px;
        }
        
        .btn {
            padding: 15px 30px;
            border: none;
            border-radius: 40px;
            cursor: pointer;
            font-size: 1.2rem;
            font-weight: bold;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 10px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }
        
        .btn-primary {
            background-color: var(--primary-color);
            color: white;
        }
        
        .btn-primary:hover {
            background-color: var(--dark-color);
            transform: translateY(-3px) scale(1.05);
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.3);
        }
        
        .btn-secondary {
            background-color: var(--secondary-color);
            color: var(--dark-color);
        }
        
        .btn-secondary:hover {
            background-color: #7bb420;
            transform: translateY(-3px) scale(1.05);
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.3);
        }
        
        /* ØªØ£Ø«ÙŠØ±Ø§Øª Ø§Ù„Ø­Ø±ÙƒØ© ÙˆØ§Ù„Ø±Ø³ÙˆÙ… Ø§Ù„Ù…ØªØ­Ø±ÙƒØ© */
        .bounce {
            animation: bounce 2s infinite;
        }
        
        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% { transform: translateY(0); }
            40% { transform: translateY(-30px); }
            60% { transform: translateY(-15px); }
        }
        
        .floating {
            animation: floating 3s ease-in-out infinite;
        }
        
        @keyframes floating {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-20px); }
        }
        
        .pulse {
            animation: pulse 1.5s infinite;
        }
        
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.1); }
            100% { transform: scale(1); }
        }
        
        /* ØªØ£Ø«ÙŠØ±Ø§Øª Ø§Ù„Ù†Ø¬Ø§Ø­ ÙˆØ§Ù„Ø§Ø­ØªÙØ§Ù„ */
        .celebration {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1000;
            display: none;
        }
        
        .confetti {
            position: absolute;
            width: 15px;
            height: 15px;
            opacity: 0;
            animation: confetti-fall 3s ease-out forwards;
            background-size: contain;
        }
        
        @keyframes confetti-fall {
            0% { 
                transform: translateY(-100px) rotate(0deg) scale(0.7); 
                opacity: 1; 
            }
            100% { 
                transform: translateY(100vh) rotate(360deg) scale(1.2); 
                opacity: 0; 
            }
        }
        
        .success-popup {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) scale(0);
            background: white;
            padding: 40px;
            border-radius: 25px;
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.3);
            text-align: center;
            z-index: 2000;
            animation: popIn 0.5s forwards;
            max-width: 80%;
            border: 5px solid var(--secondary-color);
        }
        
        @keyframes popIn {
            0% { transform: translate(-50%, -50%) scale(0); opacity: 0; }
            80% { transform: translate(-50%, -50%) scale(1.1); opacity: 1; }
            100% { transform: translate(-50%, -50%) scale(1); opacity: 1; }
        }
        
        .success-icon {
            font-size: 5rem;
            color: var(--accent-color);
            margin-bottom: 20px;
            animation: bounce 2s infinite;
        }
        
        .success-title {
            font-size: 2.5rem;
            color: var(--primary-color);
            margin-bottom: 15px;
            font-weight: 700;
        }
        
        /* Ø´Ø®ØµÙŠØ© Ø§Ù„Ù„Ø¹Ø¨Ø© */
        .character {
            position: fixed;
            bottom: 20px;
            right: 20px;
            width: 150px;
            transition: all 0.3s ease;
            z-index: 100;
            cursor: pointer;
            animation: floating 4s ease-in-out infinite;
        }
        
        .character:hover {
            transform: scale(1.1) rotate(10deg);
        }
        
        /* Ø§Ù„ØªØµÙ…ÙŠÙ… Ø§Ù„Ù…ØªØ¬Ø§ÙˆØ¨ */
        @media (max-width: 768px) {
            .options {
                grid-template-columns: 1fr;
            }
            
            .menu-card {
                width: 160px;
                height: 160px;
            }
            
            .menu-card i {
                font-size: 3.5rem;
            }
            
            .menu-card h3 {
                font-size: 1.2rem;
            }
            
            .question {
                font-size: 1.5rem;
            }
            
            .option {
                font-size: 1.2rem;
                padding: 15px;
            }
            
            .success-popup {
                padding: 20px;
            }
            
            .success-icon {
                font-size: 3rem;
            }
            
            .success-title {
                font-size: 1.8rem;
            }
            
            .character {
                width: 100px;
            }
        }
    </style>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body>
    <div id="game-container">
        <header>
            <h1>Ù…ØºØ§Ù…Ø±Ø© Ø§Ù„Ø­Ø±ÙˆÙ Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©</h1>
            <p class="subtitle">ØªØ¹Ù„Ù… Ø§Ù„Ø­Ø±ÙˆÙ Ù…Ø¹ Ø§Ù„Ù…Ø±Ø­ ÙˆØ§Ù„Ø¥Ø«Ø§Ø±Ø©!</p>
        </header>
        
        <div id="main-menu">
            <div class="menu-card" onclick="startGame('letters')">
                <i class="fas fa-font"></i>
                <h3>ØªØ¹Ø±Ù Ø¹Ù„Ù‰ Ø§Ù„Ø­Ø±ÙˆÙ</h3>
            </div>
            <div class="menu-card" onclick="startGame('words')">
                <i class="fas fa-spell-check"></i>
                <h3>ÙƒÙˆÙ‘Ù† ÙƒÙ„Ù…Ø§Øª</h3>
            </div>
            <div class="menu-card" onclick="startGame('animals')">
                <i class="fas fa-paw"></i>
                <h3>Ø­Ø±ÙˆÙ Ø§Ù„Ø­ÙŠÙˆØ§Ù†Ø§Øª</h3>
            </div>
            <div class="menu-card" onclick="startGame('shapes')">
                <i class="fas fa-shapes"></i>
                <h3>Ø£Ø´ÙƒØ§Ù„ Ø§Ù„Ø­Ø±ÙˆÙ</h3>
            </div>
            <div class="menu-card" onclick="startGame('sounds')">
                <i class="fas fa-volume-up"></i>
                <h3>Ø£ØµÙˆØ§Øª Ø§Ù„Ø­Ø±ÙˆÙ</h3>
            </div>
            <div class="menu-card" onclick="startGame('challenge')">
                <i class="fas fa-trophy"></i>
                <h3>Ø§Ù„ØªØ­Ø¯ÙŠ Ø§Ù„ÙƒØ¨ÙŠØ±</h3>
            </div>
        </div>
        
        <div id="game-screen">
            <div class="game-header">
                <div class="score-container">
                    <i class="fas fa-star"></i> <span id="score">0</span> Ù†Ù‚Ø§Ø·
                </div>
                <div class="time-container">
                    <i class="fas fa-clock"></i> <span id="time">60</span> Ø«Ø§Ù†ÙŠØ©
                </div>
            </div>
            
            <div class="question-container">
                <div class="question" id="question"></div>
                <div class="options" id="options"></div>
                <div class="feedback" id="feedback"></div>
            </div>
            
            <div class="controls">
                <button class="btn btn-secondary" onclick="backToMenu()">
                    <i class="fas fa-arrow-left"></i> Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©
                </button>
                <button class="btn btn-primary" onclick="nextQuestion()" id="next-btn">
                    Ø§Ù„ØªØ§Ù„ÙŠ <i class="fas fa-arrow-right"></i>
                </button>
            </div>
        </div>
        
        <img src="https://i.imgur.com/JQlE6aN.png" alt="Ø´Ø®ØµÙŠØ© Ø§Ù„Ù„Ø¹Ø¨Ø©" class="character" onclick="characterSpeak()">
        
        <div class="celebration" id="celebration"></div>
    </div>

    <audio id="correct-sound" src="https://assets.mixkit.co/sfx/preview/mixkit-correct-answer-tone-2870.mp3"></audio>
    <audio id="wrong-sound" src="https://assets.mixkit.co/sfx/preview/mixkit-wrong-answer-fail-29.mp3"></audio>
    <audio id="win-sound" src="https://assets.mixkit.co/sfx/preview/mixkit-winning-chimes-2015.mp3"></audio>
    <audio id="bg-music" loop src="https://assets.mixkit.co/music/preview/mixkit-happy-children-938.mp3"></audio>

    <script>
        // Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù„Ø¹Ø¨Ø©
        const gameData = {
            letters: [
                {
                    question: "Ù…Ø§ Ù‡Ø°Ø§ Ø§Ù„Ø­Ø±ÙØŸ <span style='font-size: 3rem; color: #6a4c93;'>Ø£</span>",
                    options: ["Ø¨", "Ø£", "Øª", "Ø«"],
                    answer: 1,
                    explanation: "Ù‡Ø°Ø§ Ø­Ø±Ù <strong>Ø§Ù„Ø£Ù„Ù</strong>ØŒ Ø£ÙˆÙ„ Ø­Ø±Ù ÙÙŠ Ø§Ù„Ø£Ø¨Ø¬Ø¯ÙŠØ© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©!"
                },
                {
                    question: "Ø£ÙŠ Ø­Ø±Ù ÙŠØ¨Ø¯Ø£ Ø¨Ù‡ Ø§Ø³Ù… 'ØªÙØ§Ø­Ø©'ØŸ",
                    options: ["Ø¨", "Øª", "Ø«", "Ø¬"],
                    answer: 1,
                    explanation: "ÙƒÙ„Ù…Ø© 'ØªÙØ§Ø­Ø©' ØªØ¨Ø¯Ø£ Ø¨Ø­Ø±Ù <strong>Ø§Ù„ØªØ§Ø¡</strong>!"
                },
                {
                    question: "Ù…Ø§ Ø§Ù„Ø­Ø±Ù Ø§Ù„Ø°ÙŠ ÙŠØ£ØªÙŠ Ø¨Ø¹Ø¯ 'Ø¬' ÙÙŠ Ø§Ù„Ø£Ø¨Ø¬Ø¯ÙŠØ©ØŸ",
                    options: ["Ø­", "Ø®", "Ø¯", "Ø°"],
                    answer: 0,
                    explanation: "Ø­Ø±Ù <strong>Ø§Ù„Ø­Ø§Ø¡</strong> ÙŠØ£ØªÙŠ Ø¨Ø¹Ø¯ Ø§Ù„Ø¬ÙŠÙ… ÙÙŠ Ø§Ù„ØªØ±ØªÙŠØ¨ Ø§Ù„Ø£Ø¨Ø¬Ø¯ÙŠ!"
                }
            ],
            words: [
                {
                    question: "Ø£ÙŠ ÙƒÙ„Ù…Ø© ØªØ¨Ø¯Ø£ Ø¨Ø­Ø±Ù 'Ø³'ØŸ",
                    options: ["Ù‚Ù…Ø±", "Ø´Ù…Ø³", "Ø³ÙÙŠÙ†Ø©", "Ø¨Ø­Ø±"],
                    answer: 2,
                    explanation: "ÙƒÙ„Ù…Ø© <strong>Ø³ÙÙŠÙ†Ø©</strong> ØªØ¨Ø¯Ø£ Ø¨Ø­Ø±Ù Ø§Ù„Ø³ÙŠÙ†!"
                },
                {
                    question: "Ù…Ø§ Ø§Ù„ÙƒÙ„Ù…Ø© Ø§Ù„ØµØ­ÙŠØ­Ø© Ù…Ù† Ù‡Ø°Ù‡ Ø§Ù„Ø£Ø­Ø±Ù: 'Ù‚ØŒ Ù„ØŒ Ù…'ØŸ",
                    options: ["Ù…Ù„Ù‚", "Ù‚Ù„Ù…", "Ù„Ù…Ù‚", "Ù‚Ù… Ù„"],
                    answer: 1,
                    explanation: "Ø§Ù„Ø£Ø­Ø±Ù ØªÙƒÙˆÙ‘Ù† ÙƒÙ„Ù…Ø© <strong>Ù‚Ù„Ù…</strong>!"
                },
                {
                    question: "Ø£ÙŠ ÙƒÙ„Ù…Ø© Ù„Ø§ ØªØ­ØªÙˆÙŠ Ø­Ø±Ù 'Ø±'ØŸ",
                    options: ["Ø´Ø¬Ø±Ø©", "ÙˆØ±Ø¯Ø©", "Ø³ÙŠØ§Ø±Ø©", "ØªÙØ§Ø­Ø©"],
                    answer: 3,
                    explanation: "ÙƒÙ„Ù…Ø© <strong>ØªÙØ§Ø­Ø©</strong> Ù„Ø§ ØªØ­ØªÙˆÙŠ Ø­Ø±Ù Ø§Ù„Ø±Ø§Ø¡!"
                }
            ],
            animals: [
                {
                    question: "Ù…Ø§ Ø§Ù„Ø­ÙŠÙˆØ§Ù† Ø§Ù„Ø°ÙŠ ÙŠØ¨Ø¯Ø£ Ø¨Ø­Ø±Ù 'Ù'ØŸ",
                    options: ["Ø£Ø³Ø¯", "Ù†Ù…Ø±", "ÙÙŠÙ„", "Ø°Ø¦Ø¨"],
                    answer: 2,
                    explanation: "<strong>Ø§Ù„ÙÙŠÙ„</strong> ÙŠØ¨Ø¯Ø£ Ø¨Ø­Ø±Ù Ø§Ù„ÙØ§Ø¡!"
                },
                {
                    question: "Ø£ÙŠ Ø­ÙŠÙˆØ§Ù† ÙŠØ¨Ø¯Ø£ Ø¨Ø­Ø±Ù 'Ø¶'ØŸ",
                    options: ["Ø¶ÙØ¯Ø¹", "Ø²Ø±Ø§ÙØ©", "ØºØ²Ø§Ù„", "Ø¯Ø¨"],
                    answer: 0,
                    explanation: "<strong>Ø§Ù„Ø¶ÙØ¯Ø¹</strong> ÙŠØ¨Ø¯Ø£ Ø¨Ø­Ø±Ù Ø§Ù„Ø¶Ø§Ø¯!"
                },
                {
                    question: "Ù…Ø§ Ø§Ù„Ø­Ø±Ù Ø§Ù„Ø°ÙŠ ÙŠØ¨Ø¯Ø£ Ø¨Ù‡ Ø§Ø³Ù… 'Ø²Ø±Ø§ÙØ©'ØŸ",
                    options: ["Ø²", "Ø±", "Ù", "Ø©"],
                    answer: 0,
                    explanation: "ÙƒÙ„Ù…Ø© <strong>Ø²Ø±Ø§ÙØ©</strong> ØªØ¨Ø¯Ø£ Ø¨Ø­Ø±Ù Ø§Ù„Ø²Ø§ÙŠ!"
                }
            ],
            shapes: [
                {
                    question: "ÙƒÙŠÙ ÙŠÙƒØªØ¨ Ø­Ø±Ù 'Ø¹' ÙÙŠ Ø£ÙˆÙ„ Ø§Ù„ÙƒÙ„Ù…Ø©ØŸ",
                    options: ["Ù€Ø¹Ù€", "Ø¹Ù€", "Ø¹", "Ù€Ø¹"],
                    answer: 1,
                    explanation: "Ø­Ø±Ù Ø§Ù„Ø¹ÙŠÙ† ÙÙŠ Ø£ÙˆÙ„ Ø§Ù„ÙƒÙ„Ù…Ø© ÙŠÙƒØªØ¨ <strong>Ø¹Ù€</strong>!"
                },
                {
                    question: "Ù…Ø§ Ø´ÙƒÙ„ Ø­Ø±Ù 'Ù…' ÙÙŠ ÙˆØ³Ø· Ø§Ù„ÙƒÙ„Ù…Ø©ØŸ",
                    options: ["Ù…", "Ù…Ù€", "Ù€Ù…Ù€", "Ù€Ù…"],
                    answer: 2,
                    explanation: "Ø­Ø±Ù Ø§Ù„Ù…ÙŠÙ… ÙÙŠ ÙˆØ³Ø· Ø§Ù„ÙƒÙ„Ù…Ø© ÙŠÙƒØªØ¨ <strong>Ù€Ù…Ù€</strong>!"
                },
                {
                    question: "ÙƒÙŠÙ ÙŠÙƒØªØ¨ Ø­Ø±Ù 'Ù„' ÙÙŠ Ø¢Ø®Ø± Ø§Ù„ÙƒÙ„Ù…Ø©ØŸ",
                    options: ["Ù„", "Ù„Ù€", "Ù€Ù„Ù€", "Ù€Ù„"],
                    answer: 3,
                    explanation: "Ø­Ø±Ù Ø§Ù„Ù„Ø§Ù… ÙÙŠ Ø¢Ø®Ø± Ø§Ù„ÙƒÙ„Ù…Ø© ÙŠÙƒØªØ¨ <strong>Ù€Ù„</strong>!"
                }
            ],
            sounds: [
                {
                    question: "Ù…Ø§ Ø§Ù„Ø­Ø±Ù Ø§Ù„Ø°ÙŠ ÙŠØµØ¯Ø± Ù‡Ø°Ø§ Ø§Ù„ØµÙˆØªØŸ",
                    options: ["Ø¨", "Øª", "Ø«", "Ø¬"],
                    answer: 0,
                    explanation: "Ù‡Ø°Ø§ ØµÙˆØª Ø­Ø±Ù <strong>Ø§Ù„Ø¨Ø§Ø¡</strong>!",
                    sound: "https://www.islamic-knowledge.com/Hijaiya/Baa.ogg"
                },
                {
                    question: "Ù…Ø§ Ø§Ù„Ø­Ø±Ù Ø§Ù„Ø°ÙŠ ÙŠØµØ¯Ø± Ù‡Ø°Ø§ Ø§Ù„ØµÙˆØªØŸ",
                    options: ["Ø¯", "Ø°", "Ø±", "Ø²"],
                    answer: 2,
                    explanation: "Ù‡Ø°Ø§ ØµÙˆØª Ø­Ø±Ù <strong>Ø§Ù„Ø±Ø§Ø¡</strong>!",
                    sound: "https://www.islamic-knowledge.com/Hijaiya/Raa.ogg"
                },
                {
                    question: "Ù…Ø§ Ø§Ù„Ø­Ø±Ù Ø§Ù„Ø°ÙŠ ÙŠØµØ¯Ø± Ù‡Ø°Ø§ Ø§Ù„ØµÙˆØªØŸ",
                    options: ["Øµ", "Ø¶", "Ø·", "Ø¸"],
                    answer: 1,
                    explanation: "Ù‡Ø°Ø§ ØµÙˆØª Ø­Ø±Ù <strong>Ø§Ù„Ø¶Ø§Ø¯</strong>!",
                    sound: "https://www.islamic-knowledge.com/Hijaiya/Dhaad.ogg"
                }
            ],
            challenge: [
                {
                    question: "Ù…Ø§ Ø§Ù„Ø­Ø±Ù Ø§Ù„Ù†Ø§Ù‚Øµ ÙÙŠ Ø§Ù„ÙƒÙ„Ù…Ø©: 'Ø³__Ø§Ø¯Ø©'ØŸ",
                    options: ["ÙŠ", "Ùˆ", "Ù„", "Ù†"],
                    answer: 2,
                    explanation: "Ø§Ù„ÙƒÙ„Ù…Ø© Ø§Ù„ØµØ­ÙŠØ­Ø© Ù‡ÙŠ <strong>Ø³Ù„Ø§Ø¯Ø©</strong> Ø¨Ø­Ø±Ù Ø§Ù„Ù„Ø§Ù…!"
                },
                {
                    question: "ÙƒÙ… Ø­Ø±ÙØ§Ù‹ ÙÙŠ ÙƒÙ„Ù…Ø© 'Ù…Ø¯Ø±Ø³Ø©'ØŸ",
                    options: ["4", "5", "6", "7"],
                    answer: 1,
                    explanation: "ÙƒÙ„Ù…Ø© <strong>Ù…Ø¯Ø±Ø³Ø©</strong> ØªØªÙƒÙˆÙ† Ù…Ù† 5 Ø£Ø­Ø±Ù: Ù… Ø¯ Ø± Ø³ Ø©!"
                },
                {
                    question: "Ù…Ø§ Ø§Ù„ÙƒÙ„Ù…Ø© Ø§Ù„ØªÙŠ ØªØ­ØªÙˆÙŠ Ø­Ø±Ù 'Ø¸'ØŸ",
                    options: ["ÙØ§Ø±", "Ø¨Ø­Ø±", "Ø¸Ø¨ÙŠ", "ÙƒÙ„Ø¨"],
                    answer: 2,
                    explanation: "ÙƒÙ„Ù…Ø© <strong>Ø¸Ø¨ÙŠ</strong> ØªØ­ØªÙˆÙŠ Ø­Ø±Ù Ø§Ù„Ø¸Ø§Ø¡!"
                }
            ]
        };

        // Ù…ØªØºÙŠØ±Ø§Øª Ø§Ù„Ù„Ø¹Ø¨Ø©
        let currentGame = '';
        let questions = [];
        let currentQuestionIndex = 0;
        let score = 0;
        let timer;
        let timeLeft = 60;
        let selectedOption = null;

        // ØªÙ‡ÙŠØ¦Ø© Ø§Ù„Ù„Ø¹Ø¨Ø©
        function init() {
            // ÙŠÙ…ÙƒÙ† Ø¥Ø¶Ø§ÙØ© ØªÙ‡ÙŠØ¦Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ© Ù‡Ù†Ø§
        }

        // Ø¨Ø¯Ø¡ Ø§Ù„Ù„Ø¹Ø¨Ø©
        function startGame(game) {
            currentGame = game;
            questions = [...gameData[game]];
            currentQuestionIndex = 0;
            score = 0;
            timeLeft = 60;
            
            shuffleArray(questions);
            
            document.getElementById('main-menu').style.display = 'none';
            document.getElementById('game-screen').style.display = 'block';
            document.getElementById('score').textContent = score;
            document.getElementById('time').textContent = timeLeft;
            
            startTimer();
            showQuestion();
            
            // ØªØ´ØºÙŠÙ„ Ø§Ù„Ù…ÙˆØ³ÙŠÙ‚Ù‰ Ø§Ù„Ø®Ù„ÙÙŠØ©
            const bgMusic = document.getElementById('bg-music');
            bgMusic.volume = 0.3;
            bgMusic.play();
        }

        // Ø¹Ø±Ø¶ Ø§Ù„Ø³Ø¤Ø§Ù„ Ø§Ù„Ø­Ø§Ù„ÙŠ
        function showQuestion() {
            const question = questions[currentQuestionIndex];
            const questionElement = document.getElementById('question');
            const optionsElement = document.getElementById('options');
            const feedbackElement = document.getElementById('feedback');
            const nextBtn = document.getElementById('next-btn');
            
            questionElement.innerHTML = question.question;
            optionsElement.innerHTML = '';
            feedbackElement.style.display = 'none';
            feedbackElement.className = 'feedback';
            nextBtn.style.display = 'none';
            selectedOption = null;
            
            // ØªØ´ØºÙŠÙ„ Ø§Ù„ØµÙˆØª Ø¥Ø°Ø§ ÙƒØ§Ù† Ø§Ù„Ø³Ø¤Ø§Ù„ ÙŠØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ ØµÙˆØª
            if (question.sound) {
                const sound = new Audio(question.sound);
                sound.play();
            }
            
            // Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø®ÙŠØ§Ø±Ø§Øª
            question.options.forEach((option, index) => {
                const optionElement = document.createElement('div');
                optionElement.className = 'option';
                optionElement.textContent = option;
                optionElement.onclick = () => selectOption(index, optionElement);
                optionsElement.appendChild(optionElement);
            });
        }

        // Ø§Ø®ØªÙŠØ§Ø± Ø¥Ø¬Ø§Ø¨Ø©
        function selectOption(index, element) {
            if (selectedOption !== null) return;
            
            const question = questions[currentQuestionIndex];
            const feedbackElement = document.getElementById('feedback');
            const nextBtn = document.getElementById('next-btn');
            
            selectedOption = index;
            
            if (index === question.answer) {
                // Ø¥Ø¬Ø§Ø¨Ø© ØµØ­ÙŠØ­Ø©
                element.classList.add('correct');
                feedbackElement.innerHTML = `ğŸ‰ ${question.explanation}`;
                feedbackElement.classList.add('correct');
                score += 10;
                document.getElementById('score').textContent = score;
                
                // ØªØ´ØºÙŠÙ„ ØµÙˆØª Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© Ø§Ù„ØµØ­ÙŠØ­Ø©
                document.getElementById('correct-sound').play();
                
                // Ø¹Ø±Ø¶ ØªØ£Ø«ÙŠØ±Ø§Øª Ø§Ù„Ø§Ø­ØªÙØ§Ù„
                celebrate();
            } else {
                // Ø¥Ø¬Ø§Ø¨Ø© Ø®Ø§Ø·Ø¦Ø©
                element.classList.add('wrong');
                document.querySelectorAll('.option')[question.answer].classList.add('correct');
                feedbackElement.innerHTML = `âŒ ${question.explanation}`;
                feedbackElement.classList.add('wrong');
                
                // ØªØ´ØºÙŠÙ„ ØµÙˆØª Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© Ø§Ù„Ø®Ø§Ø·Ø¦Ø©
                document.getElementById('wrong-sound').play();
                
                // Ø®ØµÙ… Ø§Ù„Ù†Ù‚Ø§Ø·
                score = Math.max(0, score - 5);
                document.getElementById('score').textContent = score;
            }
            
            feedbackElement.style.display = 'block';
            nextBtn.style.display = 'block';
        }

        // Ø§Ù„Ø§Ù†ØªÙ‚Ø§Ù„ Ø¥Ù„Ù‰ Ø§Ù„Ø³Ø¤Ø§Ù„ Ø§Ù„ØªØ§Ù„ÙŠ
        function nextQuestion() {
            currentQuestionIndex++;
            
            if (currentQuestionIndex < questions.length) {
                showQuestion();
            } else {
                endGame();
            }
        }

        // Ø¨Ø¯Ø¡ Ø§Ù„Ù…Ø¤Ù‚Øª
        function startTimer() {
            clearInterval(timer);
            timer = setInterval(() => {
                timeLeft--;
                document.getElementById('time').textContent = timeLeft;
                
                if (timeLeft <= 0) {
                    endGame();
                }
            }, 1000);
        }

        // Ø¥Ù†Ù‡Ø§Ø¡ Ø§Ù„Ù„Ø¹Ø¨Ø©
        function endGame() {
            clearInterval(timer);
            
            const questionElement = document.getElementById('question');
            const optionsElement = document.getElementById('options');
            const feedbackElement = document.getElementById('feedback');
            const nextBtn = document.getElementById('next-btn');
            
            questionElement.textContent = `Ø§Ù†ØªÙ‡Ù‰ Ø§Ù„ÙˆÙ‚Øª! Ù†ØªÙŠØ¬ØªÙƒ Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠØ©: ${score} Ù†Ù‚Ø·Ø©`;
            optionsElement.innerHTML = '';
            feedbackElement.style.display = 'none';
            nextBtn.style.display = 'none';
            
            // Ø¥ÙŠÙ‚Ø§Ù Ø§Ù„Ù…ÙˆØ³ÙŠÙ‚Ù‰ Ø§Ù„Ø®Ù„ÙÙŠØ©
            document.getElementById('bg-music').pause();
            
            // ØªØ´ØºÙŠÙ„ ØµÙˆØª Ø§Ù„ÙÙˆØ² Ø¥Ø°Ø§ ÙƒØ§Ù†Øª Ø§Ù„Ù†ØªÙŠØ¬Ø© Ø¬ÙŠØ¯Ø©
            if (score >= 20) {
                document.getElementById('win-sound').play();
                showSuccessPopup();
            }
            
            // Ø¹Ø±Ø¶ Ø²Ø± Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø©
            const restartBtn = document.createElement('button');
            restartBtn.className = 'btn btn-primary';
            restartBtn.textContent = 'Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø©';
            restartBtn.onclick = () => startGame(currentGame);
            restartBtn.style.margin = '20px auto';
            restartBtn.style.display = 'block';
            optionsElement.appendChild(restartBtn);
        }

        // Ø§Ù„Ø¹ÙˆØ¯Ø© Ø¥Ù„Ù‰ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©
        function backToMenu() {
            clearInterval(timer);
            document.getElementById('main-menu').style.display = 'flex';
            document.getElementById('game-screen').style.display = 'none';
            
            // Ø¥ÙŠÙ‚Ø§Ù Ø§Ù„Ù…ÙˆØ³ÙŠÙ‚Ù‰ Ø§Ù„Ø®Ù„ÙÙŠØ©
            document.getElementById('bg-music').pause();
        }

        // ØªØ£Ø«ÙŠØ±Ø§Øª Ø§Ù„Ø§Ø­ØªÙØ§Ù„
        function celebrate() {
            const celebration = document.getElementById('celebration');
            celebration.innerHTML = '';
            celebration.style.display = 'block';
            
            // Ø¥Ù†Ø´Ø§Ø¡ Ù‚Ø·Ø¹ Ø§Ù„ÙƒÙˆÙ†ÙÙŠØªÙŠ
            for (let i = 0; i < 50; i++) {
                const confetti = document.createElement('div');
                confetti.className = 'confetti';
                
                // Ø£Ù„ÙˆØ§Ù† Ø¹Ø´ÙˆØ§Ø¦ÙŠØ©
                const colors = ['#ff595e', '#8ac926', '#1982c4', '#6a4c93', '#ffca3a'];
                const color = colors[Math.floor(Math.random() * colors.length)];
                confetti.style.backgroundColor = color;
                
                // Ø£Ø­Ø¬Ø§Ù… Ø¹Ø´ÙˆØ§Ø¦ÙŠØ©
                const size = Math.random() * 15 + 5;
                confetti.style.width = `${size}px`;
                confetti.style.height = `${size}px`;
                
                // Ù…ÙˆØ§Ù‚Ø¹ Ø¹Ø´ÙˆØ§Ø¦ÙŠØ©
                confetti.style.left = `${Math.random() * 100}%`;
                
                // Ø³Ø±Ø¹Ø§Øª Ø¹Ø´ÙˆØ§Ø¦ÙŠØ©
                const duration = Math.random() * 2 + 2;
                confetti.style.animationDuration = `${duration}s`;
                
                // ØªØ£Ø®ÙŠØ±Ø§Øª Ø¹Ø´ÙˆØ§Ø¦ÙŠØ©
                confetti.style.animationDelay = `${Math.random()}s`;
                
                celebration.appendChild(confetti);
            }
            
            // Ø¥Ø®ÙØ§Ø¡ Ø§Ù„ÙƒÙˆÙ†ÙÙŠØªÙŠ Ø¨Ø¹Ø¯ 3 Ø«ÙˆØ§Ù†ÙŠ
            setTimeout(() => {
                celebration.style.display = 'none';
            }, 3000);
        }

        // Ø¹Ø±Ø¶ Ø±Ø³Ø§Ù„Ø© Ø§Ù„Ù†Ø¬Ø§Ø­
        function showSuccessPopup() {
            const popup = document.createElement('div');
            popup.className = 'success-popup';
            
            const icon = document.createElement('div');
            icon.className = 'success-icon';
            icon.innerHTML = '<i class="fas fa-trophy"></i>';
            
            const title = document.createElement('div');
            title.className = 'success-title';
            title.textContent = 'Ø£Ø­Ø³Ù†Øª! Ù„Ù‚Ø¯ ÙØ²Øª!';
            
            const scoreText = document.createElement('div');
            scoreText.style.fontSize = '1.5rem';
            scoreText.style.margin = '15px 0';
            scoreText.textContent = `Ù†Ù‚Ø§Ø·Ùƒ: ${score}`;
            
            const restartBtn = document.createElement('button');
            restartBtn.className = 'btn btn-primary';
            restartBtn.textContent = 'Ø§Ù„Ø¹Ø¨ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰';
            restartBtn.onclick = () => {
                popup.remove();
                startGame(currentGame);
            };
            
            popup.appendChild(icon);
            popup.appendChild(title);
            popup.appendChild(scoreText);
            popup.appendChild(restartBtn);
            
            document.body.appendChild(popup);
        }

        // Ø¬Ø¹Ù„ Ø§Ù„Ø´Ø®ØµÙŠØ© ØªØªØ­Ø¯Ø«
        function characterSpeak() {
            const messages = [
                "Ø£Ù‡Ù„Ø§Ù‹! Ø£Ù†Ø§ ØµØ¯ÙŠÙ‚Ùƒ ÙÙŠ Ù‡Ø°Ù‡ Ø§Ù„Ù…ØºØ§Ù…Ø±Ø©!",
                "ØªØ¹Ù„Ù… Ø§Ù„Ø­Ø±ÙˆÙ Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© Ù…Ù…ØªØ¹ Ø¬Ø¯Ø§Ù‹!",
                "ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ù„Ù†Ù‚Ø± Ø¹Ù„Ù‰ Ø£ÙŠÙ‚ÙˆÙ†Ø§Øª Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ù„Ø¨Ø¯Ø¡ Ø§Ù„Ù„Ø¹Ø¨!",
                "Ø§Ø­Ø±Øµ Ø¹Ù„Ù‰ Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© Ø¨Ø³Ø±Ø¹Ø© Ù„ØªØ­ØµÙ„ Ø¹Ù„Ù‰ Ù†Ù‚Ø§Ø· Ø£ÙƒØ«Ø±!",
                "Ø£Ø­Ø¨ ØªØ¹Ù„ÙŠÙ… Ø§Ù„Ø£Ø·ÙØ§Ù„ Ø§Ù„Ø­Ø±ÙˆÙ Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©!"
            ];
            
            const randomMessage = messages[Math.floor(Math.random() * messages.length)];
            
            const speechBubble = document.createElement('div');
            speechBubble.style.position = 'fixed';
            speechBubble.style.bottom = '200px';
            speechBubble.style.right = '50px';
            speechBubble.style.background = 'white';
            speechBubble.style.padding = '15px';
            speechBubble.style.borderRadius = '20px';
            speechBubble.style.boxShadow = '0 4px 8px rgba(0,0,0,0.2)';
            speechBubble.style.maxWidth = '200px';
            speechBubble.style.animation = 'fadeIn 0.5s';
            speechBubble.textContent = randomMessage;
            
            document.body.appendChild(speechBubble);
            
            setTimeout(() => {
                speechBubble.style.animation = 'fadeIn 0.5s reverse';
                setTimeout(() => speechBubble.remove(), 500);
            }, 3000);
        }

        // Ø®Ù„Ø· Ø§Ù„Ù…ØµÙÙˆÙØ© Ø¹Ø´ÙˆØ§Ø¦ÙŠØ§Ù‹
        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
            return array;
        }

        // ØªÙ‡ÙŠØ¦Ø© Ø§Ù„Ù„Ø¹Ø¨Ø© Ø¹Ù†Ø¯ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙØ­Ø©
        window.onload = init;
    </script>
</body>
</html>