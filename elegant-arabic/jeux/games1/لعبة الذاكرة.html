<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù„Ø¹Ø¨Ø© Ø§Ù„Ø°Ø§ÙƒØ±Ø©</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f0f8ff;
            text-align: center;
        }
        h1 {
            color: #2c3e50;
        }
        .memory-game {
            display: flex;
            flex-wrap: wrap;
            width: 420px;
            height: 420px;
            margin: auto;
            perspective: 1000px;
        }
        .memory-card {
            width: calc(25% - 10px);
            height: calc(33.333% - 10px);
            margin: 5px;
            position: relative;
            transform: scale(1);
            transform-style: preserve-3d;
            transition: transform .5s;
        }
        .memory-card:active {
            transform: scale(0.97);
            transition: transform .2s;
        }
        .memory-card.flip {
            transform: rotateY(180deg);
        }
        .front-face, .back-face {
            width: 100%;
            height: 100%;
            padding: 10px;
            position: absolute;
            border-radius: 5px;
            background: #3498db;
            backface-visibility: hidden;
        }
        .front-face {
            transform: rotateY(180deg);
            background: white;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 30px;
        }
        .back-face {
            background: #2c3e50;
            color: white;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 20px;
        }
        .stats {
            margin: 20px;
            font-size: 18px;
        }
        .reset-btn {
            padding: 10px 20px;
            font-size: 16px;
            background-color: #e74c3c;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            margin-top: 10px;
        }
    </style>
</head>
<body>
    <h1>Ù„Ø¹Ø¨Ø© Ø§Ù„Ø°Ø§ÙƒØ±Ø©</h1>
    <div class="stats">
        <span id="moves">0</span> Ø­Ø±ÙƒØ§Øª | 
        <span id="timer">0</span> Ø«Ø§Ù†ÙŠØ©
    </div>
    <div class="memory-game" id="memoryGame"></div>
    <button class="reset-btn" id="resetBtn">Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ù„Ø¹Ø¨</button>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const memoryGame = document.getElementById('memoryGame');
            const movesDisplay = document.getElementById('moves');
            const timerDisplay = document.getElementById('timer');
            const resetBtn = document.getElementById('resetBtn');
            
            const emojis = ['ðŸ¶', 'ðŸ±', 'ðŸ­', 'ðŸ¹', 'ðŸ°', 'ðŸ¦Š', 'ðŸ»', 'ðŸ¼'];
            const cards = [...emojis, ...emojis];
            
            let hasFlippedCard = false;
            let lockBoard = false;
            let firstCard, secondCard;
            let moves = 0;
            let timer = 0;
            let timerInterval;
            let matchedPairs = 0;
            
            // Ø®Ù„Ø· Ø§Ù„Ø¨Ø·Ø§Ù‚Ø§Øª
            function shuffle() {
                cards.sort(() => 0.5 - Math.random());
            }
            
            // Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø¨Ø·Ø§Ù‚Ø§Øª
            function createBoard() {
                shuffle();
                memoryGame.innerHTML = '';
                
                cards.forEach((emoji, index) => {
                    const card = document.createElement('div');
                    card.classList.add('memory-card');
                    card.dataset.emoji = emoji;
                    
                    card.innerHTML = `
                        <div class="front-face">${emoji}</div>
                        <div class="back-face">${index + 1}</div>
                    `;
                    
                    card.addEventListener('click', flipCard);
                    memoryGame.appendChild(card);
                });
                
                // Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª
                moves = 0;
                timer = 0;
                matchedPairs = 0;
                movesDisplay.textContent = moves;
                timerDisplay.textContent = timer;
                clearInterval(timerInterval);
                timerInterval = setInterval(() => {
                    timer++;
                    timerDisplay.textContent = timer;
                }, 1000);
            }
            
            // Ù‚Ù„Ø¨ Ø§Ù„Ø¨Ø·Ø§Ù‚Ø©
            function flipCard() {
                if (lockBoard) return;
                if (this === firstCard) return;
                
                this.classList.add('flip');
                
                if (!hasFlippedCard) {
                    hasFlippedCard = true;
                    firstCard = this;
                    return;
                }
                
                secondCard = this;
                moves++;
                movesDisplay.textContent = moves;
                checkForMatch();
            }
            
            // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„ØªØ·Ø§Ø¨Ù‚
            function checkForMatch() {
                const isMatch = firstCard.dataset.emoji === secondCard.dataset.emoji;
                
                if (isMatch) {
                    disableCards();
                    matchedPairs++;
                    if (matchedPairs === emojis.length) {
                        clearInterval(timerInterval);
                        setTimeout(() => alert(`ØªÙ‡Ø§Ù†ÙŠÙ†Ø§! Ù„Ù‚Ø¯ Ø£ÙƒÙ…Ù„Øª Ø§Ù„Ù„Ø¹Ø¨Ø© ÙÙŠ ${moves} Ø­Ø±ÙƒØ© Ùˆ ${timer} Ø«Ø§Ù†ÙŠØ©!`), 500);
                    }
                } else {
                    unflipCards();
                }
            }
            
            // ØªØ¹Ø·ÙŠÙ„ Ø§Ù„Ø¨Ø·Ø§Ù‚Ø§Øª Ø§Ù„Ù…ØªØ·Ø§Ø¨Ù‚Ø©
            function disableCards() {
                firstCard.removeEventListener('click', flipCard);
                secondCard.removeEventListener('click', flipCard);
                
                resetBoard();
            }
            
            // Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ø¨Ø·Ø§Ù‚Ø§Øª ØºÙŠØ± Ø§Ù„Ù…ØªØ·Ø§Ø¨Ù‚Ø©
            function unflipCards() {
                lockBoard = true;
                
                setTimeout(() => {
                    firstCard.classList.remove('flip');
                    secondCard.classList.remove('flip');
                    
                    resetBoard();
                }, 1000);
            }
            
            // Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ù„ÙˆØ­Ø©
            function resetBoard() {
                [hasFlippedCard, lockBoard] = [false, false];
                [firstCard, secondCard] = [null, null];
            }
            
            // Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ù„Ø¹Ø¨
            resetBtn.addEventListener('click', createBoard);
            
            // Ø¨Ø¯Ø¡ Ø§Ù„Ù„Ø¹Ø¨Ø©
            createBoard();
        });
    </script>
</body>
</html>