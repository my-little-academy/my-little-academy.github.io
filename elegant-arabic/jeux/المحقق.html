<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù…Ø­Ù‚Ù‚ Ø§Ù„Ù‚ÙˆØ§Ø¹Ø¯</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Almarai:wght@400;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary-color: #3f608a; /* Ø£Ø²Ø±Ù‚ Ø¯Ø§ÙƒÙ† */
            --secondary-color: #f7b731; /* Ø¨Ø±ØªÙ‚Ø§Ù„ÙŠ Ø³Ø§Ø·Ø¹ */
            --accent-color: #fc4a1a; /* Ø£Ø­Ù…Ø± Ø¨Ø±ØªÙ‚Ø§Ù„ÙŠ */
            --bg-color: #2c3e50; /* Ø®Ù„ÙÙŠØ© Ø¯Ø§ÙƒÙ†Ø© */
            --correct-color: #2ecc71; /* Ø£Ø®Ø¶Ø± */
            --wrong-color: #e74c3c; /* Ø£Ø­Ù…Ø± */
            --text-color: #ecf0f1; /* Ø±Ù…Ø§Ø¯ÙŠ ÙØ§ØªØ­ */
            --card-bg: rgba(255, 255, 255, 0.1);
        }

        body {
            font-family: 'Almarai', sans-serif;
            background: radial-gradient(circle at top left, var(--primary-color) 0%, var(--bg-color) 100%);
            color: var(--text-color);
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            overflow: hidden;
            position: relative;
        }

        .star {
            position: absolute;
            background: #fff;
            border-radius: 50%;
            animation: twinkle 2s infinite ease-in-out alternate;
            opacity: 0;
        }
        @keyframes twinkle {
            0% { opacity: 0; transform: scale(0.5); }
            100% { opacity: 1; transform: scale(1); }
        }

        .game-container {
            width: 90%;
            max-width: 800px;
            min-height: 600px;
            background: var(--card-bg);
            border-radius: 2rem;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            padding: 2rem;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 1.5rem;
            position: relative;
        }

        .character {
            font-size: 5rem;
            animation: bounce 1s infinite alternate;
        }
        @keyframes bounce {
            from { transform: translateY(0); }
            to { transform: translateY(-10px); }
        }

        .correct-animation {
            animation: pulse 0.5s ease-in-out;
        }
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.1); }
            100% { transform: scale(1); }
        }

        .options-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1rem;
            width: 100%;
        }

        .option-button {
            background-color: var(--secondary-color);
            color: var(--bg-color);
            font-weight: bold;
            padding: 1rem;
            border-radius: 1rem;
            transition: transform 0.2s, background-color 0.2s;
            cursor: pointer;
            text-align: center;
            border: none;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        .option-button:hover {
            transform: translateY(-3px);
            background-color: #fce38a;
        }
        .option-button:active {
            transform: translateY(0);
        }

        .correct {
            background-color: var(--correct-color);
            animation: flash-correct 0.5s ease-out;
        }
        @keyframes flash-correct {
            0% { transform: scale(1); }
            50% { transform: scale(1.1); }
            100% { transform: scale(1); }
        }
        
        .wrong {
            background-color: var(--wrong-color);
            animation: shake 0.5s ease-out;
        }
        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            10%, 30%, 50%, 70%, 90% { transform: translateX(-5px); }
            20%, 40%, 60%, 80% { transform: translateX(5px); }
        }

        .score-container {
            display: flex;
            justify-content: space-around;
            width: 100%;
            font-size: 1.25rem;
            margin-top: auto;
            background: rgba(0, 0, 0, 0.2);
            padding: 0.75rem 1.5rem;
            border-radius: 1rem;
        }

        .confetti {
            position: absolute;
            width: 10px;
            height: 10px;
            background-color: var(--secondary-color);
            opacity: 0;
            animation: confetti-fall 2s ease-out forwards;
        }
        @keyframes confetti-fall {
            0% { opacity: 1; transform: translateY(0) rotate(0deg); }
            100% { opacity: 0; transform: translateY(500px) rotate(720deg); }
        }
        
        .modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.8);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 100;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.3s ease;
        }
        .modal.active {
            opacity: 1;
            pointer-events: auto;
        }
        .modal-content {
            background: linear-gradient(135deg, var(--primary-color), var(--bg-color));
            padding: 2.5rem;
            border-radius: 1.5rem;
            text-align: center;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            transform: scale(0.9);
            transition: transform 0.3s ease;
        }
        .modal.active .modal-content {
            transform: scale(1);
        }
        .modal-content h2 {
            font-size: 2rem;
            font-weight: bold;
            margin-bottom: 1rem;
            color: var(--secondary-color);
        }
        .modal-content p {
            font-size: 1.25rem;
            margin-bottom: 2rem;
        }
        .modal-content button {
            background-color: var(--accent-color);
            color: white;
            padding: 0.75rem 2rem;
            border-radius: 1rem;
            font-weight: bold;
            border: none;
            cursor: pointer;
            transition: background-color 0.2s;
        }
        .modal-content button:hover {
            background-color: #ff6347;
        }

        .fade-in {
            animation: fadeIn 0.5s forwards;
        }
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
    </style>
</head>
<body>

    <!-- Stars effect -->
    <div id="stars-container"></div>
    
    <!-- Game Container -->
    <div id="game-container" class="game-container fade-in">
        <h1 class="text-4xl font-bold text-center">ğŸ•µï¸â€â™‚ï¸ Ù…Ø­Ù‚Ù‚ Ø§Ù„Ù‚ÙˆØ§Ø¹Ø¯ ğŸ•µï¸â€â™€ï¸</h1>
        <p class="text-lg text-center mt-2">Ù…Ø±Ø­Ø¨Ø§Ù‹ ÙŠØ§ Ù…Ø­Ù‚Ù‚! Ù‡ÙŠØ§ Ù„Ù†Ø­Ù„ Ø§Ù„Ø£Ù„ØºØ§Ø² Ø§Ù„Ù†Ø­ÙˆÙŠØ©.</p>
        
        <div id="start-screen" class="w-full flex flex-col items-center justify-center p-8 text-center">
            <p class="text-3xl font-bold mb-4">Ø§Ù†Ø·Ù„Ù‚ ÙÙŠ Ù…ØºØ§Ù…Ø±Ø© Ø´ÙŠÙ‚Ø© Ù„ØªØ¹Ù„Ù… Ø§Ù„Ù‚ÙˆØ§Ø¹Ø¯!</p>
            <button id="start-button" class="bg-accent-color hover:bg-red-500 text-white font-bold py-3 px-6 rounded-xl text-2xl transition-colors">Ø§Ø¨Ø¯Ø£ Ø§Ù„Ù„Ø¹Ø¨Ø©</button>
        </div>

        <div id="game-content" class="w-full" style="display: none;">
            <div id="character-display" class="character">
                ğŸ”
            </div>

            <div id="game-area" class="w-full">
                <div id="question-text" class="text-center text-2xl font-bold mb-6 mt-4 p-4 rounded-xl bg-gray-700 bg-opacity-30 border-2 border-white border-opacity-20">
                    <!-- Question will be injected here -->
                </div>

                <div id="options-container" class="options-grid">
                    <!-- Options will be injected here -->
                </div>
            </div>
            
            <div id="feedback-display" class="text-center text-3xl font-bold transition-all duration-300 transform scale-0 opacity-0 absolute">
                <!-- Feedback messages will be displayed here -->
            </div>

            <div id="score-container" class="score-container mt-auto">
                <div class="text-center">
                    <span id="current-level">Ø§Ù„Ù…Ø³ØªÙˆÙ‰ 1</span>
                </div>
                <div class="text-center">
                    Ø§Ù„Ù†Ù‚Ø§Ø·: <span id="score-value">0</span>
                </div>
                <div class="text-center">
                    Ø§Ù„Ø¯Ù‚Ø©: <span id="accuracy-value">100%</span>
                </div>
            </div>
        </div>

    </div>

    <!-- Final Score Modal -->
    <div id="results-modal" class="modal">
        <div class="modal-content text-center">
            <h2 id="final-message"></h2>
            <p id="final-stats"></p>
            <button id="restart-button">Ø§Ø¨Ø¯Ø£ Ù…Ù† Ø¬Ø¯ÙŠØ¯</button>
        </div>
    </div>

<script>
    // Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù„Ø¹Ø¨Ø©: Ø§Ù„Ù‚Ø¶Ø§ÙŠØ§ ÙˆØ§Ù„Ø£Ø³Ø¦Ù„Ø©
    const questions = [
        {
            question: "Ù…Ø§ Ù‡ÙŠ Ø§Ù„Ø­Ø±ÙƒØ© Ø§Ù„Ù…Ù†Ø§Ø³Ø¨Ø© Ø¹Ù„Ù‰ Ø¢Ø®Ø± ÙƒÙ„Ù…Ø© 'ÙƒØªØ§Ø¨'ØŸ",
            choices: ["Ù", "Ù", "Ù", "ÙŒ"],
            correctAnswer: "ÙŒ"
        },
        {
            question: "Ø£ÙŠ Ù…Ù† Ù‡Ø°Ù‡ Ø§Ù„ÙƒÙ„Ù…Ø§Øª Ù…Ù†ÙˆÙ†Ø© ØªÙ†ÙˆÙŠÙ† Ø¶Ù…ØŸ",
            choices: ["Ø¨ÙŠØªÙ‹Ø§", "Ø¨ÙŠØªÙ", "ÙƒØªØ§Ø¨ÙŒ"],
            correctAnswer: "ÙƒØªØ§Ø¨ÙŒ"
        },
        {
            question: "ÙÙŠ Ø¬Ù…Ù„Ø© 'Ø£ÙƒÙ„ Ø§Ù„ÙˆÙ„Ø¯Ù Ø§Ù„ØªÙØ§Ø­Ø©'ØŒ Ù…Ù† Ù‡Ùˆ Ø§Ù„ÙØ§Ø¹Ù„ØŸ",
            choices: ["Ø£ÙƒÙ„", "Ø§Ù„ØªÙØ§Ø­Ø©", "Ø§Ù„ÙˆÙ„Ø¯Ù"],
            correctAnswer: "Ø§Ù„ÙˆÙ„Ø¯Ù"
        },
        {
            question: "ÙÙŠ Ø¬Ù…Ù„Ø© 'Ù‚Ø±Ø£ Ø®Ø§Ù„Ø¯ÙŒ ÙƒØªØ§Ø¨Ù‹Ø§'ØŒ Ù…Ø§ Ù‡ÙŠ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…ÙØ¹ÙˆÙ„ Ø¨Ù‡ØŸ",
            choices: ["Ù‚Ø±Ø£", "Ø®Ø§Ù„Ø¯ÙŒ", "ÙƒØªØ§Ø¨Ù‹Ø§"],
            correctAnswer: "ÙƒØªØ§Ø¨Ù‹Ø§"
        },
        {
            question: "Ø£ÙŠ Ù…Ù† Ù‡Ø°Ù‡ Ø§Ù„Ø¬Ù…Ù„Ø© ÙØ¹Ù„ÙŠØ©ØŸ",
            choices: ["Ø§Ù„Ø´Ù…Ø³ Ù…Ø´Ø±Ù‚Ø©", "Ø§Ù„Ù‚Ø·Ø§Ø± Ø³Ø±ÙŠØ¹", "ÙŠÙØ³Ø§ÙØ±Ù Ø£Ø­Ù…Ø¯"],
            correctAnswer: "ÙŠÙØ³Ø§ÙØ±Ù Ø£Ø­Ù…Ø¯"
        },
        {
            question: "Ø£ÙƒÙ…Ù„ Ø§Ù„Ø¬Ù…Ù„Ø© Ø¨Ø­Ø±Ù Ø¬Ø± Ù…Ù†Ø§Ø³Ø¨: 'Ø°Ù‡Ø¨ØªÙ ... Ø§Ù„Ù…Ø¯Ø±Ø³Ø©.'",
            choices: ["Ù…Ù†", "Ø¹Ù„Ù‰", "ÙÙŠ", "Ø¥Ù„Ù‰"],
            correctAnswer: "Ø¥Ù„Ù‰"
        },
        {
            question: "Ù…Ø§ Ù‡Ùˆ Ø§Ù„Ù…Ø«Ù†Ù‰ Ø§Ù„ØµØ­ÙŠØ­ Ù„ÙƒÙ„Ù…Ø© 'Ù‚Ù„Ù…'ØŸ",
            choices: ["Ù‚Ù„Ù…Ø§Ù†", "Ø£Ù‚Ù„Ø§Ù…", "Ù‚Ù„Ù…ÙˆÙ†"],
            correctAnswer: "Ù‚Ù„Ù…Ø§Ù†"
        },
        {
            question: "ÙÙŠ Ø¬Ù…Ù„Ø© 'Ø³Ø§ÙØ±Ù Ø£Ø®ÙŠ Ø£Ù…Ø³'ØŒ Ù…Ø§ Ù‡Ùˆ Ù†ÙˆØ¹ Ø§Ù„ÙØ¹Ù„ØŸ",
            choices: ["ÙØ¹Ù„ Ù…Ø¶Ø§Ø±Ø¹", "ÙØ¹Ù„ Ø£Ù…Ø±", "ÙØ¹Ù„ Ù…Ø§Ø¶Ù"],
            correctAnswer: "ÙØ¹Ù„ Ù…Ø§Ø¶Ù"
        },
        {
            question: "ÙÙŠ Ø¬Ù…Ù„Ø© 'Ø§Ù„Ø¨ÙŠØªÙ Ø¬Ù…ÙŠÙ„ÙŒ'ØŒ Ù…Ø§ Ù‡Ùˆ Ø§Ù„Ø®Ø¨Ø±ØŸ",
            choices: ["Ø§Ù„Ø¨ÙŠØªÙ", "Ø¬Ù…ÙŠÙ„ÙŒ"],
            correctAnswer: "Ø¬Ù…ÙŠÙ„ÙŒ"
        },
        {
            question: "Ù…Ø§ Ù‡ÙŠ Ø§Ù„ØµÙØ© (Ø§Ù„Ù†Ø¹Øª) ÙÙŠ Ø¬Ù…Ù„Ø© 'Ø±Ø£ÙŠØªÙ ÙˆØ±Ø¯Ø©Ù‹ Ø¬Ù…ÙŠÙ„Ø©Ù‹'ØŸ",
            choices: ["Ø±Ø£ÙŠØªÙ", "ÙˆØ±Ø¯Ø©Ù‹", "Ø¬Ù…ÙŠÙ„Ø©Ù‹"],
            correctAnswer: "Ø¬Ù…ÙŠÙ„Ø©Ù‹"
        },
        {
            question: "Ø£ÙƒÙ…Ù„ Ø§Ù„Ø¬Ù…Ù„Ø© Ø¨Ø­Ø±Ù Ø¹Ø·Ù: 'Ø£ÙƒÙ„ØªÙ Ø§Ù„ØªÙØ§Ø­ ... Ø§Ù„Ù…ÙˆØ².'",
            choices: ["Ø¥Ù„Ù‰", "ÙÙŠ", "Ø«Ù…"],
            correctAnswer: "Ø«Ù…"
        },
        {
            question: "Ù…Ø§ Ù‡Ùˆ Ø§Ù„Ø¥Ø¹Ø±Ø§Ø¨ Ø§Ù„ØµØ­ÙŠØ­ Ù„ÙƒÙ„Ù…Ø© 'Ø§Ù„Ø±Ø¬Ù„Ù' ÙÙŠ 'Ø¬Ø§Ø¡ Ø§Ù„Ø±Ø¬Ù„Ù'ØŸ",
            choices: ["Ù…ÙØ¹ÙˆÙ„ Ø¨Ù‡ Ù…Ø±ÙÙˆØ¹", "Ù…Ø¨ØªØ¯Ø£ Ù…Ø±ÙÙˆØ¹", "ÙØ§Ø¹Ù„ Ù…Ø±ÙÙˆØ¹"],
            correctAnswer: "ÙØ§Ø¹Ù„ Ù…Ø±ÙÙˆØ¹"
        }
    ];

    // Ø¹Ù†Ø§ØµØ± HTML
    const gameContainer = document.getElementById('game-container');
    const startScreen = document.getElementById('start-screen');
    const gameContent = document.getElementById('game-content');
    const startButton = document.getElementById('start-button');
    const questionText = document.getElementById('question-text');
    const optionsContainer = document.getElementById('options-container');
    const scoreValue = document.getElementById('score-value');
    const accuracyValue = document.getElementById('accuracy-value');
    const feedbackDisplay = document.getElementById('feedback-display');
    const characterDisplay = document.getElementById('character-display');
    const starsContainer = document.getElementById('stars-container');
    const resultsModal = document.getElementById('results-modal');
    const finalMessage = document.getElementById('final-message');
    const finalStats = document.getElementById('final-stats');
    const restartButton = document.getElementById('restart-button');
    const currentLevelDisplay = document.getElementById('current-level');

    // Ø­Ø§Ù„Ø© Ø§Ù„Ù„Ø¹Ø¨Ø©
    let currentQuestionIndex = 0;
    let score = 0;
    let correctAnswers = 0;
    const totalQuestions = questions.length;

    // ØªÙ‡ÙŠØ¦Ø© Ø§Ù„Ù„Ø¹Ø¨Ø©
    function initializeGame() {
        currentQuestionIndex = 0;
        score = 0;
        correctAnswers = 0;
        updateStats();
        loadQuestion();
        resultsModal.classList.remove('active');
        gameContainer.style.opacity = 1;
        gameContainer.style.transform = 'scale(1)';
    }
    
    // Ø¹Ø±Ø¶ Ø´Ø§Ø´Ø© Ø§Ù„Ø¨Ø¯Ø§ÙŠØ©
    function showStartScreen() {
        startScreen.style.display = 'flex';
        gameContent.style.display = 'none';
        createStars(50);
    }
    
    // Ø¨Ø¯Ø¡ Ø§Ù„Ù„Ø¹Ø¨Ø© Ù…Ù† Ø´Ø§Ø´Ø© Ø§Ù„Ø¨Ø¯Ø§ÙŠØ©
    function startGame() {
        startScreen.style.display = 'none';
        gameContent.style.display = 'flex';
        initializeGame();
    }

    // Ø¥Ù†Ø´Ø§Ø¡ ØªØ£Ø«ÙŠØ± Ø§Ù„Ù†Ø¬ÙˆÙ…
    function createStars(count) {
        starsContainer.innerHTML = '';
        for (let i = 0; i < count; i++) {
            const star = document.createElement('div');
            star.classList.add('star');
            star.style.width = `${Math.random() * 3 + 1}px`;
            star.style.height = star.style.width;
            star.style.top = `${Math.random() * 100}vh`;
            star.style.left = `${Math.random() * 100}vw`;
            star.style.animationDelay = `${Math.random() * 2}s`;
            starsContainer.appendChild(star);
        }
    }

    // ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø³Ø¤Ø§Ù„ ÙˆØ¹Ø±Ø¶Ù‡
    function loadQuestion() {
        if (currentQuestionIndex >= totalQuestions) {
            endGame();
            return;
        }

        const currentQuestion = questions[currentQuestionIndex];
        questionText.textContent = currentQuestion.question;
        currentLevelDisplay.textContent = `Ø§Ù„Ù…Ø³ØªÙˆÙ‰ ${currentQuestionIndex + 1}`;
        optionsContainer.innerHTML = '';

        const allChoices = [...currentQuestion.choices];
        shuffleArray(allChoices); // Ø®Ù„Ø· Ø§Ù„Ø®ÙŠØ§Ø±Ø§Øª

        allChoices.forEach(choice => {
            const button = document.createElement('button');
            button.textContent = choice;
            button.classList.add('option-button');
            button.addEventListener('click', () => checkAnswer(button, choice));
            optionsContainer.appendChild(button);
        });
        
        characterDisplay.textContent = 'ğŸ”';
        feedbackDisplay.classList.remove('scale-100', 'opacity-100');
        feedbackDisplay.classList.add('scale-0', 'opacity-0');
    }

    // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø©
    function checkAnswer(button, selectedAnswer) {
        const currentQuestion = questions[currentQuestionIndex];
        const isCorrect = selectedAnswer === currentQuestion.correctAnswer;
        
        optionsContainer.querySelectorAll('.option-button').forEach(btn => {
            btn.disabled = true;
            if (btn.textContent === currentQuestion.correctAnswer) {
                btn.classList.add('correct');
            }
        });

        if (isCorrect) {
            score += 10;
            correctAnswers++;
            button.classList.add('correct');
            showFeedback('Ø£Ø­Ø³Ù†Øª!', 'var(--correct-color)');
            characterDisplay.textContent = 'ğŸ¤©'; // ØªØ¹Ø¨ÙŠØ± Ø¹Ù† Ø§Ù„ÙØ±Ø­
            showConfetti();
        } else {
            button.classList.add('wrong');
            showFeedback('Ø­Ø§ÙˆÙ„ Ù…Ø¬Ø¯Ø¯Ø§Ù‹', 'var(--wrong-color)');
            characterDisplay.textContent = 'ğŸ§'; // ØªØ¹Ø¨ÙŠØ± Ø¹Ù† Ø§Ù„ØªÙÙƒÙŠØ±
        }

        updateStats();


        // Ø§Ù„Ø§Ù†ØªÙ‚Ø§Ù„ Ù„Ù„Ø³Ø¤Ø§Ù„ Ø§Ù„ØªØ§Ù„ÙŠ Ø¨Ø¹Ø¯ ØªØ£Ø®ÙŠØ±
        setTimeout(() => {
            currentQuestionIndex++;
            loadQuestion();
        }, 1500);
    }
    
    // Ø¹Ø±Ø¶ Ø±Ø³Ø§Ù„Ø© Ø§Ù„ØªÙ‚ÙŠÙŠÙ…
    function showFeedback(message, color) {
        feedbackDisplay.textContent = message;
        feedbackDisplay.style.color = color;
        feedbackDisplay.classList.remove('scale-0', 'opacity-0');
        feedbackDisplay.classList.add('scale-100', 'opacity-100');
    }

    // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª
    function updateStats() {
        scoreValue.textContent = score;
        const totalAttempts = currentQuestionIndex + (currentQuestionIndex === totalQuestions ? 0 : 1);
        const accuracy = totalAttempts > 0 ? (correctAnswers / totalAttempts) * 100 : 100;
        accuracyValue.textContent = `${accuracy.toFixed(0)}%`;
    }

    // Ø¹Ø±Ø¶ ØªØ£Ø«ÙŠØ± Ø§Ù„ÙƒÙˆÙ†ÙÙŠØªÙŠ
    function showConfetti() {
        for (let i = 0; i < 50; i++) {
            const confetti = document.createElement('div');
            confetti.classList.add('confetti');
            confetti.style.left = `${Math.random() * 100}%`;
            confetti.style.backgroundColor = `hsl(${Math.random() * 360}, 100%, 50%)`;
            confetti.style.animationDelay = `${Math.random() * 0.5}s`;
            gameContainer.appendChild(confetti);
        }
    }

    // Ø®Ù„Ø· Ù…ØµÙÙˆÙØ©
    function shuffleArray(array) {
        for (let i = array.length - 1; i > 0; i--) {
            const j = Math.floor(Math.random() * (i + 1));
            [array[i], array[j]] = [array[j], array[i]];
        }
    }

    // Ø¥Ù†Ù‡Ø§Ø¡ Ø§Ù„Ù„Ø¹Ø¨Ø©
    function endGame() {
        const accuracy = (correctAnswers / totalQuestions) * 100;
        let message = '';
        if (accuracy > 80) {
            message = "ÙŠØ§ Ù„Ù‡ Ù…Ù† Ù…Ø­Ù‚Ù‚ Ø±Ø§Ø¦Ø¹! Ù„Ù‚Ø¯ Ø­Ù„Øª Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù‚Ø¶Ø§ÙŠØ§ ØªÙ‚Ø±ÙŠØ¨Ù‹Ø§!";
        } else if (accuracy > 50) {
            message = "Ø¹Ù…Ù„ Ø¬ÙŠØ¯ ÙŠØ§ Ù…Ø­Ù‚Ù‚! Ù„Ù‚Ø¯ Ø£Ø«Ø¨Øª Ø¬Ø¯Ø§Ø±ØªÙƒ.";
        } else {
            message = "Ù„Ø§ Ø¨Ø£Ø³! ØªØ­ØªØ§Ø¬ Ù„Ø¨Ø¹Ø¶ Ø§Ù„ØªØ¯Ø±ÙŠØ¨ Ø§Ù„Ø¥Ø¶Ø§ÙÙŠ Ù„ØªØµØ¨Ø­ Ù…Ø­Ù‚Ù‚Ù‹Ø§ Ù…Ø­ØªØ±ÙÙ‹Ø§.";
        }
        
        finalMessage.textContent = message;
        finalStats.textContent = `Ù†Ù‚Ø§Ø·Ùƒ Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠØ©: ${score}\nÙ†Ø³Ø¨Ø© Ø§Ù„Ø¯Ù‚Ø©: ${accuracy.toFixed(0)}%`;
        
        resultsModal.classList.add('active');
        gameContainer.style.opacity = 0.2;
        gameContainer.style.transform = 'scale(0.9)';
    }

    restartButton.addEventListener('click', startGame);
    startButton.addEventListener('click', startGame);

    // Ø§Ù„Ø¨Ø¯Ø¡ Ø¹Ù†Ø¯ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙØ­Ø©
    window.onload = showStartScreen;

</script>
</body>
</html>
