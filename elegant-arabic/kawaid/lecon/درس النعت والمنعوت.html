<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>درس النعت والمنعوت</title>
    <style>
        body {
            font-family: 'Arial', sans-serif;
            line-height: 1.6;
            color: #333;
            max-width: 900px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f9f5e9;
        }
        
        h1, h2, h3 {
            color: #8e44ad;
            text-align: center;
        }
        
        .story {
            background-color: #e8f4f8;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 30px;
            border-right: 5px solid #3498db;
        }
        
        .activity {
            background-color: #eaf7ea;
            padding: 15px;
            border-radius: 8px;
            margin: 20px 0;
            border-left: 5px solid #2ecc71;
        }
        
        .exercise {
            background-color: #fef9e7;
            padding: 15px;
            border-radius: 8px;
            margin: 20px 0;
            border-right: 5px solid #f39c12;
        }
        
        .game {
            background-color: #fdedec;
            padding: 20px;
            border-radius: 10px;
            margin-top: 30px;
            border-left: 5px solid #e74c3c;
        }
        
        button {
            background-color: #3498db;
            color: white;
            border: none;
            padding: 10px 15px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
            margin: 10px 5px;
        }
        
        button:hover {
            background-color: #2980b9;
        }
        
        .highlight {
            background-color: #fffacd;
            padding: 2px 5px;
            border-radius: 3px;
        }
        
        .correct {
            color: #27ae60;
            font-weight: bold;
        }
        
        .incorrect {
            color: #e74c3c;
            font-weight: bold;
        }
        
        #game-result {
            font-size: 18px;
            margin-top: 15px;
            text-align: center;
            min-height: 27px;
        }
    </style>
</head>
<body>
    <h1>درس النعت والمنعوت</h1>
    
    <div class="story">
        <h2>قصة معبرة</h2>
        <p>في يوم من الأيام، كان هناك <span class="highlight">طالبٌ مجتهدٌ</span> يدعى أحمد. كان أحمد يحب اللغة العربية كثيراً. في أحد الدروس، سمع معلمته تتحدث عن <span class="highlight">النعت والمنعوت</span>، فاهتم بالموضوع.</p>
        
        <p>قالت المعلمة: "النعت هو الصفة التي تتبع المنعوت في جميع أحواله. مثل: قرأتُ <span class="highlight">كتاباً مفيداً</span>، فـ'مفيداً' هي النعت و'كتاباً' هو المنعوت".</p>
        
        <p>عاد أحمد إلى بيته وهو يفكر في الدرس. رأى في الطريق <span class="highlight">حديقةً جميلةً</span> بها <span class="highlight">أزهارٌ ملونةٌ</span> و<span class="highlight">أشجارٌ مثمرةٌ</span>. تذكر أحمد أن كل الصفات التي ذكرها هي نعوت لما قبلها.</p>
        
        <p>في اليوم التالي، شارك أحمد زملاءه ما تعلمه، وكيف يمكننا استخدام النعت والمنعوت لجملنا أكثر جمالاً ووضوحاً.</p>
    </div>
    
    <div class="exercise">
        <h2>بناء القاعدة</h2>
        <p>النعت هو <select id="rule1">
            <option value="">اختر الإجابة</option>
            <option value="correct">صفة تتبع المنعوت في الإعراب والنوع والعدد</option>
            <option value="wrong">كلمة مستقلة بذاتها</option>
            <option value="wrong">فعل مضارع</option>
        </select>.</p>
        
        <p>المنعوت هو <select id="rule2">
            <option value="">اختر الإجابة</option>
            <option value="wrong">الصفة</option>
            <option value="correct">الموصوف</option>
            <option value="wrong">الجملة كلها</option>
        </select>.</p>
        
        <p>يجب أن يطابق النعت المنعوت في <select id="rule3">
            <option value="">اختر الإجابة</option>
            <option value="correct">النوع (التذكير والتأنيث)</option>
            <option value="wrong">الحروف فقط</option>
            <option value="correct">العدد (الإفراد والتثنية والجمع)</option>
            <option value="correct">الإعراب (الرفع والنصب والجر)</option>
        </select>.</p>
        
        <button onclick="checkRules()">تحقق من الإجابات</button>
        <div id="rules-feedback"></div>
    </div>
    
    <div class="activity">
        <h2>أنشطة تعليمية</h2>
        
        <h3>النشاط الأول: تعرف على النعت والمنعوت</h3>
        <p>اضغط على الكلمات التي تمثل النعت في الجمل التالية:</p>
        <div>
            <button onclick="checkAdjective(this, 'correct')">جميلة</button> في جملة "رأيت حديقة <u>جميلة</u>".
            <button onclick="checkAdjective(this, 'wrong')">حديقة</button> في جملة "رأيت <u>حديقة</u> جميلة".
        </div>
        <div style="margin-top: 15px;">
            <button onclick="checkAdjective(this, 'wrong')">التلاميذ</button> في جملة "<u>التلاميذ</u> المجتهدون متفوقون".
            <button onclick="checkAdjective(this, 'correct')">المجتهدون</button> في جملة "التلاميذ <u>المجتهدون</u> متفوقون".
        </div>
        
        <h3>النشاط الثاني: أكمل الجمل</h3>
        <p>أكمل الجمل التالية بنعت مناسب:</p>
        <p>اشتريت كتاباً <input type="text" id="adj1" placeholder="أدخل النعت">.</p>
        <p>زرت مدرسة <input type="text" id="adj2" placeholder="أدخل النعت">.</p>
        <p>رأيت طيوراً <input type="text" id="adj3" placeholder="أدخل النعت">.</p>
        <button onclick="checkCompleted()">تحقق من الإجابات</button>
        <div id="complete-feedback"></div>
    </div>
    
    <div class="game">
        <h2>لعبة ترسيخ الفهم</h2>
        <p>اسحب كل نعت إلى المنعوت المناسب له:</p>
        
        <div style="display: flex; justify-content: space-around; margin: 20px 0;">
            <div id="adjectives" style="width: 45%;">
                <h3>النعوت</h3>
                <div draggable="true" ondragstart="drag(event)" id="مفيد" style="padding: 8px; margin: 5px; background: #d6eaf8; cursor: move;">مفيد</div>
                <div draggable="true" ondragstart="drag(event)" id="جميلة" style="padding: 8px; margin: 5px; background: #d6eaf8; cursor: move;">جميلة</div>
                <div draggable="true" ondragstart="drag(event)" id="كبيرة" style="padding: 8px; margin: 5px; background: #d6eaf8; cursor: move;">كبيرة</div>
                <div draggable="true" ondragstart="drag(event)" id="ملونة" style="padding: 8px; margin: 5px; background: #d6eaf8; cursor: move;">ملونة</div>
            </div>
            
            <div id="nouns" style="width: 45%;">
                <h3>المنعوتات</h3>
                <div ondragover="allowDrop(event)" ondrop="drop(event)" id="كتاب" style="padding: 8px; margin: 5px; background: #e8f8f5;">كتاب _____</div>
                <div ondragover="allowDrop(event)" ondrop="drop(event)" id="حديقة" style="padding: 8px; margin: 5px; background: #e8f8f5;">حديقة _____</div>
                <div ondragover="allowDrop(event)" ondrop="drop(event)" id="سيارة" style="padding: 8px; margin: 5px; background: #e8f8f5;">سيارة _____</div>
                <div ondragover="allowDrop(event)" ondrop="drop(event)" id="أزهار" style="padding: 8px; margin: 5px; background: #e8f8f5;">أزهار _____</div>
            </div>
        </div>
        
        <button onclick="checkGame()">تحقق من الإجابات</button>
        <div id="game-result"></div>
    </div>
    
    <script>
        function checkRules() {
            let feedback = "";
            let correctCount = 0;
            
            // Check first rule
            const rule1 = document.getElementById("rule1");
            if (rule1.value === "correct") {
                feedback += "<p class='correct'>✓ إجابة صحيحة: النعت هو صفة تتبع المنعوت في الإعراب والنوع والعدد.</p>";
                correctCount++;
            } else if (rule1.value === "") {
                feedback += "<p>لم تختر إجابة للسؤال الأول.</p>";
            } else {
                feedback += "<p class='incorrect'>✗ إجابة خاطئة: النعت هو صفة تتبع المنعوت في الإعراب والنوع والعدد.</p>";
            }
            
            // Check second rule
            const rule2 = document.getElementById("rule2");
            if (rule2.value === "correct") {
                feedback += "<p class='correct'>✓ إجابة صحيحة: المنعوت هو الموصوف.</p>";
                correctCount++;
            } else if (rule2.value === "") {
                feedback += "<p>لم تختر إجابة للسؤال الثاني.</p>";
            } else {
                feedback += "<p class='incorrect'>✗ إجابة خاطئة: المنعوت هو الموصوف.</p>";
            }
            
            // Check third rule (multi-select)
            const rule3 = document.getElementById("rule3");
            const selectedOptions = Array.from(rule3.selectedOptions).map(opt => opt.value);
            
            if (selectedOptions.length === 0) {
                feedback += "<p>لم تختر أي إجابات للسؤال الثالث.</p>";
            } else {
                const allCorrect = selectedOptions.every(opt => opt === "correct") && 
                                    selectedOptions.length === 3;
                
                if (allCorrect) {
                    feedback += "<p class='correct'>✓ إجابة صحيحة: يجب أن يطابق النعت المنعوت في النوع والعدد والإعراب.</p>";
                    correctCount++;
                } else {
                    feedback += "<p class='incorrect'>✗ إجابة غير كاملة: يجب أن يطابق النعت المنعوت في النوع (التذكير والتأنيث) والعدد (الإفراد والتثنية والجمع) والإعراب (الرفع والنصب والجر).</p>";
                }
            }
            
            // Add summary
            if (correctCount === 3) {
                feedback = "<p style='color:#27ae60; font-weight:bold;'>أحسنت! لقد فهمت القاعدة بشكل ممتاز.</p>" + feedback;
            }
            
            document.getElementById("rules-feedback").innerHTML = feedback;
        }
        
        function checkAdjective(button, correctness) {
            if (correctness === "correct") {
                button.style.backgroundColor = "#2ecc71";
                button.style.color = "white";
                setTimeout(() => {
                    button.style.backgroundColor = "";
                    button.style.color = "";
                }, 1000);
            } else {
                button.style.backgroundColor = "#e74c3c";
                button.style.color = "white";
                setTimeout(() => {
                    button.style.backgroundColor = "";
                    button.style.color = "";
                }, 1000);
            }
        }
        
        function checkCompleted() {
            const adj1 = document.getElementById("adj1").value.trim();
            const adj2 = document.getElementById("adj2").value.trim();
            const adj3 = document.getElementById("adj3").value.trim();
            
            let feedback = "<h4>إجاباتك:</h4>";
            
            if (adj1) {
                feedback += `<p>اشتريت كتاباً <u>${adj1}</u> - يمكن أن يكون صحيحاً إذا كان النعت مناسباً للمنعوت.</p>`;
            } else {
                feedback += "<p class='incorrect'>لم تكمل الجملة الأولى.</p>";
            }
            
            if (adj2) {
                feedback += `<p>زرت مدرسة <u>${adj2}</u> - يمكن أن يكون صحيحاً إذا كان النعت مناسباً للمنعوت.</p>`;
            } else {
                feedback += "<p class='incorrect'>لم تكمل الجملة الثانية.</p>";
            }
            
            if (adj3) {
                feedback += `<p>رأيت طيوراً <u>${adj3}</u> - يمكن أن يكون صحيحاً إذا كان النعت مناسباً للمنعوت.</p>`;
            } else {
                feedback += "<p class='incorrect'>لم تكمل الجملة الثالثة.</p>";
            }
            
            feedback += "<p>تذكر أن النعت يجب أن يطابق المنعوت في النوع (مذكر/مؤنث) والعدد (مفرد/مثنى/جمع).</p>";
            
            document.getElementById("complete-feedback").innerHTML = feedback;
        }
        
        // Game functions
        function allowDrop(ev) {
            ev.preventDefault();
        }
        
        function drag(ev) {
            ev.dataTransfer.setData("text", ev.target.id);
        }
        
        function drop(ev) {
            ev.preventDefault();
            const data = ev.dataTransfer.getData("text");
            const draggedElement = document.getElementById(data);
            
            // Remove any existing child (adjective)
            while (ev.target.firstChild && ev.target.firstChild.nodeType === Node.TEXT_NODE) {
                ev.target.removeChild(ev.target.firstChild);
            }
            
            // Check if we're dropping on an adjective slot
            if (ev.target.id === "كتاب" || ev.target.id === "حديقة" || 
                ev.target.id === "سيارة" || ev.target.id === "أزهار") {
                
                // Create a new span for the adjective
                const adjectiveSpan = document.createElement("span");
                adjectiveSpan.textContent = " " + draggedElement.textContent;
                adjectiveSpan.style.color = "#8e44ad";
                adjectiveSpan.style.fontWeight = "bold";
                adjectiveSpan.id = "adj-" + ev.target.id;
                
                // Append the adjective to the noun
                ev.target.appendChild(adjectiveSpan);
            }
        }
        
        function checkGame() {
            const correctPairs = {
                "كتاب": "مفيد",
                "حديقة": "جميلة",
                "سيارة": "كبيرة",
                "أزهار": "ملونة"
            };
            
            let correctCount = 0;
            let feedback = "";
            
            for (const [noun, adj] of Object.entries(correctPairs)) {
                const nounElement = document.getElementById(noun);
                const adjElement = document.getElementById("adj-" + noun);
                
                if (adjElement && adjElement.textContent.trim() === adj) {
                    correctCount++;
                    nounElement.style.backgroundColor = "#abebc6";
                } else {
                    if (adjElement) {
                        nounElement.style.backgroundColor = "#f5b7b1";
                    } else {
                        nounElement.style.backgroundColor = "#f5b7b1";
                    }
                }
            }
            
            if (correctCount === 4) {
                feedback = "<p class='correct'>أحسنت! كل الإجابات صحيحة.</p>";
            } else {
                feedback = `<p>لديك ${correctCount} إجابة صحيحة من 4. حاول مرة أخرى!</p>`;
                feedback += "<p>الإجابات الصحيحة هي: كتاب مفيد، حديقة جميلة، سيارة كبيرة، أزهار ملونة.</p>";
            }
            
            document.getElementById("game-result").innerHTML = feedback;
        }
    </script>
</body>
</html>