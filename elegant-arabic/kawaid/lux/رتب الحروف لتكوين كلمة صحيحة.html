<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Ù„Ø¹Ø¨Ø© ØªØ±ØªÙŠØ¨ Ø§Ù„Ø­Ø±ÙˆÙ</title>
<style>
  body {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    background: #f0f8ff;
    color: #034f84;
    text-align: center;
    padding: 30px;
  }
  h1 {
    margin-bottom: 20px;
  }
  #letters {
    margin: 20px auto;
    display: flex;
    justify-content: center;
    gap: 15px;
    flex-wrap: wrap;
  }
  .letter {
    background: #68a0b0;
    color: white;
    font-size: 2em;
    padding: 15px 22px;
    border-radius: 12px;
    cursor: pointer;
    user-select: none;
    transition: background-color 0.3s ease;
  }
  .letter:hover {
    background: #3b6978;
  }
  #answer {
    margin: 30px auto;
    min-height: 50px;
    font-size: 2em;
    border-bottom: 3px solid #034f84;
    padding: 10px 15px;
    width: fit-content;
    min-width: 250px;
    margin-bottom: 20px;
  }
  #btnCheck, #btnReset {
    background: #034f84;
    color: white;
    border: none;
    padding: 12px 25px;
    margin: 10px 8px;
    border-radius: 10px;
    font-size: 1.1em;
    cursor: pointer;
    transition: background-color 0.3s ease;
  }
  #btnCheck:hover, #btnReset:hover {
    background: #022f47;
  }
  #result {
    font-size: 1.5em;
    font-weight: bold;
    margin-top: 15px;
    min-height: 30px;
  }
</style>
</head>
<body>

<h1>Ù„Ø¹Ø¨Ø© ØªØ±ØªÙŠØ¨ Ø§Ù„Ø­Ø±ÙˆÙ</h1>
<p>Ø±ØªØ¨ Ø§Ù„Ø­Ø±ÙˆÙ Ù„ØªÙƒÙˆÙŠÙ† ÙƒÙ„Ù…Ø© ØµØ­ÙŠØ­Ø©</p>

<div id="letters"></div>

<div id="answer"></div>

<button id="btnCheck">ØªØ­Ù‚Ù‚</button>
<button id="btnReset">Ø¥Ø¹Ø§Ø¯Ø© ØªØ±ØªÙŠØ¨</button>

<div id="result"></div>

<script>
  const words = [
    "ÙƒØªØ§Ø¨",
    "Ù…Ø¯Ø±Ø³Ø©",
    "Ù‚Ù„Ù…",
    "Ø¯ÙØªØ±",
    "Ù…Ø¹Ù„Ù…"
  ];

  let currentWord = "";
  let shuffledLetters = [];
  const lettersDiv = document.getElementById('letters');
  const answerDiv = document.getElementById('answer');
  const resultDiv = document.getElementById('result');
  const btnCheck = document.getElementById('btnCheck');
  const btnReset = document.getElementById('btnReset');

  function shuffleArray(arr) {
    // ÙÙŠØ´Ø±-ÙŠØªØ³ shuffle
    for (let i = arr.length - 1; i > 0; i--) {
      let j = Math.floor(Math.random() * (i + 1));
      [arr[i], arr[j]] = [arr[j], arr[i]];
    }
    return arr;
  }

  function startGame() {
    resultDiv.textContent = "";
    answerDiv.textContent = "";
    lettersDiv.innerHTML = "";

    currentWord = words[Math.floor(Math.random() * words.length)];
    shuffledLetters = shuffleArray(currentWord.split(''));

    // Ø¹Ø±Ø¶ Ø§Ù„Ø­Ø±ÙˆÙ Ù…Ø¨Ø¹Ø«Ø±Ø©
    shuffledLetters.forEach(letter => {
      const span = document.createElement('span');
      span.textContent = letter;
      span.classList.add('letter');
      span.addEventListener('click', () => {
        answerDiv.textContent += letter;
        span.style.visibility = 'hidden';
      });
      lettersDiv.appendChild(span);
    });
  }

  btnCheck.addEventListener('click', () => {
    if(answerDiv.textContent === currentWord) {
      resultDiv.textContent = "Ù…Ù…ØªØ§Ø²! Ø£Ø­Ø³Ù†Øª ØªØ±ØªÙŠØ¨ Ø§Ù„ÙƒÙ„Ù…Ø© ğŸ‰";
      resultDiv.style.color = "green";
    } else {
      resultDiv.textContent = "Ø­Ø§ÙˆÙ„ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰ ğŸ˜•";
      resultDiv.style.color = "red";
    }
  });

  btnReset.addEventListener('click', () => {
    startGame();
  });

  // Ø¹Ù†Ø¯ Ø§Ù„Ù†Ù‚Ø± Ø¹Ù„Ù‰ Ø¥Ø¬Ø§Ø¨Ø© Ù…Ø±ØªØ¨Ø© Ù„Ù…Ø³Ø­Ù‡Ø§ ÙˆØ¥Ø±Ø¬Ø§Ø¹ Ø§Ù„Ø­Ø±Ù
  answerDiv.addEventListener('click', (e) => {
    if(e.target && e.target.nodeName === 'SPAN') {
      const letter = e.target.textContent;
      // Ø¥Ø¸Ù‡Ø§Ø± Ø§Ù„Ø­Ø±Ù Ø§Ù„Ù…Ø®Ø¨Ø£
      [...lettersDiv.children].forEach(span => {
        if(span.textContent === letter && span.style.visibility === 'hidden') {
          span.style.visibility = 'visible';
          return;
        }
      });
      // Ø¥Ø²Ø§Ù„Ø© Ø§Ù„Ø­Ø±Ù Ù…Ù† Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø©
      e.target.remove();
    }
  });

  // Ù„Ø¬Ø¹Ù„ Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© Ù‚Ø§Ø¨Ù„Ø© Ù„Ù„ØªØ¹Ø¯ÙŠÙ„ Ø¨Ø´ÙƒÙ„ Ø£ÙØ¶Ù„ØŒ Ù†Ø³ØªØ®Ø¯Ù… span Ù„ÙƒÙ„ Ø­Ø±Ù ÙÙŠ Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø©
  function updateAnswerDiv() {
    const text = answerDiv.textContent;
    answerDiv.innerHTML = '';
    for (let char of text) {
      const span = document.createElement('span');
      span.textContent = char;
      span.style.cursor = 'pointer';
      span.style.margin = '0 5px';
      span.addEventListener('click', () => {
        // Ø¥Ø±Ø¬Ø§Ø¹ Ø§Ù„Ø­Ø±Ù Ù„Ù„ÙˆØ­Ø© Ø§Ù„Ø­Ø±ÙˆÙ
        [...lettersDiv.children].forEach(s => {
          if(s.textContent === char && s.style.visibility === 'hidden') {
            s.style.visibility = 'visible';
            return;
          }
        });
        span.remove();
      });
      answerDiv.appendChild(span);
    }
  }

  // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© Ø¹Ù†Ø¯ ÙƒÙ„ Ø¥Ø¶Ø§ÙØ© Ø­Ø±Ù
  lettersDiv.addEventListener('click', e => {
    if(e.target.classList.contains('letter') && e.target.style.visibility !== 'hidden') {
      answerDiv.textContent += e.target.textContent;
      e.target.style.visibility = 'hidden';
      updateAnswerDiv();
    }
  });

  // Ø¨Ø¯Ø§ÙŠØ© Ø§Ù„Ù„Ø¹Ø¨Ø©
  startGame();
</script>

</body>
</html>
