<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Ù„Ø¹Ø¨Ø© Ø£Ø¯ÙˆØ§Øª Ø§Ù„Ø§Ø³ØªÙÙ‡Ø§Ù…</title>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Cairo:wght@600&display=swap');

  body {
    margin: 0;
    font-family: 'Cairo', sans-serif;
    background: linear-gradient(135deg, #a8edea, #fed6e3);
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
    direction: rtl;
  }

  .game-container {
    background: #fff;
    padding: 25px 30px;
    border-radius: 20px;
    box-shadow: 0 15px 30px rgba(0,0,0,0.1);
    width: 380px;
    text-align: center;
  }

  h1 {
    color: #ff4081;
    margin-bottom: 20px;
  }

  .question {
    font-size: 1.3rem;
    margin-bottom: 20px;
    min-height: 60px;
    color: #333;
  }

  .options {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: 15px;
    margin-bottom: 20px;
  }

  button.option-btn {
    background: #ff80ab;
    border: none;
    padding: 12px 18px;
    border-radius: 12px;
    font-size: 1.1rem;
    color: white;
    font-weight: 700;
    cursor: pointer;
    flex: 1 1 100px;
    transition: background-color 0.3s ease;
    box-shadow: 0 4px 8px #ff80abaa;
  }
  button.option-btn:hover {
    background: #f50057;
  }
  button.option-btn:disabled {
    background: #ccc;
    cursor: not-allowed;
    box-shadow: none;
  }

  .feedback {
    font-size: 1.2rem;
    min-height: 40px;
    margin-bottom: 15px;
    font-weight: 700;
  }
  .correct {
    color: #388e3c;
  }
  .incorrect {
    color: #d32f2f;
  }

  .progress-bar {
    width: 100%;
    height: 15px;
    background: #eee;
    border-radius: 15px;
    overflow: hidden;
    margin-bottom: 15px;
  }
  .progress {
    height: 100%;
    background: #ff4081;
    width: 0%;
    transition: width 0.4s ease;
  }

  .restart-btn {
    padding: 12px 25px;
    background: #1976d2;
    border: none;
    color: white;
    font-weight: 700;
    font-size: 1.1rem;
    border-radius: 12px;
    cursor: pointer;
    display: none;
    margin-top: 10px;
    box-shadow: 0 5px 15px #1976d266;
  }
  .restart-btn:hover {
    background: #0d47a1;
  }

</style>
</head>
<body>

<div class="game-container" role="main" aria-label="Ù„Ø¹Ø¨Ø© Ø£Ø¯ÙˆØ§Øª Ø§Ù„Ø§Ø³ØªÙÙ‡Ø§Ù… Ø§Ù„ØªØ¹Ù„ÙŠÙ…ÙŠØ©">

  <h1>Ù„Ø¹Ø¨Ø© Ø£Ø¯ÙˆØ§Øª Ø§Ù„Ø§Ø³ØªÙÙ‡Ø§Ù…</h1>

  <div class="progress-bar" aria-hidden="true">
    <div class="progress"></div>
  </div>

  <div class="question" id="question" aria-live="polite"></div>

  <div class="options" id="options" role="list"></div>

  <div class="feedback" id="feedback" aria-live="assertive"></div>

  <button class="restart-btn" id="restartBtn" aria-label="Ø¥Ø¹Ø§Ø¯Ø© Ø¨Ø¯Ø¡ Ø§Ù„Ù„Ø¹Ø¨Ø©">Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ù„Ø¹Ø¨</button>

</div>

<script>
  // Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø£Ø³Ø¦Ù„Ø©: ÙƒÙ„ Ø³Ø¤Ø§Ù„ Ù…Ø¹ Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© Ø§Ù„ØµØ­ÙŠØ­Ø© ÙˆØ§Ù„Ø®ÙŠØ§Ø±Ø§Øª
  const questions = [
    {
      question: "_____ ØªØ°Ù‡Ø¨ Ø¥Ù„Ù‰ Ø§Ù„Ù…Ø¯Ø±Ø³Ø©ØŸ",
      correct: "Ù…ØªÙ‰",
      options: ["Ù…Ù†", "Ù…Ø§Ø°Ø§", "Ù…ØªÙ‰", "ÙƒÙŠÙ"]
    },
    {
      question: "_____ Ø§Ø³Ù…ÙƒØŸ",
      correct: "Ù…Ø§",
      options: ["ÙƒÙ…", "Ù…Ø§", "Ù„Ù…Ø§Ø°Ø§", "Ù…Ù†"]
    },
    {
      question: "_____ Ù‡Ø°Ø§ØŸ",
      correct: "Ù…Ù†",
      options: ["ÙƒÙŠÙ", "Ù…Ù†", "Ø£ÙŠÙ†", "Ù…Ø§Ø°Ø§"]
    },
    {
      question: "_____ ØªØ­Ø¨ Ø§Ù„ÙÙˆØ§ÙƒÙ‡ØŸ",
      correct: "Ù‡Ù„",
      options: ["Ù‡Ù„", "Ù„Ù…Ø§Ø°Ø§", "Ù…ØªÙ‰", "Ù…Ø§"]
    },
    {
      question: "_____ ØªØ¯Ø±Ø³ØŸ",
      correct: "Ø£ÙŠÙ†",
      options: ["Ø£ÙŠÙ†", "Ù…Ù†", "Ù…ØªÙ‰", "ÙƒÙ…"]
    },
    {
      question: "_____ Ø¹Ø¯Ø¯ Ø¥Ø®ÙˆØªÙƒØŸ",
      correct: "ÙƒÙ…",
      options: ["Ù…Ø§", "ÙƒÙ…", "Ù„Ù…Ø§Ø°Ø§", "Ù‡Ù„"]
    },
    {
      question: "_____ ØªØ£ÙƒÙ„ Ø§Ù„ØªÙØ§Ø­ØŸ",
      correct: "Ù„Ù…Ø§Ø°Ø§",
      options: ["ÙƒÙŠÙ", "Ù…ØªÙ‰", "Ù„Ù…Ø§Ø°Ø§", "Ù…Ù†"]
    }
  ];

  let currentIndex = 0;
  const totalQuestions = questions.length;

  const questionEl = document.getElementById("question");
  const optionsEl = document.getElementById("options");
  const feedbackEl = document.getElementById("feedback");
  const progressBar = document.querySelector(".progress");
  const restartBtn = document.getElementById("restartBtn");

  // ØªÙ‡ÙŠØ¦Ø© Ø¹Ø±Ø¶ Ø§Ù„Ø³Ø¤Ø§Ù„
  function showQuestion() {
    const current = questions[currentIndex];
    questionEl.textContent = current.question;
    feedbackEl.textContent = "";
    optionsEl.innerHTML = "";

    // Ø¹Ø±Ø¶ Ø§Ù„Ø®ÙŠØ§Ø±Ø§Øª Ø¨Ø´ÙƒÙ„ Ø¹Ø´ÙˆØ§Ø¦ÙŠ Ù„ØªÙØ§Ø¯ÙŠ Ø§Ù„ØªØ±ØªÙŠØ¨ Ø§Ù„Ø«Ø§Ø¨Øª
    const shuffledOptions = current.options
      .map(value => ({ value, sort: Math.random() }))
      .sort((a, b) => a.sort - b.sort)
      .map(({value}) => value);

    shuffledOptions.forEach(option => {
      const btn = document.createElement("button");
      btn.classList.add("option-btn");
      btn.textContent = option;
      btn.setAttribute("role", "listitem");
      btn.addEventListener("click", () => selectAnswer(option));
      optionsEl.appendChild(btn);
    });

    // ØªØ­Ø¯ÙŠØ« Ø´Ø±ÙŠØ· Ø§Ù„ØªÙ‚Ø¯Ù…
    progressBar.style.width = `${(currentIndex / totalQuestions) * 100}%`;
  }

  // Ø¹Ù†Ø¯ Ø§Ø®ØªÙŠØ§Ø± Ø¥Ø¬Ø§Ø¨Ø©
  function selectAnswer(selected) {
    const current = questions[currentIndex];
    const buttons = optionsEl.querySelectorAll("button");

    // ØªØ¹Ø·ÙŠÙ„ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ø²Ø±Ø§Ø± Ø¨Ø¹Ø¯ Ø§Ù„Ø§Ø®ØªÙŠØ§Ø±
    buttons.forEach(b => b.disabled = true);

    if (selected === current.correct) {
      feedbackEl.textContent = "Ø¥Ø¬Ø§Ø¨Ø© ØµØ­ÙŠØ­Ø©! Ø£Ø­Ø³Ù†Øª ğŸ˜Š";
      feedbackEl.className = "feedback correct";

      // ØªÙ‚Ø¯Ù… Ù„Ù„Ø³Ø¤Ø§Ù„ Ø§Ù„ØªØ§Ù„ÙŠ Ø¨Ø¹Ø¯ 1.5 Ø«Ø§Ù†ÙŠØ©
      setTimeout(() => {
        currentIndex++;
        if (currentIndex < totalQuestions) {
          showQuestion();
        } else {
          endGame();
        }
      }, 1500);
    } else {
      feedbackEl.textContent = "Ø®Ø·Ø£ØŒ Ø­Ø§ÙˆÙ„ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰.";
      feedbackEl.className = "feedback incorrect";

      // Ø¥Ø¹Ø§Ø¯Ø© ØªÙØ¹ÙŠÙ„ Ø§Ù„Ø£Ø²Ø±Ø§Ø± Ø¨Ø¹Ø¯ 1.2 Ø«Ø§Ù†ÙŠØ©
      setTimeout(() => {
        feedbackEl.textContent = "";
        buttons.forEach(b => b.disabled = false);
      }, 1200);
    }
  }

  // Ù†Ù‡Ø§ÙŠØ© Ø§Ù„Ù„Ø¹Ø¨Ø©
  function endGame() {
    questionEl.textContent = "ğŸ‰ Ù„Ù‚Ø¯ Ø£ÙƒÙ…Ù„Øª Ø§Ù„Ù„Ø¹Ø¨Ø© Ø¨Ù†Ø¬Ø§Ø­! ğŸ‰";
    optionsEl.innerHTML = "";
    feedbackEl.textContent = "";
    progressBar.style.width = "100%";
    restartBtn.style.display = "inline-block";
  }

  // Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„ØªØ´ØºÙŠÙ„
  restartBtn.addEventListener("click", () => {
    currentIndex = 0;
    restartBtn.style.display = "none";
    showQuestion();
  });

  // Ø¨Ø¯Ø¡ Ø§Ù„Ù„Ø¹Ø¨Ø©
  showQuestion();
</script>

</body>
</html>
