<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù…ØºØ§Ù…Ø±Ø§Øª Ø§Ù„Ù‡Ù…Ø²Ø© Ø§Ù„Ø³Ø­Ø±ÙŠØ©</title>
    <style>
        /* Ø£Ù†Ù…Ø§Ø· Ù„Ø¹Ø¨Ø© Ø§Ù„Ø³Ø­Ø¨ ÙˆØ§Ù„Ø¥ÙÙ„Ø§Øª Ø§Ù„Ù…Ø­Ø³Ù†Ø© */
        .drag-drop-game {
            background-color: #e6ffe6;
            padding: 25px;
            border-radius: 15px;
            margin-top: 30px;
            border: 3px solid #4CAF50;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        
        .drag-container {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 15px;
            margin-bottom: 25px;
            padding: 15px;
            background-color: #f8fff8;
            border-radius: 10px;
            border: 2px dashed #4CAF50;
        }
        
        .drag-item {
            width: 50px;
            height: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
            background-color: #4CAF50;
            color: white;
            border-radius: 8px;
            cursor: grab;
            font-size: 28px;
            font-weight: bold;
            user-select: none;
            transition: all 0.3s;
            box-shadow: 0 3px 6px rgba(0,0,0,0.1);
        }
        
        .drag-item:hover {
            transform: scale(1.1);
            box-shadow: 0 5px 10px rgba(0,0,0,0.2);
        }
        
        .drop-container {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 25px;
            margin-top: 20px;
        }
        
        .drop-box {
            min-width: 180px;
            padding: 20px 15px;
            border: 3px dashed #4CAF50;
            border-radius: 12px;
            background-color: #f8fff8;
            text-align: center;
            position: relative;
            box-shadow: 0 3px 6px rgba(0,0,0,0.05);
        }
        
        .word {
            font-size: 28px;
            color: #333;
            letter-spacing: 2px;
            font-weight: bold;
            height: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .empty-spot {
            display: inline-flex;
            width: 50px;
            height: 50px;
            border: 2px solid #4CAF50;
            border-radius: 8px;
            margin: 0 5px;
            align-items: center;
            justify-content: center;
            background-color: rgba(76, 175, 80, 0.1);
            transition: all 0.3s;
        }
        
        .empty-spot.highlight {
            background-color: rgba(76, 175, 80, 0.3);
            border-color: #2E7D32;
        }
        
        .word-example {
            font-size: 16px;
            color: #666;
            margin-top: 10px;
            font-style: italic;
            background-color: #f0f9f0;
            padding: 5px;
            border-radius: 5px;
        }
        
        .success-message {
            color: #2E7D32;
            font-weight: bold;
            text-align: center;
            margin-top: 25px;
            font-size: 1.5em;
            padding: 15px;
            background-color: #e8f5e9;
            border-radius: 10px;
            border: 2px solid #4CAF50;
        }
        
        .reset-btn {
            background-color: #f44336;
            color: white;
            border: none;
            padding: 12px 30px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1.1em;
            margin: 25px auto 0;
            display: block;
            transition: all 0.3s;
            font-weight: bold;
        }
        
        .reset-btn:hover {
            background-color: #d32f2f;
            transform: scale(1.05);
        }
        
        /* ØªØ­Ø³ÙŠÙ†Ø§Øª Ù„Ù„Ù‡Ù…Ø²Ø© Ø§Ù„Ù…Ù†Ø³Ø¯Ù„Ø© */
        .dropped-hamza {
            font-size: 28px;
            font-weight: bold;
            width: 100%;
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .correct-hamza {
            color: #2E7D32;
            animation: pulse 0.5s;
        }
        
        .incorrect-hamza {
            color: #f44336;
            animation: shake 0.5s;
        }
        
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.2); }
            100% { transform: scale(1); }
        }
        
        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-5px); }
            75% { transform: translateX(5px); }
        }
    </style>
</head>
<body>
    <!-- Ù„Ø¹Ø¨Ø© Ø§Ù„Ø³Ø­Ø¨ ÙˆØ§Ù„Ø¥ÙÙ„Ø§Øª Ø§Ù„Ù…Ø­Ø¯Ø«Ø© -->
    <div class="drag-drop-game">
        <h2 style="text-align:center; color:#2E7D32; font-size:28px;">Ù„Ø¹Ø¨Ø© ØªØ±ÙƒÙŠØ¨ Ø§Ù„Ù‡Ù…Ø²Ø© âœ¨</h2>
        <p style="text-align:center; font-size:18px; color:#555;">Ø§Ø³Ø­Ø¨ ÙƒÙ„ Ù‡Ù…Ø²Ø© Ø¥Ù„Ù‰ Ø§Ù„Ù…Ø±Ø¨Ø¹ Ø§Ù„ÙØ§Ø±Øº Ø§Ù„Ù…Ù†Ø§Ø³Ø¨ ÙÙŠ Ø§Ù„ÙƒÙ„Ù…Ø§Øª Ø§Ù„ØªØ§Ù„ÙŠØ©:</p>
        
        <div class="drag-container">
            <div class="drag-item" draggable="true" data-hamza="Ø£">Ø£</div>
            <div class="drag-item" draggable="true" data-hamza="Ø¥">Ø¥</div>
            <div class="drag-item" draggable="true" data-hamza="Ø¤">Ø¤</div>
            <div class="drag-item" draggable="true" data-hamza="Ø¦">Ø¦</div>
            <div class="drag-item" draggable="true" data-hamza="Ø¡">Ø¡</div>
        </div>
        
        <div class="drop-container" id="words-container">
            <!-- Ø³ÙŠØªÙ… Ù…Ù„Ø¡ Ù‡Ø°Ø§ Ø§Ù„Ù‚Ø³Ù… Ø¯ÙŠÙ†Ø§Ù…ÙŠÙƒÙŠØ§Ù‹ Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… JavaScript -->
        </div>
        
        <div id="drag-success" class="success-message hidden">ğŸ‰ Ø£Ø­Ø³Ù†Øª! Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù‡Ù…Ø²Ø§Øª ÙÙŠ Ù…ÙƒØ§Ù†Ù‡Ø§ Ø§Ù„ØµØ­ÙŠØ­! ğŸ‰</div>
        <button id="reset-drag" class="reset-btn">Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø©</button>
    </div>

    <script>
        // Ù…Ø¬Ù…ÙˆØ¹Ø© Ø§Ù„Ø£Ù…Ø«Ù„Ø© Ù„Ù„Ù‡Ù…Ø²Ø§Øª ÙÙŠ Ø£ÙˆØ¶Ø§Ø¹ Ù…Ø®ØªÙ„ÙØ©
        const wordExamples = [
            // Ù‡Ù…Ø²Ø© Ø£ÙˆÙ„ Ø§Ù„ÙƒÙ„Ù…Ø©
            [
                { word: "_ÙƒÙ„", parts: ["", "ÙƒÙ„"], correct: "Ø£", position: 0, example: "Ø£ÙÙƒÙÙ„Ù" },
                { word: "_Ø®Ø°", parts: ["", "Ø®Ø°"], correct: "Ø£", position: 0, example: "Ø£ÙØ®ÙØ°Ù" },
                { word: "_Ù†Ø¨Ø©", parts: ["", "Ù†Ø¨Ø©"], correct: "Ø¥", position: 0, example: "Ø¥ÙÙ†Ù’Ø¨ÙØ©" }
            ],
            // Ù‡Ù…Ø²Ø© ÙˆØ³Ø· Ø§Ù„ÙƒÙ„Ù…Ø©
            [
                { word: "Ø³_Ù„", parts: ["Ø³", "Ù„"], correct: "Ø£", position: 1, example: "Ø³ÙØ£ÙÙ„Ù" },
                { word: "Ø¨_Ø±", parts: ["Ø¨", "Ø±"], correct: "Ø¦", position: 1, example: "Ø¨ÙØ¦Ù’Ø±" },
                { word: "Ø±_Ø³", parts: ["Ø±", "Ø³"], correct: "Ø¤", position: 1, example: "Ø±ÙØ¤ÙÙˆØ³" },
                { word: "Ù…Ø³_Ù„Ø©", parts: ["Ù…Ø³", "Ù„Ø©"], correct: "Ø¦", position: 2, example: "Ù…ÙØ³Ù’Ø¦ÙÙ„ÙØ©" }
            ],
            // Ù‡Ù…Ø²Ø© Ø¢Ø®Ø± Ø§Ù„ÙƒÙ„Ù…Ø©
            [
                { word: "Ù…Ø¨Ø¯_", parts: ["Ù…Ø¨Ø¯", ""], correct: "Ø¦", position: 3, example: "Ù…ÙØ¨Ù’ØªÙØ¯ÙØ¦" },
                { word: "Ø¬Ø²_", parts: ["Ø¬Ø²", ""], correct: "Ø¡", position: 2, example: "Ø¬ÙØ²Ù’Ø¡" },
                { word: "Ù…Ù„Ø¬_", parts: ["Ù…Ù„Ø¬", ""], correct: "Ø£", position: 3, example: "Ù…ÙÙ„Ù’Ø¬ÙØ£" },
                { word: "Ø´Ø§Ø·_", parts: ["Ø´Ø§Ø·", ""], correct: "Ø¦", position: 3, example: "Ø´ÙØ§Ø·ÙØ¦" }
            ]
        ];

        // Ù…ØªØºÙŠØ±Ø§Øª Ø§Ù„Ù„Ø¹Ø¨Ø©
        let currentExamples = [];
        let gameLevel = 0;
        
        document.addEventListener('DOMContentLoaded', function() {
            const dragItems = document.querySelectorAll('.drag-item');
            const wordsContainer = document.getElementById('words-container');
            const successMessage = document.getElementById('drag-success');
            const resetBtn = document.getElementById('reset-drag');
            
            let draggedItem = null;
            
            // Ø¨Ø¯Ø¡ Ø§Ù„Ù„Ø¹Ø¨Ø©
            loadNewExamples();
            
            // Ø£Ø­Ø¯Ø§Ø« Ø§Ù„Ø³Ø­Ø¨
            dragItems.forEach(item => {
                item.addEventListener('dragstart', function(e) {
                    draggedItem = this;
                    e.dataTransfer.setData('text/plain', this.dataset.hamza);
                    this.style.opacity = '0.7';
                    this.style.transform = 'scale(1.2)';
                });
                
                item.addEventListener('dragend', function() {
                    this.style.opacity = '1';
                    this.style.transform = 'scale(1)';
                });
            });
            
            // ØªØ­Ù…ÙŠÙ„ Ø£Ù…Ø«Ù„Ø© Ø¬Ø¯ÙŠØ¯Ø©
            function loadNewExamples() {
                wordsContainer.innerHTML = '';
                currentExamples = [];
                
                // Ø§Ø®ØªÙŠØ§Ø± Ø£Ù…Ø«Ù„Ø© Ø¹Ø´ÙˆØ§Ø¦ÙŠØ© Ù…Ù† ÙƒÙ„ Ù…Ø¬Ù…ÙˆØ¹Ø©
                const firstWord = getRandomExample(wordExamples[0]); // Ø£ÙˆÙ„ Ø§Ù„ÙƒÙ„Ù…Ø©
                const middleWord = getRandomExample(wordExamples[1]); // ÙˆØ³Ø· Ø§Ù„ÙƒÙ„Ù…Ø©
                const lastWord = getRandomExample(wordExamples[2]); // Ø¢Ø®Ø± Ø§Ù„ÙƒÙ„Ù…Ø©
                
                currentExamples = [firstWord, middleWord, lastWord];
                
                // Ø¹Ø±Ø¶ Ø§Ù„Ø£Ù…Ø«Ù„Ø© ÙÙŠ Ø§Ù„ÙˆØ§Ø¬Ù‡Ø©
                currentExamples.forEach((example, index) => {
                    const dropBox = document.createElement('div');
                    dropBox.className = 'drop-box';
                    dropBox.setAttribute('data-word', example.word);
                    dropBox.setAttribute('data-correct', example.correct);
                    dropBox.setAttribute('data-position', example.position);
                    
                    const wordDiv = document.createElement('div');
                    wordDiv.className = 'word';
                    
                    example.parts.forEach((part, i) => {
                        wordDiv.appendChild(document.createTextNode(part));
                        if (i < example.parts.length - 1) {
                            const emptySpot = document.createElement('div');
                            emptySpot.className = 'empty-spot';
                            emptySpot.setAttribute('data-position', example.position);
                            wordDiv.appendChild(emptySpot);
                        }
                    });
                    
                    const exampleDiv = document.createElement('div');
                    exampleDiv.className = 'word-example';
                    exampleDiv.textContent = `Ù…Ø«Ø§Ù„: ${example.example}`;
                    
                    dropBox.appendChild(wordDiv);
                    dropBox.appendChild(exampleDiv);
                    wordsContainer.appendChild(dropBox);
                });
                
                // Ø¥Ø¶Ø§ÙØ© Ø£Ø­Ø¯Ø§Ø« Ø§Ù„Ø¥ÙÙ„Ø§Øª Ù„Ù„Ù…Ø±Ø¨Ø¹Ø§Øª Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©
                addDropEvents();
            }
            
            function getRandomExample(examples) {
                return examples[Math.floor(Math.random() * examples.length)];
            }
            
            function addDropEvents() {
                const emptySpots = document.querySelectorAll('.empty-spot');
                
                emptySpots.forEach(spot => {
                    spot.addEventListener('dragover', function(e) {
                        e.preventDefault();
                        this.classList.add('highlight');
                    });
                    
                    spot.addEventListener('dragleave', function() {
                        this.classList.remove('highlight');
                    });
                    
                    spot.addEventListener('drop', function(e) {
                        e.preventDefault();
                        this.classList.remove('highlight');
                        
                        if (draggedItem) {
                            const hamzaType = draggedItem.getAttribute('data-hamza');
                            const parentBox = this.closest('.drop-box');
                            const correctHamza = parentBox.getAttribute('data-correct');
                            
                            // Ø¥Ø²Ø§Ù„Ø© Ø£ÙŠ Ù‡Ù…Ø²Ø© Ù…ÙˆØ¬ÙˆØ¯Ø© Ù…Ø³Ø¨Ù‚Ø§Ù‹
                            while (this.firstChild) {
                                this.removeChild(this.firstChild);
                            }
                            
                            // Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ù‡Ù…Ø²Ø© Ø§Ù„Ù…Ù†Ø³Ø¯Ù„Ø©
                            const droppedHamza = document.createElement('div');
                            droppedHamza.className = 'dropped-hamza';
                            droppedHamza.textContent = hamzaType;
                            
                            // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø©
                            if (hamzaType === correctHamza) {
                                droppedHamza.classList.add('correct-hamza');
                                parentBox.setAttribute('data-correct', 'true');
                            } else {
                                droppedHamza.classList.add('incorrect-hamza');
                                parentBox.setAttribute('data-correct', 'false');
                            }
                            
                            this.appendChild(droppedHamza);
                            checkAllCorrect();
                        }
                    });
                });
            }
            
            // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø§Øª
            function checkAllCorrect() {
                const allBoxes = document.querySelectorAll('.drop-box');
                let allCorrect = true;
                
                allBoxes.forEach(box => {
                    if (box.getAttribute('data-correct') !== 'true') {
                        allCorrect = false;
                    }
                });
                
                if (allCorrect) {
                    successMessage.classList.remove('hidden');
                    createConfetti();
                    
                    // ØªØ­Ù…ÙŠÙ„ Ø£Ù…Ø«Ù„Ø© Ø¬Ø¯ÙŠØ¯Ø© Ø¨Ø¹Ø¯ ØªØ£Ø®ÙŠØ±
                    setTimeout(() => {
                        gameLevel++;
                        loadNewExamples();
                        successMessage.classList.add('hidden');
                    }, 1500);
                }
            }
            
            // Ø²Ø± Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø©
            resetBtn.addEventListener('click', function() {
                loadNewExamples();
                successMessage.classList.add('hidden');
            });
            
            // ØªØ£Ø«ÙŠØ± Ø§Ù„ÙƒÙˆÙ†ÙÙŠØªÙŠ
            function createConfetti() {
                const colors = ['#4CAF50', '#2E7D32', '#8BC34A', '#CDDC39', '#FFEB3B'];
                const container = document.querySelector('.drag-drop-game');
                
                for (let i = 0; i < 50; i++) {
                    const confetti = document.createElement('div');
                    confetti.style.position = 'absolute';
                    confetti.style.width = '15px';
                    confetti.style.height = '15px';
                    confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
                    confetti.style.borderRadius = '50%';
                    confetti.style.left = Math.random() * 100 + '%';
                    confetti.style.top = '-20px';
                    confetti.style.zIndex = '1000';
                    confetti.style.opacity = '0.8';
                    
                    container.appendChild(confetti);
                    
                    const animationDuration = Math.random() * 3 + 2;
                    
                    confetti.animate([
                        { top: '-20px', transform: 'rotate(0deg) scale(1)' },
                        { top: '100%', transform: 'rotate(360deg) scale(0.5)' }
                    ], {
                        duration: animationDuration * 1000,
                        easing: 'cubic-bezier(0.1, 0.8, 0.9, 1)'
                    });
                    
                    setTimeout(() => {
                        confetti.remove();
                    }, animationDuration * 1000);
                }
            }
        });
    </script>
</body>
</html>