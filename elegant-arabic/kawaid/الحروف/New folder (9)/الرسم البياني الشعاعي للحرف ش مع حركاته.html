<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>الرسم البياني الشعاعي للحرف ش</title>
    <style>
        body {
            font-family: 'Arial', sans-serif;
            background-color: #f5f5f5;
            text-align: center;
            padding: 20px;
            direction: rtl;
        }
        
        h1 {
            color: #2c3e50;
            margin-bottom: 30px;
        }
        
        .chart-container {
            width: 100%;
            max-width: 800px;
            margin: 0 auto;
            background-color: white;
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }
        
        .chart {
            width: 100%;
            height: 600px;
            position: relative;
        }
        
        .center-circle {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 100px;
            height: 100px;
            background-color: #3498db;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 48px;
            font-weight: bold;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            z-index: 10;
        }
        
        .item {
            position: absolute;
            width: 60px;
            height: 60px;
            background-color: #e74c3c;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 24px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
            z-index: 10;
        }
        
        .item:hover {
            transform: scale(1.1);
            background-color: #c0392b;
        }
        
        .info-box {
            margin-top: 30px;
            padding: 15px;
            background-color: #ecf0f1;
            border-radius: 8px;
            display: none;
        }
        
        .controls {
            margin-top: 20px;
            display: flex;
            justify-content: center;
            gap: 10px;
        }
        
        button {
            padding: 8px 16px;
            background-color: #3498db;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            transition: background-color 0.3s;
        }
        
        button:hover {
            background-color: #2980b9;
        }
        
        .connector {
            position: absolute;
            background-color: #95a5a6;
            height: 2px;
            transform-origin: 0 0;
            z-index: 1;
            transition: all 0.3s ease;
        }
    </style>
</head>
<body>
    <div class="chart-container">
        <h1>الرسم البياني الشعاعي للحرف "ش" مع حركاته</h1>
        
        <div class="chart" id="chart"></div>
        
        <div class="info-box" id="infoBox"></div>
        
        <div class="controls">
            <button id="resetBtn">إعادة الضبط</button>
            <button id="animateBtn">تشغيل الحركة</button>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const chart = document.getElementById('chart');
            const infoBox = document.getElementById('infoBox');
            const resetBtn = document.getElementById('resetBtn');
            const animateBtn = document.getElementById('animateBtn');
            
            // بيانات الحرف مع حركاته
            const characters = [
                { char: 'شَ', name: 'ش مع فتحة', description: 'حرف الشين مع حركة الفتح (فتحة)' },
                { char: 'شِ', name: 'ش مع كسرة', description: 'حرف الشين مع حركة الكسر (كسرة)' },
                { char: 'شُ', name: 'ش مع ضمة', description: 'حرف الشين مع حركة الضم (ضمة)' },
                { char: 'شً', name: 'ش مع تنوين فتح', description: 'حرف الشين مع تنوين فتح' },
                { char: 'شٍ', name: 'ش مع تنوين كسر', description: 'حرف الشين مع تنوين كسر' },
                { char: 'شٌ', name: 'ش مع تنوين ضم', description: 'حرف الشين مع تنوين ضم' },
                { char: 'شْ', name: 'ش مع سكون', description: 'حرف الشين مع السكون' },
                { char: 'شّ', name: 'ش مع تشديد', description: 'حرف الشين مع التشديد' }
            ];
            
            // إنشاء العناصر في الرسم البياني
            function createChart() {
                // إضافة الحرف الأساسي في المركز
                const centerCircle = document.createElement('div');
                centerCircle.className = 'center-circle';
                centerCircle.textContent = 'ش';
                centerCircle.addEventListener('click', function() {
                    showInfo('ش (الحرف الأساسي)', 'حرف الشين الأساسي بدون حركات');
                });
                chart.appendChild(centerCircle);
                
                // إضافة الحروف مع الحركات حول المركز
                const centerX = chart.offsetWidth / 2;
                const centerY = chart.offsetHeight / 2;
                const radius = Math.min(centerX, centerY) * 0.7;
                
                characters.forEach((character, index) => {
                    const angle = (index / characters.length) * 2 * Math.PI;
                    const x = centerX + radius * Math.cos(angle) - 30;
                    const y = centerY + radius * Math.sin(angle) - 30;
                    
                    // إنشاء العنصر (الحرف مع الحركة)
                    const item = document.createElement('div');
                    item.className = 'item';
                    item.textContent = character.char;
                    item.style.left = `${x}px`;
                    item.style.top = `${y}px`;
                    item.dataset.index = index;
                    
                    item.addEventListener('click', function() {
                        showInfo(character.name, character.description);
                    });
                    
                    chart.appendChild(item);
                    
                    // إنشاء الخط الواصل
                    createConnector(centerX, centerY, x + 30, y + 30, index);
                });
            }
            
            // إنشاء الخط الواصل بين المركز والعنصر
            function createConnector(x1, y1, x2, y2, index) {
                const connector = document.createElement('div');
                connector.className = 'connector';
                connector.dataset.index = index;
                
                // حساب طول الخط وزاويته
                const length = Math.sqrt(Math.pow(x2 - x1, 2) + Math.pow(y2 - y1, 2));
                const angle = Math.atan2(y2 - y1, x2 - x1) * 180 / Math.PI;
                
                // تطبيق التحويلات
                connector.style.width = `${length}px`;
                connector.style.left = `${x1}px`;
                connector.style.top = `${y1}px`;
                connector.style.transform = `rotate(${angle}deg)`;
                
                chart.appendChild(connector);
            }
            
            // تحديث الخطوط الواصلة عند الحركة
            function updateConnectors() {
                const centerX = chart.offsetWidth / 2;
                const centerY = chart.offsetHeight / 2;
                const connectors = document.querySelectorAll('.connector');
                const items = document.querySelectorAll('.item');
                
                items.forEach(item => {
                    const index = item.dataset.index;
                    const x = parseFloat(item.style.left) + 30;
                    const y = parseFloat(item.style.top) + 30;
                    
                    const connector = document.querySelector(`.connector[data-index="${index}"]`);
                    if (connector) {
                        // حساب طول الخط وزاويته
                        const length = Math.sqrt(Math.pow(x - centerX, 2) + Math.pow(y - centerY, 2));
                        const angle = Math.atan2(y - centerY, x - centerX) * 180 / Math.PI;
                        
                        // تحديث الخط
                        connector.style.width = `${length}px`;
                        connector.style.transform = `rotate(${angle}deg)`;
                    }
                });
            }
            
            // عرض معلومات الحرف
            function showInfo(title, description) {
                infoBox.innerHTML = `<h3>${title}</h3><p>${description}</p>`;
                infoBox.style.display = 'block';
            }
            
            // إعادة ضبط الرسم البياني
            function resetChart() {
                infoBox.style.display = 'none';
                
                // إعادة العناصر إلى مواقعها الأصلية
                const centerX = chart.offsetWidth / 2;
                const centerY = chart.offsetHeight / 2;
                const radius = Math.min(centerX, centerY) * 0.7;
                
                document.querySelectorAll('.item').forEach((item, index) => {
                    const angle = (index / characters.length) * 2 * Math.PI;
                    const x = centerX + radius * Math.cos(angle) - 30;
                    const y = centerY + radius * Math.sin(angle) - 30;
                    
                    item.style.transition = 'all 0.5s ease';
                    item.style.left = `${x}px`;
                    item.style.top = `${y}px`;
                });
                
                // تحديث الخطوط الواصلة
                setTimeout(updateConnectors, 500);
            }
            
            // تحريك العناصر
            function animateChart() {
                const items = document.querySelectorAll('.item');
                const centerX = chart.offsetWidth / 2;
                const centerY = chart.offsetHeight / 2;
                const radius = Math.min(centerX, centerY) * 0.7;
                
                items.forEach((item, index) => {
                    // إرجاع العنصر إلى موقعه الأصلي أولاً
                    const angle = (index / characters.length) * 2 * Math.PI;
                    const x = centerX + radius * Math.cos(angle) - 30;
                    const y = centerY + radius * Math.sin(angle) - 30;
                    
                    item.style.transition = 'none';
                    item.style.left = `${x}px`;
                    item.style.top = `${y}px`;
                    
                    // إضافة حركة عشوائية بعد فترة قصيرة
                    setTimeout(() => {
                        item.style.transition = 'all 0.5s ease';
                        
                        // حركة عشوائية
                        const randomAngle = Math.random() * 2 * Math.PI;
                        const randomRadius = radius * (0.3 + Math.random() * 0.4);
                        const newX = centerX + randomRadius * Math.cos(randomAngle) - 30;
                        const newY = centerY + randomRadius * Math.sin(randomAngle) - 30;
                        
                        item.style.left = `${newX}px`;
                        item.style.top = `${newY}px`;
                        
                        // تحديث الخطوط الواصلة
                        updateConnectors();
                        
                        // إعادة العنصر إلى موقعه الأصلي بعد الحركة
                        setTimeout(() => {
                            item.style.left = `${x}px`;
                            item.style.top = `${y}px`;
                            updateConnectors();
                        }, 1000);
                    }, 100);
                });
            }
            
            // إضافة معالجات الأحداث
            resetBtn.addEventListener('click', resetChart);
            animateBtn.addEventListener('click', animateChart);
            
            // إنشاء الرسم البياني عند تحميل الصفحة
            createChart();
            
            // تحديث الخطوط عند تغيير حجم النافذة
            window.addEventListener('resize', function() {
                setTimeout(() => {
                    resetChart();
                }, 100);
            });
        });
    </script>
</body>
</html>