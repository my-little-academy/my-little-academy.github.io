<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Ø±Ø­Ù„Ø© ÙÙŠ Ù…Ù…Ø§Ù„Ùƒ Ø§Ù„Ù„ØºØ© â€“ ÙÙ‡Ø±Ø³ ØªÙØ§Ø¹Ù„ÙŠ</title>
  <style>
    :root {
      --bg1: #e0f7fa;
      --bg2: #fce4ec;
      --card: #ffffffee;
      --primary: #d81b60;   /* ÙˆØ±Ø¯ÙŠ Ø¯Ø§ÙØ¦ Ù„Ù„Ø¹Ù†Ø§ÙˆÙŠÙ† */
      --accent: #00695c;    /* Ø£Ø®Ø¶Ø± Ù„Ø·ÙŠÙ Ù„Ù„Ù†Øµ */
      --chip: #f3e5f5;      /* Ø¨Ù†ÙØ³Ø¬ÙŠ Ø®ÙÙŠÙ Ù„Ù„Ø¹Ù†Ø§ØµØ± */
      --chip-hover: #e1bee7;
      --border: #f06292;
      --shadow: 0 10px 25px rgba(0,0,0,.08);
      --radius: 22px;
      --focus: 0 0 0 3px rgba(216,27,96,.25);
      --transition: 300ms ease;
    }

    /* Reset Ø¨Ø³ÙŠØ· */
    * { box-sizing: border-box; }
    body { margin: 0; font-family: "Cairo", system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; background: linear-gradient(135deg,var(--bg1),var(--bg2)); color: #333; }

    header { text-align: center; padding: 28px 16px 10px; }
    h1 { margin: 0 0 8px; font-size: clamp(1.8rem, 2.2vw + 1rem, 2.8rem); color: var(--primary); text-shadow: 0 1px 2px #fff8; }
    p.lead { margin: 0 auto; max-width: 820px; color: #444; font-size: 1rem; }

    .toolbar {
      display: grid;
      grid-template-columns: 1fr 200px;
      gap: 12px;
      max-width: 1100px;
      margin: 18px auto 6px;
      padding: 0 16px;
    }
    @media (max-width: 640px){ .toolbar{ grid-template-columns: 1fr; } }

    .search {
      display: flex; align-items: center; gap: 10px; background: var(--card); border: 2px dashed var(--border);
      border-radius: var(--radius); padding: 10px 14px; box-shadow: var(--shadow);
    }
    .search input { border: none; outline: none; flex: 1; background: transparent; font-size: 1rem; }

    .view-toggle { display:flex; gap:8px; align-items:center; justify-content:flex-end; }
    .btn {
      border: 0; background: var(--primary); color: #fff; padding: 10px 14px; border-radius: 14px; cursor: pointer; box-shadow: var(--shadow);
      font-weight: 600; transition: transform var(--transition), opacity var(--transition);
    }
    .btn[aria-pressed="true"] { filter: saturate(1.15) brightness(1.05); }
    .btn:active { transform: translateY(1px) scale(.99); }

    main { max-width: 1100px; margin: 10px auto 50px; padding: 0 16px; }

    /* Ø¨Ø·Ø§Ù‚Ø§Øª Ø§Ù„Ù…Ù…Ø§Ù„Ùƒ */
    .grid { display: grid; grid-template-columns: repeat(12, 1fr); gap: 18px; }
    .card { grid-column: span 12; background: var(--card); border-radius: var(--radius); box-shadow: var(--shadow);
            border: 3px dashed var(--border); overflow: hidden; transition: transform var(--transition); }
    .card:hover { transform: translateY(-2px); }

    .card-header { display:flex; align-items:center; justify-content:space-between; gap: 10px; cursor: pointer; padding: 16px 18px; background: #fce4ec; }
    .card-title { display:flex; align-items:center; gap: 12px; font-size: clamp(1.1rem, 1.2vw + .8rem, 1.5rem); font-weight: 800; color: var(--accent); }
    .card-title .ico { font-size: 1.6em; }

    .chev { transition: transform var(--transition); font-size: 1.2em; }
    .card[open] .chev { transform: rotate(180deg); }

    /* Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ù…Ù†Ø²Ù„Ù‚ */
    .panel { max-height: 0; overflow: hidden; transition: max-height 500ms ease; background: #fff; }
    .card[open] .panel { max-height: 1000px; } /* ÙŠÙƒÙÙŠ Ù„Ù‚Ø§Ø¦Ù…Ø© Ø·ÙˆÙŠÙ„Ø©Ø› ÙŠØªÙƒÙŠÙ Ø¨Ø§Ù„Ø­Ø¬Ù… */

    /* Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø¯Ø±ÙˆØ³ */
    .lessons { display: flex; flex-wrap: wrap; gap: 10px; padding: 16px; }
    .chip { background: var(--chip); padding: 9px 12px; border-radius: 999px; box-shadow: var(--shadow); font-weight: 700; font-size: .98rem; white-space: nowrap; cursor: pointer; border: 2px solid transparent; transition: background var(--transition), transform var(--transition); }
    .chip:hover { background: var(--chip-hover); transform: translateY(-1px); }
    .chip:focus-visible { outline: none; box-shadow: var(--focus); }

    /* Ø±Ù…ÙˆØ² Ù…ØµØºØ±Ø© Ø­Ø³Ø¨ Ø§Ù„Ù…Ù…Ù„ÙƒØ© */
    .k-grammar .chip::before { content: "ğŸ“˜ "; }
    .k-sarf   .chip::before { content: "ğŸŒ€ "; }
    .k-imla   .chip::before { content: "âœï¸ "; }

    /* ØªØ®Ø·ÙŠØ· Ø§Ø³ØªØ¬Ø§Ø¨Ø© */
    @media (min-width: 640px){ .card { grid-column: span 12; } }
    @media (min-width: 900px){ .card { grid-column: span 12; } }

    /* ØªÙØ¶ÙŠÙ„ ØªÙ‚Ù„ÙŠÙ„ Ø§Ù„Ø­Ø±ÙƒØ© */
    @media (prefers-reduced-motion: reduce){
      .panel { transition: none; }
      .chev { transition: none; }
      .btn { transition: none; }
      .card { transition: none; }
    }

    footer { text-align:center; color:#555; font-size:.9rem; padding: 20px 0 40px; }
    a.link { color: var(--primary); text-decoration: none; border-bottom: 2px dotted currentColor; }
  </style>
</head>
<body>
  <header>
    <h1>ğŸŒŸ Ø±Ø­Ù„Ø© ÙÙŠ Ù…Ù…Ø§Ù„Ùƒ Ø§Ù„Ù„ØºØ© ğŸŒŸ</h1>
    <p class="lead">ÙÙ‡Ø±Ø³ Ù…ÙØ¨Ù‡ÙØ± Ù„Ù„Ø£Ø·ÙØ§Ù„ Ù„Ø«Ù„Ø§Ø« Ù…Ù…Ø§Ù„Ùƒ: <strong>Ø§Ù„Ù†Ø­Ùˆ</strong>ØŒ <strong>Ø§Ù„ØµØ±Ù</strong>ØŒ <strong>Ø§Ù„Ø¥Ù…Ù„Ø§Ø¡</strong>. Ø§Ø¶ØºØ·ÙŠ Ù„ÙØªØ­ Ø§Ù„Ø¨Ø·Ø§Ù‚Ø© ÙˆØ§Ø³ØªÙƒØ´Ø§Ù Ø§Ù„Ø¯Ø±ÙˆØ³. Ø§Ø³ØªØ®Ø¯Ù…ÙŠ Ø§Ù„Ø¨Ø­Ø« Ù„Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ø£ÙŠ Ø¯Ø±Ø³ Ø¨Ø³Ø±Ø¹Ø©.</p>
  </header>

  <section class="toolbar" aria-label="Ø£Ø¯ÙˆØ§Øª Ø§Ù„ÙÙ‡Ø±Ø³">
    <div class="search" role="search">
      <span aria-hidden="true">ğŸ”</span>
      <input id="q" type="search" placeholder="Ø§Ø¨Ø­Ø«ÙŠ Ø¹Ù† Ø¯Ø±Ø³â€¦ (Ù…Ø«Ø§Ù„: Ø§Ù„Ù…Ø¨ØªØ¯Ø£ØŒ Ø§Ù„Ù‡Ù…Ø²Ø©ØŒ Ø§Ù„Ù…ÙŠØ²Ø§Ù†)" aria-label="Ø§Ø¨Ø­Ø«ÙŠ Ø¹Ù† Ø¯Ø±Ø³" />
    </div>
    <div class="view-toggle">
      <button id="expandAll" class="btn" type="button">ğŸ”½ ÙØªØ­ Ø§Ù„ÙƒÙ„</button>
      <button id="collapseAll" class="btn" type="button" aria-pressed="true">ğŸ”¼ ØºÙ„Ù‚ Ø§Ù„ÙƒÙ„</button>
    </div>
  </section>

  <main>
    <div class="grid" id="kingdoms">
      <!-- Ù…Ù…Ù„ÙƒØ© Ø§Ù„Ù†Ø­Ùˆ -->
      <section class="card k-grammar" data-kingdom="Ø§Ù„Ù†Ø­Ùˆ" aria-label="Ù…Ù…Ù„ÙƒØ© Ø§Ù„Ù†Ø­Ùˆ">
        <div class="card-header" role="button" tabindex="0" aria-expanded="false">
          <div class="card-title"><span class="ico">ğŸ°</span><span>Ù…Ù…Ù„ÙƒØ© Ø§Ù„Ù†Ø­Ùˆ</span></div>
          <div class="chev" aria-hidden="true">â¬‡ï¸</div>
        </div>
        <div class="panel" hidden>
          <nav class="lessons" aria-label="Ø¯Ø±ÙˆØ³ Ø§Ù„Ù†Ø­Ùˆ">
            <!-- Ø£Ø¶Ù Ø±ÙˆØ§Ø¨Ø· Ø­Ù‚ÙŠÙ‚ÙŠØ© Ø¹Ø¨Ø± href Ù„Ø§Ø­Ù‚Ù‹Ø§ -->
           
           <a class="chip" href="grammar/introduction.html">Ù…Ø¯Ø®Ù„ Ø¥Ù„Ù‰ Ø§Ù„Ù†Ø­Ùˆ</a>
      <a class="chip" href="grammar/parts-of-speech.html">Ø£Ù‚Ø³Ø§Ù… Ø§Ù„ÙƒÙ„Ù…Ø©</a>
      <a class="chip" href="grammar/noun-verb-particle.html">Ø¹Ù„Ø§Ù…Ø§Øª Ø§Ù„Ø§Ø³Ù… ÙˆØ§Ù„ÙØ¹Ù„ ÙˆØ§Ù„Ø­Ø±Ù</a>
      <a class="chip" href="grammar/nominal-sentence.html">Ø§Ù„Ø¬Ù…Ù„Ø© Ø§Ù„Ø§Ø³Ù…ÙŠØ©</a>
      <a class="chip" href="grammar/verbal-sentence.html">Ø§Ù„Ø¬Ù…Ù„Ø© Ø§Ù„ÙØ¹Ù„ÙŠØ©</a>
      <a class="chip" href="grammar/subject-predicate.html">Ø§Ù„Ù…Ø¨ØªØ¯Ø£ ÙˆØ§Ù„Ø®Ø¨Ø±</a>
      <a class="chip" href="grammar/verb-subject.html">Ø§Ù„ÙØ¹Ù„ ÙˆØ§Ù„ÙØ§Ø¹Ù„</a>
      <a class="chip" href="grammar/object.html">Ø§Ù„Ù…ÙØ¹ÙˆÙ„ Ø¨Ù‡</a>
      <a class="chip" href="grammar/adjective.html">Ø§Ù„Ù†Ø¹Øª ÙˆØ§Ù„Ù…Ù†Ø¹ÙˆØª</a>
      <a class="chip" href="grammar/conjunction.html">Ø§Ù„Ø¹Ø·Ù</a>
      <a class="chip" href="grammar/adverb.html">Ø§Ù„Ø­Ø§Ù„</a>
      <a class="chip" href="grammar/specification.html">Ø§Ù„ØªÙ…ÙŠÙŠØ²</a>
      <a class="chip" href="grammar/genitives.html">Ø§Ù„Ù…Ø¬Ø±ÙˆØ±Ø§Øª</a>
      <a class="chip" href="grammar/nasab-tools.html">Ø£Ø¯ÙˆØ§Øª Ø§Ù„Ù†ØµØ¨</a>
      <a class="chip" href="grammar/jazm-tools.html">Ø£Ø¯ÙˆØ§Øª Ø§Ù„Ø¬Ø²Ù…</a>
      <a class="chip" href="grammar/kaana.html">ÙƒØ§Ù† ÙˆØ£Ø®ÙˆØ§ØªÙ‡Ø§</a>
      <a class="chip" href="grammar/inna.html">Ø¥Ù† ÙˆØ£Ø®ÙˆØ§ØªÙ‡Ø§</a>
      <a class="chip" href="grammar/la-nafiya.html">Ù„Ø§ Ø§Ù„Ù†Ø§ÙÙŠØ© Ù„Ù„Ø¬Ù†Ø³</a>
      <a class="chip" href="grammar/condition-tools.html">Ø£Ø¯ÙˆØ§Øª Ø§Ù„Ø´Ø±Ø·</a>
      <a class="chip" href="grammar/interrogative.html">Ø£Ø³Ù„ÙˆØ¨ Ø§Ù„Ø§Ø³ØªÙÙ‡Ø§Ù…</a>
      <a class="chip" href="grammar/vocative.html">Ø£Ø³Ù„ÙˆØ¨ Ø§Ù„Ù†Ø¯Ø§Ø¡</a>
      <a class="chip" href="grammar/negation.html">Ø£Ø³Ù„ÙˆØ¨ Ø§Ù„Ù†ÙÙŠ</a>
          </nav>
        </div>
      </section>

      <!-- Ù…Ù…Ù„ÙƒØ© Ø§Ù„ØµØ±Ù -->
      <section class="card k-sarf" data-kingdom="Ø§Ù„ØµØ±Ù" aria-label="Ù…Ù…Ù„ÙƒØ© Ø§Ù„ØµØ±Ù">
        <div class="card-header" role="button" tabindex="0" aria-expanded="false">
          <div class="card-title"><span class="ico">ğŸŒ€</span><span>Ù…Ù…Ù„ÙƒØ© Ø§Ù„ØµØ±Ù</span></div>
          <div class="chev" aria-hidden="true">â¬‡ï¸</div>
        </div>
        <div class="panel" hidden>
          <nav class="lessons" aria-label="Ø¯Ø±ÙˆØ³ Ø§Ù„ØµØ±Ù">
            <a class="chip" href="sarf/introduction.html">Ù…Ø¹Ù†Ù‰ Ø§Ù„ØµØ±Ù ÙˆØ£Ù‡Ù…ÙŠØªÙ‡</a>
      <a class="chip" href="sarf/root-pattern.html">Ø§Ù„Ø¬Ø°Ø± ÙˆØ§Ù„ÙˆØ²Ù†</a>
      <a class="chip" href="sarf/sarf-scale.html">Ø§Ù„Ù…ÙŠØ²Ø§Ù† Ø§Ù„ØµØ±ÙÙŠ</a>
      <a class="chip" href="sarf/verb-forms.html">ØµÙŠØº Ø§Ù„Ù…Ø§Ø¶ÙŠ ÙˆØ§Ù„Ù…Ø¶Ø§Ø±Ø¹ ÙˆØ§Ù„Ø£Ù…Ø±</a>
      <a class="chip" href="sarf/sound-weak.html">Ø§Ù„ØµØ­ÙŠØ­ ÙˆØ§Ù„Ù…Ø¹ØªÙ„</a>
      <a class="chip" href="sarf/basic-derived.html">Ø§Ù„Ù…Ø¬Ø±Ø¯ ÙˆØ§Ù„Ù…Ø²ÙŠØ¯</a>
      <a class="chip" href="sarf/verb-nouns.html">Ù…ØµØ§Ø¯Ø± Ø§Ù„Ø£ÙØ¹Ø§Ù„</a>
      <a class="chip" href="sarf/active-participle.html">Ø§Ø³Ù… Ø§Ù„ÙØ§Ø¹Ù„</a>
      <a class="chip" href="sarf/passive-participle.html">Ø§Ø³Ù… Ø§Ù„Ù…ÙØ¹ÙˆÙ„</a>
      <a class="chip" href="sarf/intensive-forms.html">ØµÙŠØº Ø§Ù„Ù…Ø¨Ø§Ù„ØºØ©</a>
      <a class="chip" href="sarf/comparative.html">Ø§Ø³Ù… Ø§Ù„ØªÙØ¶ÙŠÙ„</a>
      <a class="chip" href="sarf/time-place.html">Ø§Ø³Ù… Ø§Ù„Ø²Ù…Ø§Ù† ÙˆØ§Ù„Ù…ÙƒØ§Ù†</a>
      <a class="chip" href="sarf/tool-noun.html">Ø§Ø³Ù… Ø§Ù„Ø¢Ù„Ø©</a>
      <a class="chip" href="sarf/broken-plurals.html">Ø¬Ù…Ø¹ Ø§Ù„ØªÙƒØ³ÙŠØ±</a>
      <a class="chip" href="sarf/diminutive.html">Ø§Ù„ØªØµØºÙŠØ±</a>
      <a class="chip" href="sarf/attribution.html">Ø§Ù„Ù†Ø³Ø¨</a>
      <a class="chip" href="sarf/ilal.html">Ø§Ù„Ø¥Ø¹Ù„Ø§Ù„ ÙˆØ§Ù„Ø¥Ø¨Ø¯Ø§Ù„</a>
      <a class="chip" href="sarf/idgham.html">Ø§Ù„Ø¥Ø¯ØºØ§Ù…</a>
          </nav>
        </div>
      </section>

      <!-- Ù…Ù…Ù„ÙƒØ© Ø§Ù„Ø¥Ù…Ù„Ø§Ø¡ -->
      <section class="card k-imla" data-kingdom="Ø§Ù„Ø¥Ù…Ù„Ø§Ø¡" aria-label="Ù…Ù…Ù„ÙƒØ© Ø§Ù„Ø¥Ù…Ù„Ø§Ø¡">
        <div class="card-header" role="button" tabindex="0" aria-expanded="false">
          <div class="card-title"><span class="ico">âœï¸</span><span>Ù…Ù…Ù„ÙƒØ© Ø§Ù„Ø¥Ù…Ù„Ø§Ø¡</span></div>
          <div class="chev" aria-hidden="true">â¬‡ï¸</div>
        </div>
        <div class="panel" hidden>
          <nav class="lessons" aria-label="Ø¯Ø±ÙˆØ³ Ø§Ù„Ø¥Ù…Ù„Ø§Ø¡">
           <a class="chip" href="imla/similar-letters.html">Ø§Ù„ØªÙ…ÙŠÙŠØ² Ø¨ÙŠÙ† Ø§Ù„Ø­Ø±ÙˆÙ Ø§Ù„Ù…ØªØ´Ø§Ø¨Ù‡Ø©</a>
      <a class="chip" href="imla/taa.html">Ø§Ù„ØªØ§Ø¡ Ø§Ù„Ù…ÙØªÙˆØ­Ø© ÙˆØ§Ù„Ù…Ø±Ø¨ÙˆØ·Ø©</a>
      <a class="chip" href="imla/hamza-begin.html">Ø§Ù„Ù‡Ù…Ø²Ø© ÙÙŠ Ø£ÙˆÙ„ Ø§Ù„ÙƒÙ„Ù…Ø©</a>
      <a class="chip" href="imla/hamza-middle.html">Ø§Ù„Ù‡Ù…Ø²Ø© ÙÙŠ ÙˆØ³Ø· Ø§Ù„ÙƒÙ„Ù…Ø©</a>
      <a class="chip" href="imla/hamza-end.html">Ø§Ù„Ù‡Ù…Ø²Ø© ÙÙŠ Ø¢Ø®Ø± Ø§Ù„ÙƒÙ„Ù…Ø©</a>
      <a class="chip" href="imla/hamzat.html">Ù‡Ù…Ø²Ø© Ø§Ù„ÙˆØµÙ„ ÙˆØ§Ù„Ù‚Ø·Ø¹</a>
      <a class="chip" href="imla/soft-alif.html">Ø§Ù„Ø£Ù„Ù Ø§Ù„Ù„ÙŠÙ†Ø©</a>
      <a class="chip" href="imla/alif-ya.html">Ø§Ù„Ø£Ù„Ù Ø§Ù„Ù…Ù‚ØµÙˆØ±Ø© ÙˆØ§Ù„ÙŠØ§Ø¡</a>
      <a class="chip" href="imla/tanween.html">Ø§Ù„ØªÙ†ÙˆÙŠÙ†</a>
      <a class="chip" href="imla/numbers.html">ÙƒØªØ§Ø¨Ø© Ø§Ù„Ø£Ø¹Ø¯Ø§Ø¯ Ø¨Ø§Ù„Ø­Ø±ÙˆÙ</a>
      <a class="chip" href="imla/punctuation.html">Ø¹Ù„Ø§Ù…Ø§Øª Ø§Ù„ØªØ±Ù‚ÙŠÙ…</a>
      <a class="chip" href="imla/shadda.html">Ø§Ù„Ø­Ø±ÙˆÙ Ø§Ù„Ù…Ø´Ø¯Ø¯Ø© (Ø§Ù„Ø´Ø¯Ø©)</a>
      <a class="chip" href="imla/solar-lunar.html">Ø£Ù„ Ø§Ù„Ø´Ù…Ø³ÙŠØ© ÙˆØ§Ù„Ù‚Ù…Ø±ÙŠØ©</a>
      <a class="chip" href="imla/silent-words.html">Ø§Ù„ÙƒÙ„Ù…Ø§Øª Ø§Ù„ØªÙŠ ØªÙÙƒØªØ¨ ÙˆÙ„Ø§ ØªÙÙ†Ø·Ù‚</a>
      <a class="chip" href="imla/common-mistakes.html">Ø§Ù„Ø£Ø®Ø·Ø§Ø¡ Ø§Ù„Ø´Ø§Ø¦Ø¹Ø©</a>
          </nav>
        </div>
      </section>

    </div>
  </main>

  <footer>
    <span>ğŸ’¡ Ù†ØµÙŠØ­Ø©: Ù„Ø±Ø¨Ø· Ø£ÙŠ Ø¯Ø±Ø³ Ø¨ØµÙØ­Ø©ØŒ Ø§Ø³ØªØ¨Ø¯Ù„ÙŠ <code>#</code> ÙÙŠ Ø±Ø§Ø¨Ø· Ø§Ù„Ø¯Ø±Ø³ Ø¨Ø¹Ù†ÙˆØ§Ù† ØµÙØ­ØªÙƒ.</span>
  </footer>

  <script>
    // ÙˆØ¸ÙŠÙØ©: ÙØªØ­/ØºÙ„Ù‚ Ø¨Ø·Ø§Ù‚Ø© ÙˆØ§Ø­Ø¯Ø© Ø¨Ø§Ù†Ø²Ù„Ø§Ù‚ Ù„Ø·ÙŠÙ + ØªØ­Ø¯ÙŠØ« Ø­Ø§Ù„Ø© Ø§Ù„Ø³Ù‡Ù… ÙˆØ¥ØªØ§Ø­Ø© Ù„ÙˆØ­Ø© Ø§Ù„Ù…ÙØ§ØªÙŠØ­
    function toggleCard(card, forceOpen) {
      const header = card.querySelector('.card-header');
      const panel  = card.querySelector('.panel');
      const chev   = card.querySelector('.chev');
      const isOpen = typeof forceOpen === 'boolean' ? !forceOpen : card.hasAttribute('open');

      if (isOpen) {
        // ØºÙ„Ù‚
        card.removeAttribute('open');
        header.setAttribute('aria-expanded', 'false');
        panel.hidden = false; // Ù†Ø­ØªØ§Ø¬Ù‡ Ù„Ø­Ø³Ø§Ø¨ Ø§Ù„Ø§Ø±ØªÙØ§Ø¹
        panel.style.maxHeight = panel.scrollHeight + 'px';
        requestAnimationFrame(() => {
          panel.style.maxHeight = '0px';
        });
        chev.textContent = 'â¬‡ï¸';
        panel.addEventListener('transitionend', function onEnd(){ panel.hidden = true; panel.removeEventListener('transitionend', onEnd); }, { once:true });
      } else {
        // ÙØªØ­
        card.setAttribute('open', '');
        header.setAttribute('aria-expanded', 'true');
        panel.hidden = false;
        panel.style.maxHeight = '0px';
        requestAnimationFrame(() => {
          panel.style.maxHeight = panel.scrollHeight + 'px';
        });
        chev.textContent = 'â¬†ï¸';
      }
    }

    // Ø±Ø¨Ø· Ø§Ù„Ø£Ø­Ø¯Ø§Ø« Ù…Ø¹ Ø§Ù„Ø±Ø¤ÙˆØ³
    document.querySelectorAll('.card').forEach(card => {
      const header = card.querySelector('.card-header');
      header.addEventListener('click', () => toggleCard(card));
      header.addEventListener('keydown', (e) => {
        if (e.key === 'Enter' || e.key === ' ') { e.preventDefault(); toggleCard(card); }
      });
    });

    // Ø£Ø²Ø±Ø§Ø± ÙØªØ­/ØºÙ„Ù‚ Ø§Ù„ÙƒÙ„
    document.getElementById('expandAll').addEventListener('click', () => {
      document.querySelectorAll('.card').forEach(card => {
        if (!card.hasAttribute('open')) toggleCard(card, true);
      });
    });
    document.getElementById('collapseAll').addEventListener('click', () => {
      document.querySelectorAll('.card').forEach(card => {
        if (card.hasAttribute('open')) toggleCard(card, false);
      });
    });

    // Ø¨Ø­Ø« ÙÙˆØ±ÙŠ Ø¯Ø§Ø®Ù„ Ø§Ù„Ø¯Ø±ÙˆØ³ + Ø¥Ø¨Ù‚Ø§Ø¡ Ø§Ù„Ø¨Ø·Ø§Ù‚Ø§Øª Ø§Ù„ØªÙŠ Ø¨Ù‡Ø§ Ù†ØªØ§Ø¦Ø¬ Ù…ÙØªÙˆØ­Ø©
    const q = document.getElementById('q');
    q.addEventListener('input', () => {
      const term = q.value.trim();
      const norm = (s) => s
        .replace(/[\u064B-\u0652]/g, '')      // Ø¥Ø²Ø§Ù„Ø© Ø§Ù„ØªØ´ÙƒÙŠÙ„
        .replace(/[\u0622\u0623\u0625]/g, '\u0627') // Ø¢/Ø£/Ø¥ -> Ø§
        .replace(/\u0649/g, '\u064A')          // Ù‰ -> ÙŠ
        .toLowerCase();

      const t = norm(term);
      document.querySelectorAll('.card').forEach(card => {
        const chips = card.querySelectorAll('.chip');
        let anyVisible = false;
        chips.forEach(chip => {
          const visible = !t || norm(chip.textContent).includes(t);
          chip.style.display = visible ? '' : 'none';
          if (visible) anyVisible = true;
        });
        // Ø¥Ø¸Ù‡Ø§Ø± Ø§Ù„Ø¨Ø·Ø§Ù‚Ø© ÙˆÙØªØ­Ù‡Ø§ Ø¥Ø°Ø§ ÙˆÙØ¬Ø¯Øª Ù†ØªÙŠØ¬Ø©
        card.style.display = anyVisible ? '' : (t ? 'none' : '');
        if (anyVisible && t && !card.hasAttribute('open')) toggleCard(card, true);
      });
    });
  </script>
</body>
</html>
