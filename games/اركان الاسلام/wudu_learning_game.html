<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù„Ø¹Ø¨Ø© ØªØ¹Ù„Ù… Ø§Ù„ÙˆØ¶ÙˆØ¡ Ø§Ù„ØªÙØ§Ø¹Ù„ÙŠØ©</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Arial', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
            direction: rtl;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 15px 35px rgba(0,0,0,0.1);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            color: white;
            padding: 30px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .header::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><defs><radialGradient id="g" cx="50%" cy="50%" r="50%"><stop offset="0%" style="stop-color:rgba(255,255,255,0.1);stop-opacity:1" /><stop offset="100%" style="stop-color:rgba(255,255,255,0);stop-opacity:0" /></radialGradient></defs><circle cx="50" cy="50" r="50" fill="url(%23g)"/></svg>') repeat;
            animation: float 6s ease-in-out infinite;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-20px); }
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            position: relative;
            z-index: 1;
        }

        .header p {
            font-size: 1.2em;
            position: relative;
            z-index: 1;
        }

        .progress-container {
            background: #f8f9fa;
            padding: 20px;
            border-bottom: 2px solid #e9ecef;
        }

        .progress-bar {
            width: 100%;
            height: 20px;
            background: #e9ecef;
            border-radius: 10px;
            overflow: hidden;
            margin-bottom: 15px;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #4facfe 0%, #00f2fe 100%);
            border-radius: 10px;
            transition: width 0.3s ease;
            width: 0%;
        }

        .step-indicator {
            display: flex;
            justify-content: space-between;
            align-items: center;
            gap: 10px;
            margin-top: 10px;
        }

        .step-dot {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: #e9ecef;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            color: #6c757d;
            transition: all 0.3s ease;
        }

        .step-dot.active {
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            color: white;
            transform: scale(1.1);
        }

        .step-dot.completed {
            background: #28a745;
            color: white;
        }

        .main-content {
            padding: 40px;
        }

        .step-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            border-radius: 15px;
            margin-bottom: 30px;
            text-align: center;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }

        .step-title {
            font-size: 2em;
            margin-bottom: 15px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .step-description {
            font-size: 1.3em;
            line-height: 1.6;
            margin-bottom: 20px;
        }

        .step-image {
            width: 200px;
            height: 200px;
            background: rgba(255,255,255,0.2);
            border-radius: 15px;
            margin: 20px auto;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 4em;
            backdrop-filter: blur(10px);
            border: 2px solid rgba(255,255,255,0.3);
        }

        .quiz-container {
            background: #f8f9fa;
            padding: 30px;
            border-radius: 15px;
            margin-top: 30px;
        }

        .quiz-question {
            font-size: 1.5em;
            margin-bottom: 20px;
            color: #333;
            text-align: center;
            font-weight: bold;
        }

        .quiz-options {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 15px;
            margin-bottom: 20px;
        }

        .quiz-option {
            background: white;
            padding: 15px;
            border-radius: 10px;
            border: 2px solid #e9ecef;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
            font-size: 1.1em;
        }

        .quiz-option:hover {
            border-color: #4facfe;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .quiz-option.selected {
            border-color: #4facfe;
            background: #e7f3ff;
        }

        .quiz-option.correct {
            border-color: #28a745;
            background: #d4edda;
            color: #155724;
        }

        .quiz-option.incorrect {
            border-color: #dc3545;
            background: #f8d7da;
            color: #721c24;
        }

        .feedback {
            padding: 20px;
            border-radius: 10px;
            margin-top: 20px;
            font-size: 1.2em;
            text-align: center;
            font-weight: bold;
        }

        .feedback.correct {
            background: #d4edda;
            color: #155724;
            border: 2px solid #28a745;
        }

        .feedback.incorrect {
            background: #f8d7da;
            color: #721c24;
            border: 2px solid #dc3545;
        }

        .controls {
            display: flex;
            justify-content: space-between;
            margin-top: 30px;
            gap: 20px;
        }

        .btn {
            padding: 15px 30px;
            border: none;
            border-radius: 10px;
            font-size: 1.2em;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: bold;
        }

        .btn-primary {
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            color: white;
        }

        .btn-secondary {
            background: #6c757d;
            color: white;
        }

        .btn-success {
            background: #28a745;
            color: white;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

        .btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
        }

        .completion-screen {
            text-align: center;
            padding: 50px;
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            color: white;
            border-radius: 15px;
            margin: 30px 0;
        }

        .completion-screen h2 {
            font-size: 3em;
            margin-bottom: 20px;
        }

        .completion-screen p {
            font-size: 1.5em;
            margin-bottom: 30px;
        }

        .score-display {
            font-size: 2em;
            font-weight: bold;
            margin: 20px 0;
        }

        .celebration {
            font-size: 4em;
            margin: 20px 0;
            animation: bounce 2s infinite;
        }

        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% { transform: translateY(0); }
            40% { transform: translateY(-30px); }
            60% { transform: translateY(-15px); }
        }

        .hidden {
            display: none;
        }

        @media (max-width: 768px) {
            .container {
                margin: 10px;
                border-radius: 10px;
            }
            
            .header h1 {
                font-size: 2em;
            }
            
            .main-content {
                padding: 20px;
            }
            
            .step-title {
                font-size: 1.5em;
            }
            
            .step-description {
                font-size: 1.1em;
            }
            
            .quiz-options {
                grid-template-columns: 1fr;
            }
            
            .controls {
                flex-direction: column;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ•Œ Ù„Ø¹Ø¨Ø© ØªØ¹Ù„Ù… Ø§Ù„ÙˆØ¶ÙˆØ¡ Ø§Ù„ØªÙØ§Ø¹Ù„ÙŠØ©</h1>
            <p>ØªØ¹Ù„Ù… Ø§Ù„ÙˆØ¶ÙˆØ¡ Ø¨Ø·Ø±ÙŠÙ‚Ø© Ù…Ù…ØªØ¹Ø© ÙˆØªÙØ§Ø¹Ù„ÙŠØ©</p>
        </div>

        <div class="progress-container">
            <div class="progress-bar">
                <div class="progress-fill" id="progressFill"></div>
            </div>
            <div class="step-indicator" id="stepIndicator">
                <!-- Ø³ÙŠØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ù†Ù‚Ø§Ø· Ù‡Ù†Ø§ Ø¨ÙˆØ§Ø³Ø·Ø© JavaScript -->
            </div>
        </div>

        <div class="main-content">
            <div id="gameContent">
                <!-- Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ù„Ø¹Ø¨Ø© Ø³ÙŠØ¸Ù‡Ø± Ù‡Ù†Ø§ -->
            </div>

            <div class="controls">
                <button class="btn btn-secondary" id="prevBtn" onclick="previousStep()">Ø§Ù„Ø³Ø§Ø¨Ù‚</button>
                <button class="btn btn-success" id="resetBtn" onclick="resetGame()">Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ø¨Ø¯Ø§ÙŠØ©</button>
                <button class="btn btn-primary" id="nextBtn" onclick="nextStep()">Ø§Ù„ØªØ§Ù„ÙŠ</button>
            </div>
        </div>
    </div>

    <script>
        const wuduSteps = [
            {
                title: "Ø§Ù„Ù†ÙŠØ© ÙˆØ§Ù„ØªØ³Ù…ÙŠØ©",
                description: "Ø£Ù†ÙˆÙŠ Ø§Ù„ÙˆØ¶ÙˆØ¡ Ù„Ù„Ù‡ ØªØ¹Ø§Ù„Ù‰ØŒ ÙˆØ£Ù‚ÙˆÙ„: Ø¨Ø³Ù… Ø§Ù„Ù„Ù‡ Ø§Ù„Ø±Ø­Ù…Ù† Ø§Ù„Ø±Ø­ÙŠÙ…",
                icon: "ğŸ¤²",
                quiz: {
                    question: "Ù…Ø§ Ø§Ù„Ø°ÙŠ ÙŠØ¬Ø¨ Ø£Ù† Ù†Ù‚ÙˆÙ„Ù‡ ÙÙŠ Ø¨Ø¯Ø§ÙŠØ© Ø§Ù„ÙˆØ¶ÙˆØ¡ØŸ",
                    options: [
                        "Ø§Ù„Ø­Ù…Ø¯ Ù„Ù„Ù‡",
                        "Ø¨Ø³Ù… Ø§Ù„Ù„Ù‡ Ø§Ù„Ø±Ø­Ù…Ù† Ø§Ù„Ø±Ø­ÙŠÙ…",
                        "Ù„Ø§ Ø¥Ù„Ù‡ Ø¥Ù„Ø§ Ø§Ù„Ù„Ù‡",
                        "Ø§Ù„Ù„Ù‡ Ø£ÙƒØ¨Ø±"
                    ],
                    correct: 1,
                    feedback: "ØµØ­ÙŠØ­! Ù†Ø¨Ø¯Ø£ Ø§Ù„ÙˆØ¶ÙˆØ¡ Ø¨Ø§Ù„Ù†ÙŠØ© ÙˆØ§Ù„ØªØ³Ù…ÙŠØ©: Ø¨Ø³Ù… Ø§Ù„Ù„Ù‡ Ø§Ù„Ø±Ø­Ù…Ù† Ø§Ù„Ø±Ø­ÙŠÙ…"
                }
            },
            {
                title: "ØºØ³Ù„ Ø§Ù„ÙƒÙÙŠÙ†",
                description: "Ø£ØºØ³Ù„ ÙƒÙÙŠÙ‘ Ø«Ù„Ø§Ø« Ù…Ø±Ø§ØªØŒ Ù…Ø¹ ØªØ®Ù„ÙŠÙ„ Ø§Ù„Ø£ØµØ§Ø¨Ø¹",
                icon: "ğŸ™Œ",
                quiz: {
                    question: "ÙƒÙ… Ù…Ø±Ø© Ù†ØºØ³Ù„ Ø§Ù„ÙƒÙÙŠÙ†ØŸ",
                    options: [
                        "Ù…Ø±Ø© ÙˆØ§Ø­Ø¯Ø©",
                        "Ù…Ø±ØªÙŠÙ†",
                        "Ø«Ù„Ø§Ø« Ù…Ø±Ø§Øª",
                        "Ø£Ø±Ø¨Ø¹ Ù…Ø±Ø§Øª"
                    ],
                    correct: 2,
                    feedback: "Ù…Ù…ØªØ§Ø²! Ù†ØºØ³Ù„ Ø§Ù„ÙƒÙÙŠÙ† Ø«Ù„Ø§Ø« Ù…Ø±Ø§Øª Ù…Ø¹ ØªØ®Ù„ÙŠÙ„ Ø§Ù„Ø£ØµØ§Ø¨Ø¹"
                }
            },
            {
                title: "Ø§Ù„Ù…Ø¶Ù…Ø¶Ø© ÙˆØ§Ù„Ø§Ø³ØªÙ†Ø´Ø§Ù‚",
                description: "Ø£ØªÙ…Ø¶Ù…Ø¶ Ø«Ù„Ø§Ø« Ù…Ø±Ø§ØªØŒ ÙˆØ£Ø³ØªÙ†Ø´Ù‚ Ø§Ù„Ù…Ø§Ø¡ Ø«Ù„Ø§Ø« Ù…Ø±Ø§Øª",
                icon: "ğŸ‘„",
                quiz: {
                    question: "Ù…Ø§ Ù‡Ùˆ ØªØ±ØªÙŠØ¨ Ø§Ù„Ù…Ø¶Ù…Ø¶Ø© ÙˆØ§Ù„Ø§Ø³ØªÙ†Ø´Ø§Ù‚ØŸ",
                    options: [
                        "Ø§Ù„Ø§Ø³ØªÙ†Ø´Ø§Ù‚ Ø«Ù… Ø§Ù„Ù…Ø¶Ù…Ø¶Ø©",
                        "Ø§Ù„Ù…Ø¶Ù…Ø¶Ø© Ø«Ù… Ø§Ù„Ø§Ø³ØªÙ†Ø´Ø§Ù‚",
                        "Ù…Ø¹Ø§Ù‹ ÙÙŠ Ù†ÙØ³ Ø§Ù„ÙˆÙ‚Øª",
                        "Ù„Ø§ ÙŠÙ‡Ù… Ø§Ù„ØªØ±ØªÙŠØ¨"
                    ],
                    correct: 1,
                    feedback: "ØµØ­ÙŠØ­! Ù†Ø¨Ø¯Ø£ Ø¨Ø§Ù„Ù…Ø¶Ù…Ø¶Ø© Ø«Ù… Ø§Ù„Ø§Ø³ØªÙ†Ø´Ø§Ù‚ØŒ ÙƒÙ„ Ù…Ù†Ù‡Ù…Ø§ Ø«Ù„Ø§Ø« Ù…Ø±Ø§Øª"
                }
            },
            {
                title: "ØºØ³Ù„ Ø§Ù„ÙˆØ¬Ù‡",
                description: "Ø£ØºØ³Ù„ ÙˆØ¬Ù‡ÙŠ Ø«Ù„Ø§Ø« Ù…Ø±Ø§Øª Ù…Ù† Ø§Ù„Ø¬Ø¨Ù‡Ø© Ø¥Ù„Ù‰ Ø§Ù„Ø°Ù‚Ù† ÙˆÙ…Ù† Ø§Ù„Ø£Ø°Ù† Ø¥Ù„Ù‰ Ø§Ù„Ø£Ø°Ù†",
                icon: "ğŸ˜Š",
                quiz: {
                    question: "Ù…Ø§ Ù‡ÙŠ Ø­Ø¯ÙˆØ¯ ØºØ³Ù„ Ø§Ù„ÙˆØ¬Ù‡ØŸ",
                    options: [
                        "Ù…Ù† Ø§Ù„Ø¬Ø¨Ù‡Ø© Ø¥Ù„Ù‰ Ø§Ù„Ø´ÙØªÙŠÙ†",
                        "Ù…Ù† Ø§Ù„Ø¬Ø¨Ù‡Ø© Ø¥Ù„Ù‰ Ø§Ù„Ø°Ù‚Ù† ÙˆÙ…Ù† Ø§Ù„Ø£Ø°Ù† Ø¥Ù„Ù‰ Ø§Ù„Ø£Ø°Ù†",
                        "Ø§Ù„ÙˆØ¬Ù‡ Ø¨Ø§Ù„ÙƒØ§Ù…Ù„ ÙÙ‚Ø·",
                        "Ø§Ù„Ø¹ÙŠÙ†Ø§Ù† ÙˆØ§Ù„Ø£Ù†Ù ÙÙ‚Ø·"
                    ],
                    correct: 1,
                    feedback: "Ù…Ù…ØªØ§Ø²! Ù†ØºØ³Ù„ Ø§Ù„ÙˆØ¬Ù‡ Ù…Ù† Ø§Ù„Ø¬Ø¨Ù‡Ø© Ø¥Ù„Ù‰ Ø§Ù„Ø°Ù‚Ù† ÙˆÙ…Ù† Ø§Ù„Ø£Ø°Ù† Ø¥Ù„Ù‰ Ø§Ù„Ø£Ø°Ù†"
                }
            },
            {
                title: "ØºØ³Ù„ Ø§Ù„ÙŠØ¯ÙŠÙ† Ø¥Ù„Ù‰ Ø§Ù„Ù…Ø±ÙÙ‚ÙŠÙ†",
                description: "Ø£ØºØ³Ù„ ÙŠØ¯ÙŠ Ø§Ù„ÙŠÙ…Ù†Ù‰ Ø«Ù… Ø§Ù„ÙŠØ³Ø±Ù‰ Ø¥Ù„Ù‰ Ø§Ù„Ù…Ø±ÙÙ‚ÙŠÙ† Ø«Ù„Ø§Ø« Ù…Ø±Ø§Øª",
                icon: "ğŸ¤š",
                quiz: {
                    question: "Ø£ÙŠÙ‡Ù…Ø§ Ù†ØºØ³Ù„ Ø£ÙˆÙ„Ø§Ù‹ØŸ",
                    options: [
                        "Ø§Ù„ÙŠØ¯ Ø§Ù„ÙŠØ³Ø±Ù‰",
                        "Ø§Ù„ÙŠØ¯ Ø§Ù„ÙŠÙ…Ù†Ù‰",
                        "ÙƒÙ„Ø§Ù‡Ù…Ø§ Ù…Ø¹Ø§Ù‹",
                        "Ù„Ø§ ÙŠÙ‡Ù…"
                    ],
                    correct: 1,
                    feedback: "ØµØ­ÙŠØ­! Ù†Ø¨Ø¯Ø£ Ø¨Ø§Ù„ÙŠØ¯ Ø§Ù„ÙŠÙ…Ù†Ù‰ Ø«Ù… Ø§Ù„ÙŠØ³Ø±Ù‰ØŒ Ø¥Ù„Ù‰ Ø§Ù„Ù…Ø±ÙÙ‚ÙŠÙ† Ø«Ù„Ø§Ø« Ù…Ø±Ø§Øª"
                }
            },
            {
                title: "Ù…Ø³Ø­ Ø§Ù„Ø±Ø£Ø³ ÙˆØ§Ù„Ø£Ø°Ù†ÙŠÙ†",
                description: "Ø£Ù…Ø³Ø­ Ø±Ø£Ø³ÙŠ Ù…Ø±Ø© ÙˆØ§Ø­Ø¯Ø©ØŒ ÙˆØ£Ù…Ø³Ø­ Ø£Ø°Ù†ÙŠ Ù…Ù† Ø§Ù„Ø¯Ø§Ø®Ù„ ÙˆØ§Ù„Ø®Ø§Ø±Ø¬",
                icon: "ğŸ‘‚",
                quiz: {
                    question: "ÙƒÙ… Ù…Ø±Ø© Ù†Ù…Ø³Ø­ Ø§Ù„Ø±Ø£Ø³ØŸ",
                    options: [
                        "Ù…Ø±Ø© ÙˆØ§Ø­Ø¯Ø©",
                        "Ù…Ø±ØªÙŠÙ†",
                        "Ø«Ù„Ø§Ø« Ù…Ø±Ø§Øª",
                        "Ø­Ø³Ø¨ Ø§Ù„Ø­Ø§Ø¬Ø©"
                    ],
                    correct: 0,
                    feedback: "ØµØ­ÙŠØ­! Ù†Ù…Ø³Ø­ Ø§Ù„Ø±Ø£Ø³ Ù…Ø±Ø© ÙˆØ§Ø­Ø¯Ø©ØŒ ÙˆØ§Ù„Ø£Ø°Ù†ÙŠÙ† Ù…Ù† Ø§Ù„Ø¯Ø§Ø®Ù„ ÙˆØ§Ù„Ø®Ø§Ø±Ø¬"
                }
            },
            {
                title: "ØºØ³Ù„ Ø§Ù„Ø±Ø¬Ù„ÙŠÙ† Ø¥Ù„Ù‰ Ø§Ù„ÙƒØ¹Ø¨ÙŠÙ†",
                description: "Ø£ØºØ³Ù„ Ø±Ø¬Ù„ÙŠ Ø§Ù„ÙŠÙ…Ù†Ù‰ Ø«Ù… Ø§Ù„ÙŠØ³Ø±Ù‰ Ø¥Ù„Ù‰ Ø§Ù„ÙƒØ¹Ø¨ÙŠÙ† Ø«Ù„Ø§Ø« Ù…Ø±Ø§Øª Ù…Ø¹ ØªØ®Ù„ÙŠÙ„ Ø§Ù„Ø£ØµØ§Ø¨Ø¹",
                icon: "ğŸ¦¶",
                quiz: {
                    question: "Ø¥Ù„Ù‰ Ø£ÙŠÙ† Ù†ØºØ³Ù„ Ø§Ù„Ø±Ø¬Ù„ÙŠÙ†ØŸ",
                    options: [
                        "Ø¥Ù„Ù‰ Ø§Ù„Ø£ØµØ§Ø¨Ø¹ ÙÙ‚Ø·",
                        "Ø¥Ù„Ù‰ Ø§Ù„ÙƒØ¹Ø¨ÙŠÙ†",
                        "Ø¥Ù„Ù‰ Ù†ØµÙ Ø§Ù„Ø³Ø§Ù‚",
                        "Ø¥Ù„Ù‰ Ø§Ù„Ø±ÙƒØ¨Ø©"
                    ],
                    correct: 1,
                    feedback: "Ù…Ù…ØªØ§Ø²! Ù†ØºØ³Ù„ Ø§Ù„Ø±Ø¬Ù„ÙŠÙ† Ø¥Ù„Ù‰ Ø§Ù„ÙƒØ¹Ø¨ÙŠÙ† Ù…Ø¹ ØªØ®Ù„ÙŠÙ„ Ø§Ù„Ø£ØµØ§Ø¨Ø¹"
                }
            },
            {
                title: "Ø§Ù„Ø¯Ø¹Ø§Ø¡ Ø¨Ø¹Ø¯ Ø§Ù„ÙˆØ¶ÙˆØ¡",
                description: "Ø£Ù‚ÙˆÙ„: Ø£Ø´Ù‡Ø¯ Ø£Ù† Ù„Ø§ Ø¥Ù„Ù‡ Ø¥Ù„Ø§ Ø§Ù„Ù„Ù‡ ÙˆØ­Ø¯Ù‡ Ù„Ø§ Ø´Ø±ÙŠÙƒ Ù„Ù‡ØŒ ÙˆØ£Ø´Ù‡Ø¯ Ø£Ù† Ù…Ø­Ù…Ø¯Ø§Ù‹ Ø¹Ø¨Ø¯Ù‡ ÙˆØ±Ø³ÙˆÙ„Ù‡",
                icon: "ğŸ¤²",
                quiz: {
                    question: "Ù…Ø§Ø°Ø§ Ù†Ù‚ÙˆÙ„ Ø¨Ø¹Ø¯ Ø§Ù„Ø§Ù†ØªÙ‡Ø§Ø¡ Ù…Ù† Ø§Ù„ÙˆØ¶ÙˆØ¡ØŸ",
                    options: [
                        "Ø§Ù„Ø­Ù…Ø¯ Ù„Ù„Ù‡ Ø±Ø¨ Ø§Ù„Ø¹Ø§Ù„Ù…ÙŠÙ†",
                        "Ø£Ø´Ù‡Ø¯ Ø£Ù† Ù„Ø§ Ø¥Ù„Ù‡ Ø¥Ù„Ø§ Ø§Ù„Ù„Ù‡ ÙˆØ£Ø´Ù‡Ø¯ Ø£Ù† Ù…Ø­Ù…Ø¯Ø§Ù‹ Ø±Ø³ÙˆÙ„ Ø§Ù„Ù„Ù‡",
                        "Ø¨Ø³Ù… Ø§Ù„Ù„Ù‡ Ø§Ù„Ø±Ø­Ù…Ù† Ø§Ù„Ø±Ø­ÙŠÙ…",
                        "Ù„Ø§ Ø¥Ù„Ù‡ Ø¥Ù„Ø§ Ø§Ù„Ù„Ù‡"
                    ],
                    correct: 1,
                    feedback: "Ù…Ù…ØªØ§Ø²! Ù†Ù‚ÙˆÙ„ Ø§Ù„Ø´Ù‡Ø§Ø¯ØªÙŠÙ† Ø¨Ø¹Ø¯ Ø§Ù„Ø§Ù†ØªÙ‡Ø§Ø¡ Ù…Ù† Ø§Ù„ÙˆØ¶ÙˆØ¡"
                }
            }
        ];

        let currentStep = 0;
        let score = 0;
        let answered = false;

        function initializeGame() {
            createStepIndicator();
            showCurrentStep();
            updateProgress();
        }

        function createStepIndicator() {
            const indicator = document.getElementById('stepIndicator');
            indicator.innerHTML = '';
            
            for (let i = 0; i < wuduSteps.length; i++) {
                const dot = document.createElement('div');
                dot.className = 'step-dot';
                dot.textContent = i + 1;
                dot.id = `step-${i}`;
                indicator.appendChild(dot);
            }
        }

        function showCurrentStep() {
            const gameContent = document.getElementById('gameContent');
            const step = wuduSteps[currentStep];
            
            gameContent.innerHTML = `
                <div class="step-card">
                    <div class="step-image">${step.icon}</div>
                    <div class="step-title">${step.title}</div>
                    <div class="step-description">${step.description}</div>
                </div>
                
                <div class="quiz-container">
                    <div class="quiz-question">${step.quiz.question}</div>
                    <div class="quiz-options" id="quizOptions">
                        ${step.quiz.options.map((option, index) => `
                            <div class="quiz-option" onclick="selectAnswer(${index})">${option}</div>
                        `).join('')}
                    </div>
                    <div id="feedback" class="feedback hidden"></div>
                </div>
            `;
            
            answered = false;
            updateStepIndicator();
            updateProgress();
        }

        function selectAnswer(selectedIndex) {
            if (answered) return;
            
            const step = wuduSteps[currentStep];
            const options = document.querySelectorAll('.quiz-option');
            const feedback = document.getElementById('feedback');
            
            answered = true;
            
            options.forEach((option, index) => {
                if (index === step.quiz.correct) {
                    option.classList.add('correct');
                } else if (index === selectedIndex && index !== step.quiz.correct) {
                    option.classList.add('incorrect');
                }
            });
            
            if (selectedIndex === step.quiz.correct) {
                score++;
                feedback.className = 'feedback correct';
                feedback.textContent = `âœ… ${step.quiz.feedback}`;
            } else {
                feedback.className = 'feedback incorrect';
                feedback.textContent = `âŒ Ø¥Ø¬Ø§Ø¨Ø© Ø®Ø§Ø·Ø¦Ø©. ${step.quiz.feedback}`;
            }
            
            feedback.classList.remove('hidden');
            
            // ØªØ­Ø¯ÙŠØ« Ù…Ø¤Ø´Ø± Ø§Ù„Ø®Ø·ÙˆØ©
            document.getElementById(`step-${currentStep}`).classList.add('completed');
        }

        function nextStep() {
            if (!answered) {
                alert('ÙŠØ±Ø¬Ù‰ Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© Ø¹Ù„Ù‰ Ø§Ù„Ø³Ø¤Ø§Ù„ Ø£ÙˆÙ„Ø§Ù‹!');
                return;
            }
            
            if (currentStep < wuduSteps.length - 1) {
                currentStep++;
                showCurrentStep();
            } else {
                showCompletionScreen();
            }
        }

        function previousStep() {
            if (currentStep > 0) {
                currentStep--;
                showCurrentStep();
            }
        }

        function updateStepIndicator() {
            const dots = document.querySelectorAll('.step-dot');
            dots.forEach((dot, index) => {
                dot.classList.remove('active');
                if (index === currentStep) {
                    dot.classList.add('active');
                }
            });
        }

        function updateProgress() {
            const progressFill = document.getElementById('progressFill');
            const progress = ((currentStep + 1) / wuduSteps.length) * 100;
            progressFill.style.width = `${progress}%`;
        }

        function showCompletionScreen() {
            const gameContent = document.getElementById('gameContent');
            const percentage = Math.round((score / wuduSteps.length) * 100);
            
            let message = '';
            let celebration = '';
            
            if (percentage >= 90) {
                message = 'Ù…Ù…ØªØ§Ø²! Ù„Ù‚Ø¯ Ø£ØªÙ‚Ù†Øª ØªØ¹Ù„Ù… Ø§Ù„ÙˆØ¶ÙˆØ¡ Ø¨Ø´ÙƒÙ„ Ø±Ø§Ø¦Ø¹! ğŸŒŸ';
                celebration = 'ğŸ‰ğŸŠğŸ†';
            } else if (percentage >= 70) {
                message = 'Ø¬ÙŠØ¯ Ø¬Ø¯Ø§Ù‹! ØªØ­Ø³Ù† Ù…Ù„Ø­ÙˆØ¸ ÙÙŠ ØªØ¹Ù„Ù… Ø§Ù„ÙˆØ¶ÙˆØ¡! ğŸ‘';
                celebration = 'ğŸ‰ğŸ‘';
            } else {
                message = 'Ø­Ø§ÙˆÙ„ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰! Ø³ØªØªØ­Ø³Ù† Ù…Ø¹ Ø§Ù„Ù…Ø²ÙŠØ¯ Ù…Ù† Ø§Ù„ØªØ¯Ø±ÙŠØ¨! ğŸ’ª';
                celebration = 'ğŸ¤—ğŸ“š';
            }
            
            gameContent.innerHTML = `
                <div class="completion-screen">
                    <div class="celebration">${celebration}</div>
                    <h2>Ù…Ø¨Ø±ÙˆÙƒ! Ù„Ù‚Ø¯ Ø£ÙƒÙ…Ù„Øª ØªØ¹Ù„Ù… Ø§Ù„ÙˆØ¶ÙˆØ¡</h2>
                    <p>${message}</p>
                    <div class="score-display">
                        Ø§Ù„Ù†ØªÙŠØ¬Ø©: ${score} Ù…Ù† ${wuduSteps.length} (${percentage}%)
                    </div>
                    <p>Ø§Ù„Ø¢Ù† Ø£Ù†Øª ØªØ¹Ø±Ù Ø¬Ù…ÙŠØ¹ Ø®Ø·ÙˆØ§Øª Ø§Ù„ÙˆØ¶ÙˆØ¡ Ø§Ù„ØµØ­ÙŠØ­Ø©!</p>
                </div>
            `;
            
            document.getElementById('nextBtn').style.display = 'none';
            document.getElementById('prevBtn').style.display = 'none';
        }

        function resetGame() {
            currentStep = 0;
            score = 0;
            answered = false;
            
            document.getElementById('nextBtn').style.display = 'block';
            document.getElementById('prevBtn').style.display = 'block';
            
            // Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ù…Ø¤Ø´Ø± Ø§Ù„Ø®Ø·ÙˆØ§Øª
            const dots = document.querySelectorAll('.step-dot');
            dots.forEach(dot => {
                dot.classList.remove('active', 'completed');
            });
            
            initializeGame();
        }

        // ØªØ´ØºÙŠÙ„ Ø§Ù„Ù„Ø¹Ø¨Ø© Ø¹Ù†Ø¯ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙØ­Ø©
        window.onload = function() {
            initializeGame();
        };
    </script>
</body>
</html>