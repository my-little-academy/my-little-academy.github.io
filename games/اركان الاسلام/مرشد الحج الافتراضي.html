<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù…Ø±Ø´Ø¯ Ø§Ù„Ø­Ø¬ Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠ - Ø§Ù„Ø³Ø¹ÙŠ Ø¨ÙŠÙ† Ø§Ù„ØµÙØ§ ÙˆØ§Ù„Ù…Ø±ÙˆØ©</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #f0f9ff 0%, #dcfce7 100%);
            min-height: 100vh;
            padding: 20px;
            direction: rtl;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        .header {
            text-align: center;
            margin-bottom: 30px;
            background: white;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }

        .header h1 {
            color: #166534;
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
        }

        .header p {
            color: #15803d;
            font-size: 1.2em;
            margin-bottom: 20px;
        }

        .stats {
            display: flex;
            justify-content: center;
            gap: 20px;
            flex-wrap: wrap;
        }

        .stat-box {
            background: #f8fafc;
            padding: 15px 25px;
            border-radius: 10px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.05);
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .game-section {
            background: white;
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }

        .safa-marwa {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
        }

        .mountain {
            width: 100px;
            height: 100px;
            background: #16a34a;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            font-size: 1.1em;
            box-shadow: 0 8px 20px rgba(22, 163, 74, 0.3);
        }

        .path-container {
            position: relative;
            height: 80px;
            background: #f1f5f9;
            border-radius: 15px;
            margin: 20px 0;
            overflow: hidden;
        }

        .path-bg {
            position: absolute;
            top: 0;
            left: 0;
            height: 100%;
            background: linear-gradient(90deg, #dcfce7 0%, #bbf7d0 100%);
            border-radius: 15px;
            transition: width 0.3s ease;
        }

        .hurrying-zone {
            position: absolute;
            top: 0;
            left: 25%;
            right: 25%;
            height: 100%;
            background: rgba(251, 191, 36, 0.3);
            border-radius: 10px;
        }

        .walker {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            width: 30px;
            height: 30px;
            background: #2563eb;
            border-radius: 50%;
            transition: left 0.3s ease;
            box-shadow: 0 4px 15px rgba(37, 99, 235, 0.4);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.2em;
        }

        .walker::before {
            content: "ğŸš¶";
        }

        .controls {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin: 20px 0;
            flex-wrap: wrap;
        }

        .btn {
            padding: 12px 25px;
            border: none;
            border-radius: 10px;
            font-size: 1em;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .btn-primary {
            background: #16a34a;
            color: white;
        }

        .btn-primary:hover {
            background: #15803d;
            transform: translateY(-2px);
        }

        .btn-secondary {
            background: #f97316;
            color: white;
        }

        .btn-secondary:hover {
            background: #ea580c;
            transform: translateY(-2px);
        }

        .btn-reset {
            background: #64748b;
            color: white;
        }

        .btn-reset:hover {
            background: #475569;
            transform: translateY(-2px);
        }

        .status-info {
            text-align: center;
            margin: 20px 0;
            padding: 20px;
            background: #f8fafc;
            border-radius: 10px;
        }

        .status-info h3 {
            color: #1e293b;
            margin-bottom: 10px;
        }

        .speed-control {
            margin: 20px 0;
            text-align: center;
        }

        .speed-control label {
            display: block;
            margin-bottom: 10px;
            font-weight: bold;
            color: #374151;
        }

        .speed-slider {
            width: 100%;
            max-width: 300px;
            margin: 0 auto;
        }

        .speed-labels {
            display: flex;
            justify-content: space-between;
            max-width: 300px;
            margin: 5px auto 0;
            font-size: 0.9em;
            color: #6b7280;
        }

        .duas-section {
            background: #eff6ff;
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
        }

        .duas-section h3 {
            color: #1e40af;
            text-align: center;
            margin-bottom: 15px;
        }

        .dua-display {
            background: white;
            padding: 20px;
            border-radius: 10px;
            margin: 15px 0;
            text-align: center;
            font-size: 1.1em;
            line-height: 1.8;
            color: #1e40af;
            box-shadow: 0 4px 10px rgba(0,0,0,0.05);
        }

        .encouragement {
            background: #dcfce7;
            padding: 15px;
            border-radius: 10px;
            text-align: center;
            color: #166534;
            font-weight: bold;
            margin: 15px 0;
            border-right: 4px solid #16a34a;
        }

        .knowledge-points {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }

        .knowledge-card {
            background: #f0f9ff;
            padding: 20px;
            border-radius: 10px;
            border-right: 4px solid #0ea5e9;
        }

        .knowledge-card h4 {
            color: #0c4a6e;
            margin-bottom: 10px;
        }

        .knowledge-card p {
            color: #075985;
            line-height: 1.6;
        }

        .completion-screen {
            text-align: center;
            padding: 40px;
            background: linear-gradient(135deg, #dcfce7 0%, #bbf7d0 100%);
            border-radius: 15px;
        }

        .completion-screen h2 {
            color: #166534;
            font-size: 2.5em;
            margin-bottom: 20px;
        }

        .completion-icon {
            font-size: 4em;
            margin: 20px 0;
        }

        .achievement-stats {
            display: flex;
            justify-content: center;
            gap: 30px;
            margin: 30px 0;
            flex-wrap: wrap;
        }

        .achievement-box {
            background: white;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            min-width: 120px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }

        .achievement-box .icon {
            font-size: 2em;
            margin-bottom: 10px;
        }

        .hidden {
            display: none;
        }

        .intro-section {
            background: white;
            padding: 30px;
            border-radius: 15px;
            margin-bottom: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }

        .intro-section h2 {
            text-align: center;
            color: #166534;
            margin-bottom: 20px;
            font-size: 2em;
        }

        .intro-section p {
            text-align: center;
            color: #374151;
            font-size: 1.1em;
            line-height: 1.6;
            margin-bottom: 30px;
        }

        @media (max-width: 768px) {
            .header h1 {
                font-size: 2em;
            }
            
            .stats {
                flex-direction: column;
                align-items: center;
            }
            
            .safa-marwa {
                flex-direction: column;
                gap: 20px;
            }
            
            .mountain {
                width: 80px;
                height: 80px;
            }
            
            .controls {
                flex-direction: column;
                align-items: center;
            }
            
            .btn {
                width: 100%;
                max-width: 250px;
                justify-content: center;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="header">
            <h1>ğŸ•‹ Ù…Ø±Ø´Ø¯ Ø§Ù„Ø­Ø¬ Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠ</h1>
            <p>Ø§Ù„Ø³Ø¹ÙŠ Ø¨ÙŠÙ† Ø§Ù„ØµÙØ§ ÙˆØ§Ù„Ù…Ø±ÙˆØ©</p>
            <div class="stats">
                <div class="stat-box">
                    <span style="font-size: 1.5em;">â­</span>
                    <span id="knowledge-points">0 Ù†Ù‚Ø·Ø© Ù…Ø¹Ø±ÙØ©</span>
                </div>
                <div class="stat-box">
                    <span style="font-size: 1.5em;">â±ï¸</span>
                    <span id="round-counter">Ø§Ù„Ø´ÙˆØ· 1/7</span>
                </div>
            </div>
        </div>

        <!-- Intro Section -->
        <div id="intro-section" class="intro-section">
            <h2>Ù…Ø±Ø­Ø¨Ø§Ù‹ Ø¨Ùƒ ÙÙŠ Ø±Ø­Ù„Ø© Ø§Ù„Ø³Ø¹ÙŠ Ø§Ù„Ù…Ø¨Ø§Ø±ÙƒØ©</h2>
            <p>Ø³ØªÙ‚ÙˆÙ… Ø¨ØªØ¬Ø±Ø¨Ø© Ù…Ø­Ø§ÙƒØ§Ø© Ø§Ù„Ø³Ø¹ÙŠ Ø¨ÙŠÙ† Ø§Ù„ØµÙØ§ ÙˆØ§Ù„Ù…Ø±ÙˆØ©ØŒ ÙˆÙ‡Ùˆ Ø£Ø­Ø¯ Ø£Ø±ÙƒØ§Ù† Ø§Ù„Ø­Ø¬ ÙˆØ§Ù„Ø¹Ù…Ø±Ø© Ø§Ù„Ù…Ù‡Ù…Ø©</p>
            
            <div class="knowledge-points">
                <div class="knowledge-card">
                    <h4>Ø¨Ø¯Ø§ÙŠØ© Ø§Ù„Ø³Ø¹ÙŠ</h4>
                    <p>ÙŠØ¨Ø¯Ø£ Ø§Ù„Ø³Ø¹ÙŠ Ù…Ù† Ø§Ù„ØµÙØ§ ÙˆÙŠÙØ³ØªØ­Ø¨ Ø§Ù„Ø¯Ø¹Ø§Ø¡ Ø¹Ù†Ø¯ Ø§Ù„ÙˆÙ‚ÙˆÙ Ø¹Ù„ÙŠÙ‡</p>
                </div>
                <div class="knowledge-card">
                    <h4>Ø¹Ø¯Ø¯ Ø§Ù„Ø£Ø´ÙˆØ§Ø·</h4>
                    <p>Ø§Ù„Ø³Ø¹ÙŠ Ø³Ø¨Ø¹Ø© Ø£Ø´ÙˆØ§Ø·ØŒ Ù…Ù† Ø§Ù„ØµÙØ§ Ø¥Ù„Ù‰ Ø§Ù„Ù…Ø±ÙˆØ© Ø´ÙˆØ· ÙˆØ§Ø­Ø¯</p>
                </div>
                <div class="knowledge-card">
                    <h4>Ø§Ù„Ù‡Ø±ÙˆÙ„Ø©</h4>
                    <p>ÙŠÙØ³Ù† Ù„Ù„Ø±Ø¬Ø§Ù„ Ø§Ù„Ù‡Ø±ÙˆÙ„Ø© Ø¨ÙŠÙ† Ø§Ù„Ø¹Ù„Ù…ÙŠÙ† Ø§Ù„Ø£Ø®Ø¶Ø±ÙŠÙ†</p>
                </div>
                <div class="knowledge-card">
                    <h4>Ø§Ù„Ø¯Ø¹Ø§Ø¡ ÙˆØ§Ù„Ø°ÙƒØ±</h4>
                    <p>ÙŠÙØ³ØªØ­Ø¨ Ø§Ù„Ø¥ÙƒØ«Ø§Ø± Ù…Ù† Ø§Ù„Ø¯Ø¹Ø§Ø¡ ÙˆØ§Ù„Ø°ÙƒØ± Ø£Ø«Ù†Ø§Ø¡ Ø§Ù„Ø³Ø¹ÙŠ</p>
                </div>
            </div>
            
            <div class="controls">
                <button class="btn btn-primary" onclick="startGame()">
                    Ø§Ø¨Ø¯Ø£ Ø§Ù„Ø³Ø¹ÙŠ
                </button>
            </div>
        </div>

        <!-- Game Section -->
        <div id="game-section" class="game-section hidden">
            <h2 style="text-align: center; margin-bottom: 30px; color: #166534;">Ù…Ø³Ø§Ø± Ø§Ù„Ø³Ø¹ÙŠ</h2>
            
            <!-- Ø§Ù„ØµÙØ§ ÙˆØ§Ù„Ù…Ø±ÙˆØ© -->
            <div class="safa-marwa">
                <div>
                    <div class="mountain">Ø§Ù„ØµÙØ§</div>
                    <div style="text-align: center; margin-top: 10px;">ğŸ“</div>
                </div>
                <div>
                    <div class="mountain">Ø§Ù„Ù…Ø±ÙˆØ©</div>
                    <div style="text-align: center; margin-top: 10px;">ğŸ“</div>
                </div>
            </div>

            <!-- Ù…Ø³Ø§Ø± Ø§Ù„Ø­Ø±ÙƒØ© -->
            <div class="path-container">
                <div id="path-bg" class="path-bg" style="width: 0%"></div>
                <div class="hurrying-zone"></div>
                <div id="walker" class="walker" style="left: 0%"></div>
            </div>

            <!-- Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø­Ø§Ù„Ø© -->
            <div class="status-info">
                <h3 id="position-text">Ø§Ù„ØµÙØ§ - Ù†Ù‚Ø·Ø© Ø§Ù„Ø¨Ø¯Ø§ÙŠØ©</h3>
                <p id="direction-text">Ø§Ø³ØªØ¹Ø¯ Ù„Ù„Ø¨Ø¯Ø¡ ÙÙŠ Ø§Ù„Ø³Ø¹ÙŠ</p>
            </div>

            <!-- Ø£Ø²Ø±Ø§Ø± Ø§Ù„ØªØ­ÙƒÙ… -->
            <div class="controls">
                <button id="walk-btn" class="btn btn-primary" onclick="toggleWalking()">
                    Ø§Ø¨Ø¯Ø£ Ø§Ù„Ù…Ø´ÙŠ
                </button>
                <button class="btn btn-reset" onclick="resetGame()">
                    Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ø¨Ø¯Ø¡
                </button>
            </div>

            <!-- Ø§Ù„ØªØ­ÙƒÙ… ÙÙŠ Ø§Ù„Ø³Ø±Ø¹Ø© -->
            <div class="speed-control">
                <label for="speed-slider">Ø³Ø±Ø¹Ø© Ø§Ù„Ù…Ø´ÙŠ</label>
                <input type="range" id="speed-slider" class="speed-slider" min="0.5" max="3" step="0.5" value="1">
                <div class="speed-labels">
                    <span>Ø¨Ø·ÙŠØ¡</span>
                    <span>Ù…ØªÙˆØ³Ø·</span>
                    <span>Ø³Ø±ÙŠØ¹</span>
                </div>
            </div>

            <!-- Ø§Ù„ØªØ´Ø¬ÙŠØ¹ -->
            <div id="encouragement" class="encouragement hidden">
                Ø¨Ø§Ø±Ùƒ Ø§Ù„Ù„Ù‡ ÙÙŠÙƒ! Ø§Ø³ØªÙ…Ø± ÙÙŠ Ø§Ù„Ø³Ø¹ÙŠ
            </div>

            <!-- Ù‚Ø³Ù… Ø§Ù„Ø£Ø¯Ø¹ÙŠØ© -->
            <div class="duas-section">
                <h3>ğŸ“– Ø§Ù„Ø£Ø¯Ø¹ÙŠØ© ÙˆØ§Ù„Ø£Ø°ÙƒØ§Ø±</h3>
                <div class="controls">
                    <button class="btn btn-primary" onclick="showDua()">
                        Ø§Ø¹Ø±Ø¶ Ø¯Ø¹Ø§Ø¡
                    </button>
                </div>
                <div id="dua-display" class="dua-display hidden">
                    <p id="dua-text"></p>
                    <button class="btn btn-secondary" onclick="hideDua()">Ø¥Ø®ÙØ§Ø¡ Ø§Ù„Ø¯Ø¹Ø§Ø¡</button>
                </div>
            </div>
        </div>

        <!-- Completion Screen -->
        <div id="completion-section" class="completion-screen hidden">
            <h2>ğŸ‰ ØªØ¨Ø§Ø±Ùƒ Ø§Ù„Ù„Ù‡! Ø£ØªÙ…Ù…Øª Ø§Ù„Ø³Ø¹ÙŠ</h2>
            <div class="completion-icon">ğŸ•‹</div>
            <p style="font-size: 1.2em; margin: 20px 0;">Ù„Ù‚Ø¯ Ø£ØªÙ…Ù…Øª Ø§Ù„Ø³Ø¹ÙŠ Ø¨ÙŠÙ† Ø§Ù„ØµÙØ§ ÙˆØ§Ù„Ù…Ø±ÙˆØ© Ø¨Ù†Ø¬Ø§Ø­</p>
            
            <div style="background: #dcfce7; padding: 20px; border-radius: 10px; margin: 20px 0;">
                <p style="color: #166534; font-weight: bold;">ØªÙ‚Ø¨Ù„ Ø§Ù„Ù„Ù‡ Ù…Ù†Ùƒ Ø§Ù„Ø³Ø¹ÙŠ ÙˆØ¬Ø¹Ù„Ù‡ ÙÙŠ Ù…ÙŠØ²Ø§Ù† Ø­Ø³Ù†Ø§ØªÙƒ</p>
            </div>

            <div class="achievement-stats">
                <div class="achievement-box">
                    <div class="icon">â­</div>
                    <p><strong id="final-knowledge">0</strong><br>Ù†Ù‚Ø·Ø© Ù…Ø¹Ø±ÙØ©</p>
                </div>
                <div class="achievement-box">
                    <div class="icon">â±ï¸</div>
                    <p><strong>7</strong><br>Ø£Ø´ÙˆØ§Ø· Ù…ÙƒØªÙ…Ù„Ø©</p>
                </div>
                <div class="achievement-box">
                    <div class="icon">ğŸ†</div>
                    <p><strong>Ù…Ø¨Ø§Ø±Ùƒ</strong><br>Ø§Ù„Ø³Ø¹ÙŠ Ø§Ù„Ù…ØªÙ‚Ù†</p>
                </div>
            </div>

            <div class="controls">
                <button class="btn btn-primary" onclick="resetGame()">
                    ØªØ¬Ø±Ø¨Ø© Ø¬Ø¯ÙŠØ¯Ø©
                </button>
            </div>
        </div>
    </div>

    <script>
        // Game state
        let gameState = {
            currentRound: 1,
            isWalking: false,
            position: 0,
            direction: 'toMarwa',
            knowledge: 0,
            walkingSpeed: 1,
            gamePhase: 'intro'
        };

        // Ø§Ù„Ø£Ø¯Ø¹ÙŠØ© ÙˆØ§Ù„Ø£Ø°ÙƒØ§Ø±
        const duas = [
            "Ø±ÙØ¨ÙÙ‘Ù†ÙØ§ Ø¢ØªÙÙ†ÙØ§ ÙÙÙŠ Ø§Ù„Ø¯ÙÙ‘Ù†Ù’ÙŠÙØ§ Ø­ÙØ³ÙÙ†ÙØ©Ù‹ ÙˆÙÙÙÙŠ Ø§Ù„Ù’Ø¢Ø®ÙØ±ÙØ©Ù Ø­ÙØ³ÙÙ†ÙØ©Ù‹ ÙˆÙÙ‚ÙÙ†ÙØ§ Ø¹ÙØ°ÙØ§Ø¨Ù Ø§Ù„Ù†ÙÙ‘Ø§Ø±Ù",
            "Ù„ÙØ§ Ø¥ÙÙ„ÙÙ‡Ù Ø¥ÙÙ„ÙÙ‘Ø§ Ø§Ù„Ù„ÙÙ‘Ù‡Ù ÙˆÙØ­Ù’Ø¯ÙÙ‡Ù Ù„ÙØ§ Ø´ÙØ±ÙÙŠÙƒÙ Ù„ÙÙ‡ÙØŒ Ù„ÙÙ‡Ù Ø§Ù„Ù’Ù…ÙÙ„Ù’ÙƒÙ ÙˆÙÙ„ÙÙ‡Ù Ø§Ù„Ù’Ø­ÙÙ…Ù’Ø¯Ù ÙˆÙÙ‡ÙÙˆÙ Ø¹ÙÙ„ÙÙ‰ ÙƒÙÙ„ÙÙ‘ Ø´ÙÙŠÙ’Ø¡Ù Ù‚ÙØ¯ÙÙŠØ±ÙŒ",
            "Ø§Ù„Ù„ÙÙ‘Ù‡ÙÙ…ÙÙ‘ Ø¥ÙÙ†ÙÙ‘ÙŠ Ø£ÙØ³Ù’Ø£ÙÙ„ÙÙƒÙ Ù…ÙÙ†Ù’ ÙÙØ¶Ù’Ù„ÙÙƒÙ ÙˆÙØ±ÙØ­Ù’Ù…ÙØªÙÙƒÙ ÙÙØ¥ÙÙ†ÙÙ‘Ù‡Ù Ù„ÙØ§ ÙŠÙÙ…Ù’Ù„ÙÙƒÙÙ‡ÙØ§ Ø¥ÙÙ„ÙÙ‘Ø§ Ø£ÙÙ†Ù’ØªÙ",
            "Ø³ÙØ¨Ù’Ø­ÙØ§Ù†Ù Ø§Ù„Ù„ÙÙ‘Ù‡Ù ÙˆÙØ§Ù„Ù’Ø­ÙÙ…Ù’Ø¯Ù Ù„ÙÙ„ÙÙ‘Ù‡Ù ÙˆÙÙ„ÙØ§ Ø¥ÙÙ„ÙÙ‡Ù Ø¥ÙÙ„ÙÙ‘Ø§ Ø§Ù„Ù„ÙÙ‘Ù‡Ù ÙˆÙØ§Ù„Ù„ÙÙ‘Ù‡Ù Ø£ÙÙƒÙ’Ø¨ÙØ±Ù",
            "Ø§Ù„Ù„ÙÙ‘Ù‡ÙÙ…ÙÙ‘ Ø§ØºÙ’ÙÙØ±Ù’ Ù„ÙÙŠ Ø°ÙÙ†Ù’Ø¨ÙÙŠ ÙˆÙØ®ÙØ·ÙØ¦ÙÙŠ ÙˆÙØ¬ÙÙ‡Ù’Ù„ÙÙŠ"
        ];

        // Ø§Ù„Ø¹Ø¨Ø§Ø±Ø§Øª Ø§Ù„ØªØ´Ø¬ÙŠØ¹ÙŠØ©
        const encouragements = [
            "Ø¨Ø§Ø±Ùƒ Ø§Ù„Ù„Ù‡ ÙÙŠÙƒ! Ø§Ø³ØªÙ…Ø± ÙÙŠ Ø§Ù„Ø³Ø¹ÙŠ",
            "Ø£Ø­Ø³Ù†Øª! Ù‡Ø°Ø§ Ù‡Ùˆ Ø§Ù„Ø·Ø±ÙŠÙ‚ Ø§Ù„ØµØ­ÙŠØ­",
            "Ø§Ù„Ù„Ù‡Ù… ØªÙ‚Ø¨Ù„ Ù…Ù†Ø§ Ø§Ù„Ø³Ø¹ÙŠ",
            "Ù…Ø§ Ø´Ø§Ø¡ Ø§Ù„Ù„Ù‡! Ø³Ø¹ÙŠ Ù…Ø¨Ø§Ø±Ùƒ",
            "Ø£ÙƒÙ…Ù„ Ø¨Ø±ÙƒØ© Ø§Ù„Ù„Ù‡ Ù…Ø¹Ùƒ",
            "Ø³Ø¹ÙŠ Ø·ÙŠØ¨ Ù…Ø¨Ø§Ø±Ùƒ Ø¥Ù† Ø´Ø§Ø¡ Ø§Ù„Ù„Ù‡"
        ];

        let walkingInterval;

        function startGame() {
            gameState.gamePhase = 'walking';
            updateUI();
            addKnowledge(10);
        }

        function toggleWalking() {
            gameState.isWalking = !gameState.isWalking;
            
            if (gameState.isWalking) {
                startWalking();
            } else {
                stopWalking();
            }
            
            updateUI();
        }

        function startWalking() {
            walkingInterval = setInterval(() => {
                gameState.walkingSpeed = parseFloat(document.getElementById('speed-slider').value);
                
                if (gameState.direction === 'toMarwa') {
                    gameState.position += gameState.walkingSpeed;
                } else {
                    gameState.position -= gameState.walkingSpeed;
                }

                // ØªØ­Ø¯ÙŠØ¯ Ù†Ù‚Ø§Ø· Ø§Ù„ØªØ­ÙˆÙ„
                if (gameState.position >= 100) {
                    gameState.position = 100;
                    gameState.direction = 'toSafa';
                    gameState.currentRound++;
                    addKnowledge(10);
                    showEncouragement();
                } else if (gameState.position <= 0) {
                    gameState.position = 0;
                    gameState.direction = 'toMarwa';
                    gameState.currentRound++;
                    addKnowledge(10);
                    showEncouragement();
                }

                // Ø§Ù†ØªÙ‡Ø§Ø¡ Ø§Ù„Ø³Ø¹ÙŠ
                if (gameState.currentRound > 7) {
                    gameState.isWalking = false;
                    gameState.gamePhase = 'completed';
                    stopWalking();
                    addKnowledge(50);
                    updateUI();
                    return;
                }

                updateUI();
            }, 100);
        }

        function stopWalking() {
            if (walkingInterval) {
                clearInterval(walkingInterval);
                walkingInterval = null;
            }
        }

        function resetGame() {
            stopWalking();
            gameState = {
                currentRound: 1,
                isWalking: false,
                position: 0,
                direction: 'toMarwa',
                knowledge: 0,
                walkingSpeed: 1,
                gamePhase: 'intro'
            };
            document.getElementById('speed-slider').value = 1;
            hideDua();
            hideEncouragement();
            updateUI();
        }

        function addKnowledge(points) {
            gameState.knowledge += points;
            updateKnowledgeDisplay();
        }

        function updateKnowledgeDisplay() {
            document.getElementById('knowledge-points').textContent = gameState.knowledge + ' Ù†Ù‚Ø·Ø© Ù…Ø¹Ø±ÙØ©';
        }

        function showEncouragement() {
            const encouragementEl = document.getElementById('encouragement');
            const randomEncouragement = encouragements[Math.floor(Math.random() * encouragements.length)];
            encouragementEl.textContent = randomEncouragement;
            encouragementEl.classList.remove('hidden');
            
            setTimeout(() => {
                hideEncouragement();
            }, 3000);
        }

        function hideEncouragement() {
            document.getElementById('encouragement').classList.add('hidden');
        }

        function showDua() {
            const randomDua = duas[Math.floor(Math.random() * duas.length)];
            document.getElementById('dua-text').textContent = randomDua;
            document.getElementById('dua-display').classList.remove('hidden');
            addKnowledge(5);
        }

        function hideDua() {
            document.getElementById('dua-display').classList.add('hidden');
        }

        function getPositionText() {
            if (gameState.position <= 5) return "Ø§Ù„ØµÙØ§";
            if (gameState.position >= 95) return "Ø§Ù„Ù…Ø±ÙˆØ©";
            if (gameState.position >= 30 && gameState.position <= 70) return "Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ù‡Ø±ÙˆÙ„Ø©";
            return gameState.direction === 'toMarwa' ? "ÙÙŠ Ø§Ù„Ø·Ø±ÙŠÙ‚ Ø¥Ù„Ù‰ Ø§Ù„Ù…Ø±ÙˆØ©" : "ÙÙŠ Ø§Ù„Ø·Ø±ÙŠÙ‚ Ø¥Ù„Ù‰ Ø§Ù„ØµÙØ§";
        }

        function getDirectionText() {
            if (gameState.isWalking) {
                return gameState.direction === 'toMarwa' ? 'Ù…ØªØ¬Ù‡ Ø¥Ù„Ù‰ Ø§Ù„Ù…Ø±ÙˆØ©' : 'Ù…ØªØ¬Ù‡ Ø¥Ù„Ù‰ Ø§Ù„ØµÙØ§';
            }
            return gameState.direction === 'toMarwa' ? 'Ø§Ø³ØªØ¹Ø¯ Ù„Ù„ØªÙˆØ¬Ù‡ Ø¥Ù„Ù‰ Ø§Ù„Ù…Ø±ÙˆØ©' : 'Ø§Ø³ØªØ¹Ø¯ Ù„Ù„ØªÙˆØ¬Ù‡ Ø¥Ù„Ù‰ Ø§Ù„ØµÙØ§';
        }

        function updateUI() {
            // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¹Ø±Ø¶ Ø­Ø³Ø¨ Ù…Ø±Ø­Ù„Ø© Ø§Ù„Ù„Ø¹Ø¨Ø©
            document.getElementById('intro-section').classList.toggle('hidden', gameState.gamePhase !== 'intro');
            document.getElementById('game-section').classList.toggle('hidden', gameState.gamePhase !== 'walking');
            document.getElementById('completion-section').classList.toggle('hidden', gameState.gamePhase !== 'completed');

            if (gameState.gamePhase === 'walking') {
                // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…ÙˆØ¶Ø¹
                document.getElementById('walker').style.left = gameState.position + '%';
                document.getElementById('path-bg').style.width = gameState.position + '%';
                
                // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù†ØµÙˆØµ
                document.getElementById('position-text').textContent = getPositionText();
                document.getElementById('direction-text').textContent = getDirectionText();
                
                // ØªØ­Ø¯ÙŠØ« Ø²Ø± Ø§Ù„Ù…Ø´ÙŠ
                const walkBtn = document.getElementById('walk-btn');
                walkBtn.textContent = gameState.isWalking ? 'ØªÙˆÙ‚Ù' : 'Ø§Ø¨Ø¯Ø£ Ø§Ù„Ù…Ø´ÙŠ';
                walkBtn.className = gameState.isWalking ? 'btn btn-secondary' : 'btn btn-primary';
            }

            if (gameState.gamePhase === 'completed') {
                document.getElementById('final-knowledge').textContent = gameState.knowledge;
            }

            // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¹Ø¯Ø§Ø¯Ø§Øª
            document.getElementById('round-counter').textContent = `Ø§Ù„Ø´ÙˆØ· ${gameState.currentRound}/7`;
            updateKnowledgeDisplay();
        }

        // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø³Ø±Ø¹Ø© Ø¹Ù†Ø¯ ØªØºÙŠÙŠØ± Ø§Ù„Ø´Ø±ÙŠØ·
        document.getElementById('speed-slider').addEventListener('input', (e) => {
            gameState.walkingSpeed = parseFloat(e.target.value);
        });

        // ØªÙ‡ÙŠØ¦Ø© Ø§Ù„Ø¹Ø±Ø¶ Ø§Ù„Ø£ÙˆÙ„ÙŠ
        updateUI();
    </script>
</body>
</html>