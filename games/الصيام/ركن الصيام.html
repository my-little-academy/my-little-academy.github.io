<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ركن الصيام - المسلم الصغير</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary: #FF7F50; /* Coral for warmth, associated with sunrise/sunset */
            --secondary: #87CEEB; /* Sky Blue for freshness */
            --accent: #FFD700; /* Gold for blessings */
            --light: #F8F9FA;
            --dark: #2B2D42;
            --highlight: #FF4500; /* OrangeRed for emphasis */
            --success: #4AD66D;
            --warning: #FF9E00;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Tajawal', sans-serif;
            background-color: #E0F7FA; /* Light cyan for serene feel */
            background-image: url('https://img.freepik.com/free-vector/gradient-sky-background-with-moon_23-2148483494.jpg'); /* Night sky with moon for Ramadan feel */
            background-size: cover;
            background-position: center;
            color: var(--dark);
            min-height: 100vh;
            overflow-x: hidden;
        }

        .container {
            max-width: 1000px;
            margin: 0 auto;
            padding: 20px;
        }

        header {
            background: linear-gradient(90deg, var(--primary) 0%, var(--highlight) 100%);
            color: white;
            padding: 20px 0;
            text-align: center;
            border-radius: 0 0 30px 30px;
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
            position: relative;
            overflow: hidden;
            border-bottom: 5px solid var(--accent);
        }

        h1 {
            font-size: 2.2rem;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
        }

        .header-icon {
            font-size: 1.8rem;
            margin: 0 10px;
            color: var(--accent);
            animation: bounce 2s infinite;
        }

        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }

        .game-intro {
            background-color: rgba(255, 255, 255, 0.9);
            border-radius: 20px;
            padding: 20px;
            margin: 25px auto;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            text-align: center;
            border: 3px dashed var(--secondary);
        }

        .intro-text {
            font-size: 1.2rem;
            line-height: 1.8;
            margin-bottom: 15px;
        }

        .pillar-box {
            background: linear-gradient(135deg, var(--highlight) 0%, var(--primary) 100%);
            color: white;
            padding: 20px;
            border-radius: 20px;
            margin: 25px auto;
            text-align: center;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            max-width: 600px;
            border: 3px solid white;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.02); }
        }

        .pillar-text {
            font-size: 1.8rem;
            font-weight: bold;
            margin-bottom: 10px;
        }

        .pillar-translation {
            font-size: 1.1rem;
            opacity: 0.9;
        }

        .game-area {
            display: flex;
            flex-direction: column;
            align-items: center;
            margin: 30px 0;
        }

        .game-section {
            width: 100%;
            padding: 20px;
            border-radius: 20px;
            margin-bottom: 20px;
            background-color: rgba(255, 255, 255, 0.85);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
            border: 2px solid rgba(255, 127, 80, 0.2); /* Using primary color for border */
        }

        .section-title {
            font-size: 1.5rem;
            color: var(--primary);
            margin-bottom: 20px;
            text-align: center;
        }

        .game-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }

        .game-card {
            background: white;
            border-radius: 15px;
            padding: 20px;
            text-align: center;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
            cursor: pointer;
            border-top: 4px solid var(--secondary);
        }

        .game-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
        }

        .card-icon {
            font-size: 2.5rem;
            color: var(--primary);
            margin-bottom: 15px;
        }

        .card-title {
            font-size: 1.3rem;
            color: var(--dark);
            margin-bottom: 10px;
        }

        .card-desc {
            color: #666;
            line-height: 1.6;
            font-size: 0.95rem;
        }

        .character {
            position: fixed;
            bottom: 20px;
            left: 20px;
            width: 120px;
            z-index: 10;
            animation: float 3s ease-in-out infinite;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-15px); }
        }

        /* Styles for the game modals/sections */
        .game-modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.6);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 100;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.3s ease, visibility 0.3s ease;
        }

        .game-modal-overlay.active {
            opacity: 1;
            visibility: visible;
        }

        .game-modal-content {
            background-color: white;
            padding: 30px;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            max-width: 700px;
            width: 90%;
            text-align: center;
            position: relative;
            transform: translateY(20px);
            opacity: 0;
            transition: transform 0.3s ease, opacity 0.3s ease;
        }

        .game-modal-overlay.active .game-modal-content {
            transform: translateY(0);
            opacity: 1;
        }

        .game-modal-content h3 {
            color: var(--primary);
            margin-bottom: 20px;
            font-size: 1.8rem;
        }

        .game-modal-content p {
            font-size: 1.1rem;
            line-height: 1.7;
            margin-bottom: 20px;
        }

        .game-modal-content button {
            background-color: var(--accent);
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1rem;
            transition: background-color 0.3s ease, transform 0.2s ease;
        }

        .game-modal-content button:hover {
            background-color: #e61f74; /* A darker shade of accent */
            transform: translateY(-2px);
        }

        .close-modal {
            position: absolute;
            top: 15px;
            right: 20px;
            font-size: 1.8rem;
            cursor: pointer;
            color: #aaa;
            transition: color 0.2s ease;
        }

        .close-modal:hover {
            color: var(--dark);
        }

        /* Specific Game Styles (Examples) */
        #ruling-quiz-game .question {
            font-size: 1.3rem;
            margin-bottom: 15px;
            color: var(--dark);
        }
        #ruling-quiz-game .options button {
            background-color: var(--secondary);
            margin: 5px;
            padding: 10px 20px;
            border-radius: 5px;
            color: var(--dark);
            font-weight: bold;
            transition: background-color 0.3s ease;
        }
        #ruling-quiz-game .options button:hover {
            background-color: #6ED0F6; /* Lighter secondary */
        }
        #ruling-quiz-game .options button.correct {
            background-color: var(--success);
            color: white;
        }
        #ruling-quiz-game .options button.wrong {
            background-color: var(--warning);
            color: white;
        }
        #ruling-quiz-game .feedback {
            margin-top: 15px;
            font-size: 1.1rem;
            font-weight: bold;
        }

        #suhoor-iftar-game div {
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 10px;
        }
        #suhoor-iftar-game img {
            width: 80px;
            height: 80px;
            margin: 0 10px;
            border-radius: 50%;
            object-fit: cover;
            border: 3px solid var(--accent);
        }
        #suhoor-iftar-game span {
            font-size: 1.2rem;
            font-weight: bold;
            color: var(--dark);
        }

        #benefits-game ul {
            list-style: none;
            padding: 0;
            margin-bottom: 20px;
            text-align: right;
        }
        #benefits-game li {
            background-color: var(--light);
            padding: 10px 15px;
            border-radius: 10px;
            border: 1px solid var(--secondary);
            font-size: 1.1rem;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        #benefits-game li i {
            color: var(--primary);
            font-size: 1.3rem;
        }

        /* Responsive adjustments */
        @media (max-width: 768px) {
            h1 {
                font-size: 1.8rem;
            }
            
            .game-grid {
                grid-template-columns: 1fr;
            }
            
            .character {
                width: 80px;
            }

            .game-modal-content {
                padding: 20px;
            }

            .game-modal-content h3 {
                font-size: 1.5rem;
            }

            .game-modal-content p {
                font-size: 1rem;
            }
        }
    </style>
</head>
<body>
    <header class="animate__animated animate__fadeInDown">
        <div class="container">
            <h1>
                <i class="fas fa-moon header-icon"></i>
                ركن الصيام
                <i class="fas fa-mosque header-icon"></i>
            </h1>
            <p style="color: rgba(255,255,255,0.9);">تعلم وتفاعل مع ركن الصيام في الإسلام</p>
        </div>
    </header>

    <div class="container">
        <div class="game-intro animate__animated animate__fadeIn">
            <p class="intro-text">
                الصيام هو الركن الرابع من أركان الإسلام، وهو عبادة عظيمة تهذب النفس وتقوي الإيمان.<br>
                هيا بنا نتعلم عنه بطريقة شيقة وممتعة!
            </p>
        </div>

        <div class="pillar-box">
            <div class="pillar-text">الصوم جنة</div>
            <div class="pillar-translation">هو الإمساك عن الطعام والشراب وسائر المفطرات من الفجر إلى غروب الشمس</div>
        </div>

        <div class="game-area">
            <div class="game-section animate__animated animate__fadeInUp">
                <h3 class="section-title">ألعاب تعليمية عن الصيام</h3>
                <div class="game-grid">
                    <div class="game-card" onclick="showGame('pillar-rulings')">
                        <div class="card-icon"><i class="fas fa-book-reader"></i></div>
                        <h4 class="card-title">أحكام الصيام الأساسية</h4>
                        <p class="card-desc">تعرف على أركان الصيام وشروطه ومفسداته</p>
                    </div>

                    <div class="game-card" onclick="showGame('ruling-quiz')">
                        <div class="card-icon"><i class="fas fa-question-circle"></i></div>
                        <h4 class="card-title">اختبر معلوماتك</h4>
                        <p class="card-desc">مسابقة شيقة في أحكام الصيام</p>
                    </div>

                    <div class="game-card" onclick="showGame('suhoor-iftar')">
                        <div class="card-icon"><i class="fas fa-cloud-moon"></i></div>
                        <h4 class="card-title">السحور والإفطار</h4>
                        <p class="card-desc">تعلم أهمية السحور والتعجيل بالإفطار</p>
                    </div>

                    <div class="game-card" onclick="showGame('benefits')">
                        <div class="card-icon"><i class="fas fa-hand-holding-heart"></i></div>
                        <h4 class="card-title">فوائد الصيام</h4>
                        <p class="card-desc">اكتشف بركات الصيام على الجسم والروح</p>
                    </div>
                </div>
            </div>
        </div>

        <img src="https://cdn.pixabay.com/animation/2023/10/24/02/09/02-09-51-698_512.gif" alt="شخصية كرتونية تحمل فانوس رمضان" class="character">
    </div>

    <div id="gameModalOverlay" class="game-modal-overlay">
        <div class="game-modal-content">
            <span class="close-modal" onclick="closeGameModal()">&times;</span>
            <div id="gameContent">
                </div>
        </div>
    </div>

    <script>
        const gameModalOverlay = document.getElementById('gameModalOverlay');
        const gameContent = document.getElementById('gameContent');

        function showGame(gameType) {
            let content = '';
            // Load content based on gameType
            switch (gameType) {
                case 'pillar-rulings':
                    content = `
                        <div id="pillar-rulings-game">
                            <h3>أحكام الصيام الأساسية</h3>
                            <p>الصيام هو الإمساك عن المفطرات من طلوع الفجر إلى غروب الشمس. تعرف على بعض أحكامه:</p>
                            <ul>
                                <li><i class="fas fa-check-circle"></i> **أركان الصيام:** النية والإمساك عن المفطرات.</li>
                                <li><i class="fas fa-lightbulb"></i> **شروط وجوب الصيام:** الإسلام، البلوغ، العقل، القدرة، الإقامة (ليس مسافراً)، السلامة من الموانع الشرعية (مثل الحيض والنفاس).</li>
                                <li><i class="fas fa-times-circle"></i> **من مفسدات الصيام:** الأكل والشرب عمداً، القيء عمداً، الجماع.</li>
                            </ul>
                            <button onclick="alert('أحسنت! أصبحت تعرف أحكام الصيام الأساسية.')">فهمت!</button>
                        </div>
                    `;
                    break;
                case 'ruling-quiz':
                    content = `
                        <div id="ruling-quiz-game">
                            <h3>اختبر معلوماتك عن الصيام!</h3>
                            <p class="question" id="quiz-question"></p>
                            <div class="options" id="quiz-options"></div>
                            <p class="feedback" id="quiz-feedback"></p>
                            <button onclick="loadNextQuestion()">السؤال التالي</button>
                        </div>
                    `;
                    loadQuiz(); // Load quiz content when modal is shown
                    break;
                case 'suhoor-iftar':
                    content = `
                        <div id="suhoor-iftar-game">
                            <h3>السحور والإفطار</h3>
                            <p>وجبتان مهمتان في رمضان:</p>
                            <div>
                                <img src="https://via.placeholder.com/100/FFDDC1?text=سحور" alt="صورة سحور">
                                <span>**السحور:** وجبة البركة قبل الفجر، تقويك على الصيام.</span>
                            </div>
                            <div>
                                <img src="https://via.placeholder.com/100/A0D9FF?text=إفطار" alt="صورة إفطار">
                                <span>**الإفطار:** تعجيل الإفطار عند غروب الشمس سنة نبوية.</span>
                            </div>
                            <button onclick="alert('بارك الله فيك! لا تنسَ السحور وعجّل بالإفطار.')">ممتاز!</button>
                        </div>
                    `;
                    break;
                case 'benefits':
                    content = `
                        <div id="benefits-game">
                            <h3>فوائد الصيام</h3>
                            <p>الصيام له فوائد عظيمة، منها:</p>
                            <ul>
                                <li><i class="fas fa-heartbeat"></i> صحة الجسد وتطهيره من السموم.</li>
                                <li><i class="fas fa-spa"></i> تهذيب النفس وتقوية الإرادة.</li>
                                <li><i class="fas fa-praying-hands"></i> زيادة التقوى والقرب من الله.</li>
                                <li><i class="fas fa-users"></i> الشعور بالفقراء والمساكين وتعزيز التكافل.</li>
                            </ul>
                            <button onclick="alert('ما شاء الله! أنت الآن تعرف فوائد الصيام.')">أحسنت!</button>
                        </div>
                    `;
                    break;
                default:
                    content = '<h3>عذراً، هذه اللعبة غير متوفرة حالياً.</h3>';
            }
            
            gameContent.innerHTML = content;
            gameModalOverlay.classList.add('active'); // Show the modal

            // Optional: apply click animation to the card
            const clickedCard = event.currentTarget; // Get the clicked card
            clickedCard.style.transform = 'scale(0.95)';
            setTimeout(() => {
                clickedCard.style.transform = 'scale(1)';
            }, 200);
        }

        function closeGameModal() {
            gameModalOverlay.classList.remove('active'); // Hide the modal
            gameContent.innerHTML = ''; // Clear content
            // Reset quiz state if quiz was active
            currentQuestionIndex = 0;
            quizQuestions = []; // Or reload them
        }

        // --- Quiz Game Logic ---
        let quizQuestions = [
            {
                question: "ما هو الركن الرابع من أركان الإسلام؟",
                options: ["الحج", "الصيام", "الصلاة", "الزكاة"],
                answer: "الصيام"
            },
            {
                question: "متى يبدأ الصيام ومتى ينتهي؟",
                options: ["من شروق الشمس حتى غروبها", "من أذان العشاء حتى أذان الفجر", "من طلوع الفجر الصادق حتى غروب الشمس", "من منتصف الليل حتى الظهر"],
                answer: "من طلوع الفجر الصادق حتى غروب الشمس"
            },
            {
                question: "هل الأكل والشرب سهواً (غير متعمد) يبطل الصيام؟",
                options: ["نعم", "لا"],
                answer: "لا"
            },
            {
                question: "ما هي الوجبة التي نتناولها قبل الفجر لتقوية الصائم؟",
                options: ["الإفطار", "الغداء", "السحور", "العشاء"],
                answer: "السحور"
            }
        ];
        let currentQuestionIndex = 0;

        function loadQuiz() {
            if (quizQuestions.length === 0) {
                document.getElementById('quiz-question').innerText = "لقد أكملت جميع الأسئلة! أحسنت!";
                document.getElementById('quiz-options').innerHTML = '';
                document.getElementById('quiz-feedback').innerText = '';
                document.querySelector('#ruling-quiz-game button').style.display = 'none'; // Hide next button
                return;
            }

            const questionContainer = document.getElementById('quiz-question');
            const optionsContainer = document.getElementById('quiz-options');
            const feedbackContainer = document.getElementById('quiz-feedback');
            const nextButton = document.querySelector('#ruling-quiz-game button');

            feedbackContainer.innerText = '';
            nextButton.style.display = 'none'; // Hide until answer is selected

            const currentQuestion = quizQuestions[currentQuestionIndex];
            questionContainer.innerText = currentQuestion.question;
            optionsContainer.innerHTML = '';

            currentQuestion.options.forEach(option => {
                const button = document.createElement('button');
                button.innerText = option;
                button.onclick = () => checkAnswer(option, currentQuestion.answer, button);
                optionsContainer.appendChild(button);
            });
        }

        function checkAnswer(selectedOption, correctAnswer, clickedButton) {
            const optionsButtons = document.querySelectorAll('#quiz-options button');
            optionsButtons.forEach(btn => btn.disabled = true); // Disable all options after selection

            const feedbackContainer = document.getElementById('quiz-feedback');
            const nextButton = document.querySelector('#ruling-quiz-game button');
            nextButton.style.display = 'block'; // Show next button

            if (selectedOption === correctAnswer) {
                feedbackContainer.style.color = 'var(--success)';
                feedbackContainer.innerText = 'إجابة صحيحة! أحسنت.';
                clickedButton.classList.add('correct');
            } else {
                feedbackContainer.style.color = 'var(--warning)';
                feedbackContainer.innerText = `إجابة خاطئة. الإجابة الصحيحة هي: ${correctAnswer}`;
                clickedButton.classList.add('wrong');
                // Highlight correct answer
                optionsButtons.forEach(btn => {
                    if (btn.innerText === correctAnswer) {
                        btn.classList.add('correct');
                    }
                });
            }
        }

        function loadNextQuestion() {
            currentQuestionIndex++;
            if (currentQuestionIndex < quizQuestions.length) {
                loadQuiz();
            } else {
                document.getElementById('quiz-question').innerText = "لقد أكملت جميع الأسئلة! أحسنت!";
                document.getElementById('quiz-options').innerHTML = '';
                document.getElementById('quiz-feedback').innerText = '';
                document.querySelector('#ruling-quiz-game button').style.display = 'none';
            }
        }
        // --- End Quiz Game Logic ---


        // Add load animations
        document.addEventListener('DOMContentLoaded', function() {
            const cards = document.querySelectorAll('.game-card');
            cards.forEach((card, index) => {
                card.style.opacity = '0';
                card.style.transform = 'translateY(20px)';
                card.style.transition = `all 0.5s ease ${index * 0.1}s`;
                
                setTimeout(() => {
                    card.style.opacity = '1';
                    card.style.transform = 'translateY(0)';
                }, 100);
            });
        });
    </script>
</body>
</html>