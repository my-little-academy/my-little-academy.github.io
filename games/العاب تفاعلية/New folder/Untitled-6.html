<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8" />
<title>Ù„Ø¹Ø¨Ø© Ø°Ø§ÙƒØ±Ø© Ø§Ù„Ù†ÙˆØ±</title>
<style>
  body {
    background: linear-gradient(to bottom, #ffeaa7, #fab1a0);
    font-family: 'Cairo', sans-serif;
    display: flex;
    flex-direction: column;
    align-items: center;
    padding: 20px;
  }
  h1 {
    color: #6c5ce7;
  }
  /* Ø§Ù„Ø­Ø§ÙˆÙŠØ© Ø§Ù„ØªÙŠ ØªØ¶Ù… Ø§Ù„Ø¨Ø·Ø§Ù‚Ø§Øª */
  .memory-game {
    width: 340px;
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 15px;
    margin-top: 30px;
  }
  /* ØªØµÙ…ÙŠÙ… Ø§Ù„Ø¨Ø·Ø§Ù‚Ø© */
  .memory-card {
    width: 80px;
    height: 80px;
    background-color: #dfe6e9;
    border-radius: 12px;
    cursor: pointer;
    position: relative;
    perspective: 600px;
  }
  /* Ø§Ù„ÙˆØ¬Ù‡ Ø§Ù„Ø£Ù…Ø§Ù…ÙŠ ÙˆØ§Ù„Ø®Ù„ÙÙŠ Ù„Ù„Ø¨Ø·Ø§Ù‚Ø© */
  .memory-card-inner {
    position: absolute;
    width: 100%;
    height: 100%;
    transition: transform 0.6s;
    transform-style: preserve-3d;
  }
  /* Ø­Ø§Ù„Ø© Ø§Ù„Ø¨Ø·Ø§Ù‚Ø© Ø§Ù„Ù…ÙƒØ´ÙˆÙØ© (ØªØ¯ÙˆØ±) */
  .memory-card.flipped .memory-card-inner {
    transform: rotateY(180deg);
    cursor: default;
  }
  /* Ø§Ù„ÙˆØ¬Ù‡ Ø§Ù„Ø£Ù…Ø§Ù…ÙŠ */
  .memory-card-front, .memory-card-back {
    position: absolute;
    width: 100%;
    height: 100%;
    border-radius: 12px;
    backface-visibility: hidden;
    display: flex;
    justify-content: center;
    align-items: center;
    font-size: 2em;
  }
  /* Ø§Ù„ÙˆØ¬Ù‡ Ø§Ù„Ø®Ù„ÙÙŠ (Ø§Ù„Ø°ÙŠ ÙŠØ¸Ù‡Ø± Ù‚Ø¨Ù„ Ø§Ù„ÙƒØ´Ù) */
  .memory-card-front {
    background-color: #0984e3;
    color: white;
  }
  /* Ø§Ù„ÙˆØ¬Ù‡ Ø§Ù„Ø£Ù…Ø§Ù…ÙŠ (Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø¹Ù†Ø¯ Ø§Ù„ÙƒØ´Ù) */
  .memory-card-back {
    background-color: #ffeaa7;
    transform: rotateY(180deg);
    color: #2d3436;
    font-weight: bold;
  }
  /* ØªØ£Ø«ÙŠØ± Ø¹Ù†Ø¯ Ø§Ù„ØªØ·Ø§Ø¨Ù‚ */
  .memory-card.matched {
    box-shadow: 0 0 15px 5px #00b894;
    cursor: default;
  }
</style>
</head>
<body>

<h1>ğŸ§  Ù„Ø¹Ø¨Ø© Ø°Ø§ÙƒØ±Ø© Ø§Ù„Ù†ÙˆØ±</h1>
<p>Ø§Ù‚Ù„Ø¨ Ø¨Ø·Ø§Ù‚ØªÙŠÙ† ÙˆØ§Ø¨Ø­Ø« Ø¹Ù† Ø§Ù„Ø£Ø²ÙˆØ§Ø¬ Ø§Ù„Ù…ØªØ·Ø§Ø¨Ù‚Ø©</p>

<!-- Ø­Ø§ÙˆÙŠØ© Ø§Ù„Ù„Ø¹Ø¨Ø© -->
<div class="memory-game" id="gameBoard">
  <!-- Ø§Ù„Ø¨Ø·Ø§Ù‚Ø§Øª Ø³ØªÙØ¶Ø§Ù Ø¨Ø±Ù…Ø¬ÙŠØ§Ù‹ -->
</div>

<script>
  // Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø±Ù…ÙˆØ² Ø£Ùˆ Ø§Ù„ÙƒÙ„Ù…Ø§Øª Ø§Ù„ØªØ±Ø¨ÙˆÙŠØ© (ÙƒÙ„ Ø²ÙˆØ¬ ÙŠØªÙƒØ±Ø± Ù…Ø±ØªÙŠÙ†)
  const cardSymbols = ['ğŸŒ™', 'ğŸ•‹', 'ğŸ“–', 'ğŸ•Œ', 'â­ï¸', 'ğŸ§•', 'ğŸ•Šï¸', 'â˜ªï¸'];
  let cardsArray = [...cardSymbols, ...cardSymbols]; // Ù…Ø¶Ø§Ø¹ÙØ© Ø§Ù„Ø¹Ù†Ø§ØµØ± Ù„Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø£Ø²ÙˆØ§Ø¬

  // Ø®Ù„Ø· Ø§Ù„Ù…ØµÙÙˆÙØ© Ø¨Ø´ÙƒÙ„ Ø¹Ø´ÙˆØ§Ø¦ÙŠ
  function shuffle(array) {
    for (let i = array.length -1; i > 0; i--) {
      const j = Math.floor(Math.random() * (i + 1));
      [array[i], array[j]] = [array[j], array[i]];
    }
    return array;
  }

  // Ø§Ø®ØªÙŠØ§Ø± Ø­Ø§ÙˆÙŠØ© Ø§Ù„Ù„Ø¹Ø¨Ø©
  const gameBoard = document.getElementById('gameBoard');

  // Ù…Ø²Ø§Ù…Ù†Ø© Ø­Ø§Ù„Ø© Ø§Ù„Ù„Ø¹Ø¨Ø©
  let flippedCards = [];
  let matchedCount = 0;
  let preventClick = false;

  // Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø¨Ø·Ø§Ù‚Ø§Øª Ø¹Ù„Ù‰ Ø§Ù„ØµÙØ­Ø©
  function createCards() {
    const shuffled = shuffle(cardsArray);
    shuffled.forEach(symbol => {
      // Ø¨Ù†Ø§Ø¡ Ù‡ÙŠÙƒÙ„ Ø§Ù„Ø¨Ø·Ø§Ù‚Ø©
      const card = document.createElement('div');
      card.classList.add('memory-card');

      const cardInner = document.createElement('div');
      cardInner.classList.add('memory-card-inner');

      const cardFront = document.createElement('div');
      cardFront.classList.add('memory-card-front');
      cardFront.textContent = 'â“'; // ÙˆØ¬Ù‡ Ø§Ù„Ø¨Ø·Ø§Ù‚Ø© Ø§Ù„Ù…ØºÙ„Ù‚Ø©

      const cardBack = document.createElement('div');
      cardBack.classList.add('memory-card-back');
      cardBack.textContent = symbol; // Ø±Ù…Ø² Ø§Ù„Ø¨Ø·Ø§Ù‚Ø© Ø¹Ù†Ø¯ Ø§Ù„ÙƒØ´Ù

      cardInner.appendChild(cardFront);
      cardInner.appendChild(cardBack);
      card.appendChild(cardInner);

      // Ø­Ø¯Ø« Ø§Ù„Ù†Ù‚Ø± Ø¹Ù„Ù‰ Ø§Ù„Ø¨Ø·Ø§Ù‚Ø©
      card.addEventListener('click', () => {
        if (preventClick) return; // Ù…Ù†Ø¹ Ø§Ù„Ù†Ù‚Ø± Ø¥Ø°Ø§ ÙÙŠ Ø§Ù†ØªØ¸Ø§Ø± Ø¥Ø®ÙØ§Ø¡
        if (flippedCards.includes(card)) return; // Ù…Ù†Ø¹ Ø§Ù„Ù†Ù‚Ø± Ø¹Ù„Ù‰ Ù†ÙØ³ Ø§Ù„Ø¨Ø·Ø§Ù‚Ø© Ù…ÙƒØ´ÙˆÙØ©
        flipCard(card);
      });

      gameBoard.appendChild(card);
    });
  }

  // Ù‚Ù„Ø¨ Ø§Ù„Ø¨Ø·Ø§Ù‚Ø© Ù„ØªØ¸Ù‡Ø± Ø§Ù„Ù…Ø­ØªÙˆÙ‰
  function flipCard(card) {
    card.classList.add('flipped');
    flippedCards.push(card);

    if (flippedCards.length === 2) {
      checkMatch();
    }
  }

  // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„ØªØ·Ø§Ø¨Ù‚ Ø¨ÙŠÙ† Ø¨Ø·Ø§Ù‚ØªÙŠÙ†
  function checkMatch() {
    preventClick = true;

    const [card1, card2] = flippedCards;
    const symbol1 = card1.querySelector('.memory-card-back').textContent;
    const symbol2 = card2.querySelector('.memory-card-back').textContent;

    if (symbol1 === symbol2) {
      // ØªØ·Ø§Ø¨Ù‚ ØµØ­ÙŠØ­ØŒ Ø¥Ø¨Ù‚Ø§Ø¡ Ø§Ù„Ø¨Ø·Ø§Ù‚ØªÙŠÙ† Ù…ÙƒØ´ÙˆÙØªÙŠÙ†
      card1.classList.add('matched');
      card2.classList.add('matched');
      matchedCount += 2;
      flippedCards = [];
      preventClick = false;

      // Ø¥Ø°Ø§ ØªÙ… Ø¥ÙŠØ¬Ø§Ø¯ ÙƒÙ„ Ø§Ù„Ø£Ø²ÙˆØ§Ø¬ØŒ ØªØ¸Ù‡Ø± Ø±Ø³Ø§Ù„Ø© Ù†Ø¬Ø§Ø­
      if (matchedCount === cardsArray.length) {
        setTimeout(() => alert('ğŸ‰ ØªÙ‡Ø§Ù†ÙŠÙ†Ø§! Ù„Ù‚Ø¯ Ø£ØªÙ…Ù…Øª Ø§Ù„Ù„Ø¹Ø¨Ø© Ø¨Ù†Ø¬Ø§Ø­!'), 300);
      }
    } else {
      // Ø®Ø·Ø£ØŒ Ø¥Ø®ÙØ§Ø¡ Ø§Ù„Ø¨Ø·Ø§Ù‚ØªÙŠÙ† Ø¨Ø¹Ø¯ ØªØ£Ø®ÙŠØ± Ù‚ØµÙŠØ±
      setTimeout(() => {
        card1.classList.remove('flipped');
        card2.classList.remove('flipped');
        flippedCards = [];
        preventClick = false;
      }, 1000);
    }
  }

  // Ø¨Ø¯Ø¡ Ø§Ù„Ù„Ø¹Ø¨Ø© Ø¨Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø¨Ø·Ø§Ù‚Ø§Øª
  createCards();
</script>

</body>
</html>
