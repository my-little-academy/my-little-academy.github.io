<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8" />
<title>Ù„Ø¹Ø¨Ø© Ø§Ù„Ù…Ø²Ø±Ø¹Ø© Ø§Ù„Ø³Ø¹ÙŠØ¯Ø© Ø§Ù„Ø³Ø­Ø±ÙŠØ©</title>
<style>
  /* Ø®Ù„ÙÙŠØ© Ù…ØªØ¯Ø±Ø¬Ø© Ø³Ø§Ø­Ø±Ø© */
  body {
    margin: 0;
    background: linear-gradient(135deg, #89f7fe, #66a6ff);
    font-family: 'Cairo', sans-serif;
    color: #fff;
    overflow: hidden;
    display: flex;
    flex-direction: column;
    align-items: center;
    min-height: 100vh;
  }
  /* Ø§Ù„Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ù…ØªÙˆÙ‡Ø¬ */
  h1 {
    margin-top: 30px;
    font-size: 3.5rem;
    text-align: center;
    color: #ffd700;
    text-shadow:
      0 0 10px #ffd700,
      0 0 20px #ffd700,
      0 0 30px #ffb300,
      0 0 40px #ffb300,
      0 0 50px #fffacd;
  }
  /* Ø´Ø§Ø´Ø© Ø§Ù„Ø¨Ø¯Ø§ÙŠØ© */
  #start-screen {
    flex: 1;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    gap: 25px;
    width: 100%;
  }
  #start-screen h2 {
    font-size: 2.4rem;
    color: #fff7b1;
    text-shadow: 0 0 8px #ffe066;
  }
  #start-btn {
    background: linear-gradient(45deg, #ffd700, #ffb300);
    border: none;
    padding: 20px 60px;
    font-size: 2rem;
    border-radius: 40px;
    cursor: pointer;
    color: #3a2e00;
    font-weight: bold;
    box-shadow:
      0 0 10px #ffd700,
      0 0 20px #ffb300,
      0 0 30px #ffb300;
    transition: transform 0.3s ease;
  }
  #start-btn:hover {
    transform: scale(1.1);
  }

  /* Ø´Ø§Ø´Ø© Ø§Ù„Ù„Ø¹Ø¨Ø© */
  #game-screen {
    display: none;
    flex-direction: column;
    align-items: center;
    width: 100%;
    max-width: 720px;
    padding: 15px 10px 50px;
  }
  /* Ù†Øµ Ø§Ù„Ø³Ø¤Ø§Ù„ */
  #question-text {
    font-size: 2rem;
    font-weight: bold;
    margin-bottom: 25px;
    text-align: center;
    text-shadow:
      0 0 7px #ffd700,
      0 0 12px #ffe066;
  }

  /* Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ø£Ø³Ø¦Ù„Ø© Ø§Ù„Ù…ØªØ¨Ù‚ÙŠØ© */
  #questions-left {
    font-size: 1.2rem;
    margin-bottom: 15px;
  }

  /* Ø´Ø±ÙŠØ· Ø§Ù„ØªÙ‚Ø¯Ù… Ø§Ù„Ø²Ù…Ù†ÙŠ */
  #timer-bar-container {
    width: 100%;
    height: 20px;
    background: rgba(255 255 255 / 0.3);
    border-radius: 10px;
    overflow: hidden;
    margin-bottom: 25px;
  }
  #timer-bar {
    height: 100%;
    background: linear-gradient(90deg, #ffdd00, #ffa600);
    width: 100%;
    transition: width 0.2s linear;
  }

  /* Ø®ÙŠØ§Ø±Ø§Øª Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© - Ø¨Ø·Ø§Ù‚Ø§Øª Ù…Ø¶ÙŠØ¦Ø© Ø¨Ù„Ù…Ø³Ø© Ø°Ù‡Ø¨ÙŠØ© */
  .options-container {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: 18px;
  }
  .option-card {
    background: linear-gradient(145deg, #fff4b8, #ffe66d);
    border-radius: 20px;
    box-shadow:
      0 0 15px #ffda44,
      inset 0 0 8px #fff7a1;
    padding: 20px 28px;
    font-size: 1.4rem;
    font-weight: 700;
    color: #5a4200;
    cursor: pointer;
    min-width: 160px;
    text-align: center;
    user-select: none;
    transition:
      box-shadow 0.3s ease,
      transform 0.2s ease;
  }
  .option-card:hover {
    box-shadow:
      0 0 30px #ffd700,
      inset 0 0 15px #fff7a1;
    transform: scale(1.05);
  }
  .option-card.correct {
    box-shadow:
      0 0 40px #00ff99,
      inset 0 0 20px #00ff99;
    background: linear-gradient(145deg, #a8f0c6, #64ffda);
    color: #003300;
    cursor: default;
  }
  .option-card.incorrect {
    box-shadow:
      0 0 40px #ff3d3d,
      inset 0 0 20px #ff6666;
    background: linear-gradient(145deg, #f8a1a1, #ff3d3d);
    color: #660000;
    cursor: default;
  }

  /* Ø²Ø± Ø§Ù„ØªØ§Ù„ÙŠ */
  #next-btn {
    margin-top: 40px;
    background: linear-gradient(45deg, #ffd700, #ffb300);
    border: none;
    padding: 16px 60px;
    font-size: 2rem;
    border-radius: 50px;
    cursor: pointer;
    font-weight: 800;
    color: #3a2e00;
    box-shadow:
      0 0 20px #ffd700,
      0 0 35px #ffb300;
    display: none;
    transition: transform 0.3s ease;
  }
  #next-btn:hover {
    transform: scale(1.1);
  }

  /* Ø´Ø§Ø´Ø© Ø§Ù„ØªÙ‚ÙŠÙŠÙ… */
  #result-screen {
    display: none;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    gap: 20px;
    margin-top: 50px;
    padding: 20px;
  }
  #result-screen h2 {
    font-size: 3rem;
    color: #ffe066;
    text-shadow:
      0 0 10px #ffd700,
      0 0 20px #ffb300;
  }
  #result-score {
    font-size: 2rem;
    color: #fff;
    text-shadow:
      0 0 10px #00ff99,
      0 0 15px #00cc7a;
  }
  #result-message {
    font-size: 1.8rem;
    color: #fff;
    text-align: center;
    max-width: 400px;
    line-height: 1.4;
  }

  /* ØªØ£Ø«ÙŠØ± Ø§Ù„ÙƒÙˆÙ†ÙÙŠØªÙŠ */
  .confetti-piece {
    position: fixed;
    width: 10px;
    height: 10px;
    background: #ffd700;
    opacity: 0.9;
    animation: confetti-fall 3s linear forwards;
    z-index: 9999;
    border-radius: 3px;
  }
  @keyframes confetti-fall {
    0% {
      transform: translateY(-30px) rotate(0deg);
      opacity: 0.9;
    }
    100% {
      transform: translateY(100vh) rotate(360deg);
      opacity: 0;
    }
  }

  /* Ø¯Ø®Ø§Ù† Ø±Ù…Ø§Ø¯ÙŠ */
  #smoke-effect {
    position: fixed;
    top: 50%;
    left: 50%;
    width: 150px;
    height: 150px;
    margin-left: -75px;
    margin-top: -75px;
    pointer-events: none;
    opacity: 0;
    background:
      radial-gradient(circle, rgba(150,150,150,0.6) 10%, transparent 70%),
      radial-gradient(circle, rgba(180,180,180,0.4) 20%, transparent 80%);
    animation: smoke-puff 2s ease forwards;
    z-index: 10000;
  }
  @keyframes smoke-puff {
    0% {opacity: 1; transform: scale(1);}
    100% {opacity: 0; transform: scale(2.5);}
  }

  /* Ø´Ø±ÙŠØ· Ø§Ù„Ø¹Ø¯ Ø§Ù„ØªÙ†Ø§Ø²Ù„ÙŠ */
  #countdown {
    font-size: 2rem;
    margin-bottom: 10px;
    color: #fff7a1;
    text-shadow: 0 0 6px #ffdd55;
  }
</style>
</head>
<body>

<h1>ğŸŒŸ Ø§Ù„Ù…Ø²Ø±Ø¹Ø© Ø§Ù„Ø³Ø¹ÙŠØ¯Ø© Ø§Ù„Ø³Ø­Ø±ÙŠØ© ğŸŒŸ</h1>

<!-- Ø´Ø§Ø´Ø© Ø§Ù„Ø¨Ø¯Ø§ÙŠØ© -->
<div id="start-screen">
  <h2>Ù‡Ù„ Ø£Ù†Øª Ù…Ø³ØªØ¹Ø¯ Ù„ØªØ­Ø¯ÙŠ Ø§Ù„Ù…Ø²Ø±Ø¹Ø©ØŸ</h2>
  <button id="start-btn">Ø§Ø¨Ø¯Ø£ Ø§Ù„Ù„Ø¹Ø¨Ø©</button>
</div>

<!-- Ø´Ø§Ø´Ø© Ø§Ù„Ù„Ø¹Ø¨Ø© -->
<div id="game-screen">

  <div id="questions-left"></div>

  <div id="question-text"></div>

  <div id="timer-bar-container">
    <div id="timer-bar"></div>
  </div>
  <div id="countdown"></div>

  <div class="options-container" id="options-container"></div>

  <button id="next-btn">Ø§Ù„Ø³Ø¤Ø§Ù„ Ø§Ù„ØªØ§Ù„ÙŠ</button>
</div>

<!-- Ø´Ø§Ø´Ø© Ø§Ù„Ù†ØªÙŠØ¬Ø© -->
<div id="result-screen">
  <h2 id="result-title"></h2>
  <div id="result-score"></div>
  <div id="result-message"></div>
  <button id="restart-btn">Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ù„Ø¹Ø¨</button>
</div>

<!-- Ø¯Ø®Ø§Ù† Ø±Ù…Ø§Ø¯ÙŠ -->
<div id="smoke-effect"></div>

<script>
  // Ø£Ø³Ø¦Ù„Ø© Ø§Ù„Ù…Ø²Ø±Ø¹Ø© Ø§Ù„Ø³Ø¹ÙŠØ¯Ø© Ø§Ù„Ø³Ø­Ø±ÙŠØ©
  const questions = [
    {
      question: "Ù…Ø§ Ù‡Ùˆ Ø§Ù„Ø­ÙŠÙˆØ§Ù† Ø§Ù„Ø°ÙŠ ÙŠØµØ¯Ø± ØµÙˆØª 'Ù…Ùˆ'ØŸ",
      options: ["Ø­ØµØ§Ù†", "Ø¨Ù‚Ø±Ø©", "Ø¯Ø¬Ø§Ø¬Ø©", "Ø®Ø±ÙˆÙ"],
      answer: 1
    },
    {
      question: "Ø£ÙŠ Ù…Ù† Ù‡Ø°Ù‡ Ø§Ù„Ø­ÙŠÙˆØ§Ù†Ø§Øª ÙŠØ¨ÙŠØ¶ØŸ",
      options: ["Ø¨Ù‚Ø±Ø©", "Ø¯Ø¬Ø§Ø¬Ø©", "Ø®Ø±ÙˆÙ", "Ø­ØµØ§Ù†"],
      answer: 1
    },
    {
      question: "Ù…Ø§ Ù‡Ùˆ Ø§Ù„Ø·Ø¹Ø§Ù… Ø§Ù„Ø°ÙŠ ØªØ£ÙƒÙ„Ù‡ Ø§Ù„Ø£Ø¨Ù‚Ø§Ø±ØŸ",
      options: ["Ø§Ù„Ø°Ø±Ø©", "Ø§Ù„Ø­Ø¨ÙˆØ¨", "Ø§Ù„Ø¹Ø´Ø¨", "Ø§Ù„Ù„Ø­Ù…"],
      answer: 2
    },
    {
      question: "Ù…Ø§ Ù„ÙˆÙ† Ø§Ù„ØµÙˆÙ Ø§Ù„Ø°ÙŠ Ù„Ø¯Ù‰ Ø§Ù„Ø®Ø±ÙˆÙØŸ",
      options: ["Ø£Ø­Ù…Ø±", "Ø£Ø¨ÙŠØ¶", "Ø£Ø³ÙˆØ¯", "Ø£Ø²Ø±Ù‚"],
      answer: 1
    },
    {
      question: "Ø£ÙŠ Ù…Ù† Ù‡Ø°Ù‡ Ø§Ù„Ø­ÙŠÙˆØ§Ù†Ø§Øª ÙŠÙ…ÙƒÙ†Ù‡ Ø§Ù„Ø±ÙƒØ¶ Ø¨Ø³Ø±Ø¹Ø©ØŸ",
      options: ["Ø¨Ù‚Ø±Ø©", "Ø­ØµØ§Ù†", "Ø¯Ø¬Ø§Ø¬Ø©", "Ø®Ø±ÙˆÙ"],
      answer: 1
    }
  ];

  // Ø§Ù„Ù…ØªØºÙŠØ±Ø§Øª Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©
  let currentIndex = 0;
  let score = 0;
  let timer;
  let timeLeft = 15; // 15 Ø«Ø§Ù†ÙŠØ© Ù„ÙƒÙ„ Ø³Ø¤Ø§Ù„

  // Ø¹Ù†Ø§ØµØ± DOM
  const startScreen = document.getElementById('start-screen');
  const startBtn = document.getElementById('start-btn');
  const gameScreen = document.getElementById('game-screen');
  const questionText = document.getElementById('question-text');
  const optionsContainer = document.getElementById('options-container');
  const nextBtn = document.getElementById('next-btn');
  const questionsLeft = document.getElementById('questions-left');
  const timerBar = document.getElementById('timer-bar');
  const countdown = document.getElementById('countdown');
  const resultScreen = document.getElementById('result-screen');
  const resultTitle = document.getElementById('result-title');
  const resultScore = document.getElementById('result-score');
  const resultMessage = document.getElementById('result-message');
  const restartBtn = document.getElementById('restart-btn');
  const smokeEffect = document.getElementById('smoke-effect');

  // Ø¨Ø¯Ø¡ Ø§Ù„Ù„Ø¹Ø¨Ø©
  startBtn.addEventListener('click', () => {
    startScreen.style.display = 'none';
    gameScreen.style.display = 'flex';
    currentIndex = 0;
    score = 0;
    showQuestion();
    startTimer();
  });

  // Ø¥Ø¹Ø§Ø¯Ø© ØªØ´ØºÙŠÙ„ Ø§Ù„Ù„Ø¹Ø¨Ø©
  restartBtn.addEventListener('click', () => {
    resultScreen.style.display = 'none';
    startScreen.style.display = 'flex';
  });

  // Ø¹Ø±Ø¶ Ø§Ù„Ø³Ø¤Ø§Ù„ Ø§Ù„Ø­Ø§Ù„ÙŠ
  function showQuestion() {
    clearInterval(timer);
    timeLeft = 15;
    updateTimerBar();
    countdown.textContent = `Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ù…ØªØ¨Ù‚ÙŠ: ${timeLeft} Ø«Ø§Ù†ÙŠØ©`;
    questionsLeft.textContent = `Ø§Ù„Ø£Ø³Ø¦Ù„Ø© Ø§Ù„Ù…ØªØ¨Ù‚ÙŠØ©: ${questions.length - currentIndex}`;

    nextBtn.style.display = 'none';
    questionText.textContent = questions[currentIndex].question;
    optionsContainer.innerHTML = '';

    questions[currentIndex].options.forEach((opt, i) => {
      const btn = document.createElement('button');
      btn.classList.add('option-card');
      btn.textContent = opt;
      btn.dataset.index = i;
      btn.addEventListener('click', selectAnswer);
      optionsContainer.appendChild(btn);
    });

    startTimer();
  }

  // Ø¨Ø¯Ø¡ Ø¹Ø¯Ø§Ø¯ Ø§Ù„ÙˆÙ‚Øª
  function startTimer() {
    clearInterval(timer);
    timerBar.style.width = '100%';
    timer = setInterval(() => {
      timeLeft -= 0.1;
      if (timeLeft <= 0) {
        timeLeft = 0;
        countdown.textContent = `Ø§Ù†ØªÙ‡Ù‰ Ø§Ù„ÙˆÙ‚Øª!`;
        timerBar.style.width = '0%';
        clearInterval(timer);
        disableOptions();
        showSmokeEffect();
        setTimeout(() => {
          goToNext();
        }, 2000);
      } else {
        countdown.textContent = `Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ù…ØªØ¨Ù‚ÙŠ: ${timeLeft.toFixed(1)} Ø«Ø§Ù†ÙŠØ©`;
        updateTimerBar();
      }
    }, 100);
  }

  // ØªØ­Ø¯ÙŠØ« Ø´Ø±ÙŠØ· Ø§Ù„ØªÙ‚Ø¯Ù… Ù„Ù„ÙˆÙ‚Øª
  function updateTimerBar() {
    const percent = (timeLeft / 15) * 100;
    timerBar.style.width = percent + '%';

    // Ù„ÙˆÙ† ÙŠØªØ¯Ø±Ø¬ Ù…Ù† Ø£Ø®Ø¶Ø± Ø¥Ù„Ù‰ Ø£Ø­Ù…Ø± Ø­Ø³Ø¨ Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ù…ØªØ¨Ù‚ÙŠ
    if (percent > 60) {
      timerBar.style.background = 'linear-gradient(90deg, #00ff99, #00cc7a)';
    } else if (percent > 30) {
      timerBar.style.background = 'linear-gradient(90deg, #ffd700, #ffa500)';
    } else {
      timerBar.style.background = 'linear-gradient(90deg, #ff3d3d, #cc0000)';
    }
  }

  // Ø¹Ù†Ø¯ Ø§Ø®ØªÙŠØ§Ø± Ø¥Ø¬Ø§Ø¨Ø©
  function selectAnswer(e) {
    clearInterval(timer);
    disableOptions();

    const selected = e.target;
    const selectedIndex = parseInt(selected.dataset.index);
    const correctIndex = questions[currentIndex].answer;

    if (selectedIndex === correctIndex) {
      selected.classList.add('correct');
      score++;
      showConfetti();
    } else {
      selected.classList.add('incorrect');
      showSmokeEffect();
    }

    // Ø¥Ø¸Ù‡Ø§Ø± Ø²Ø± Ø§Ù„ØªØ§Ù„ÙŠ
    nextBtn.style.display = 'inline-block';
  }

  // ØªØ¹Ø·ÙŠÙ„ Ø®ÙŠØ§Ø±Ø§Øª Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© Ø¨Ø¹Ø¯ Ø§Ø®ØªÙŠØ§Ø±
  function disableOptions() {
    document.querySelectorAll('.option-card').forEach(btn => {
      btn.disabled = true;
    });
  }

  // Ø§Ù„Ø§Ù†ØªÙ‚Ø§Ù„ Ù„Ù„Ø³Ø¤Ø§Ù„ Ø§Ù„ØªØ§Ù„ÙŠ
  nextBtn.addEventListener('click', () => {
    goToNext();
  });

  function goToNext() {
    currentIndex++;
    if (currentIndex < questions.length) {
      showQuestion();
    } else {
      showResult();
    }
  }

  // Ø¹Ø±Ø¶ Ø´Ø§Ø´Ø© Ø§Ù„Ù†ØªÙŠØ¬Ø© Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠØ©
  function showResult() {
    gameScreen.style.display = 'none';
    resultScreen.style.display = 'flex';

    resultScore.textContent = `Ø¯Ø±Ø¬ØªÙƒ: ${score} Ù…Ù† ${questions.length}`;

    if (score === questions.length) {
      resultTitle.textContent = "ğŸ‰ ÙØ§Ø±Ø³ Ø§Ù„Ù…Ø¹Ø±ÙØ© ğŸ‰";
      resultMessage.textContent = "Ù…Ù…ØªØ§Ø²! Ù„Ù‚Ø¯ Ø£ØªÙ…Ù…Øª Ø§Ù„Ù„Ø¹Ø¨Ø© Ø¨Ø­Ø±ÙÙŠØ© ÙˆØ³Ø­Ø±!";

      // ØªÙˆÙ‡Ø¬ Ø³Ø­Ø±ÙŠ
      startMagicGlow();

      // Ø¹Ø±Ø¶ ÙƒÙˆÙ†ÙÙŠØªÙŠ Ø§Ø­ØªÙØ§Ù„ÙŠ
      showConfetti(true);

    } else if (score >= questions.length / 2) {
      resultTitle.textContent = "ğŸ‘ Ù…Ø¬ØªÙ‡Ø¯";
      resultMessage.textContent = "Ø¹Ù…Ù„ Ø¬ÙŠØ¯! ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ù„ØªØ­ØµÙ„ Ø¹Ù„Ù‰ Ù„Ù‚Ø¨ ÙØ§Ø±Ø³ Ø§Ù„Ù…Ø¹Ø±ÙØ©.";
    } else {
      resultTitle.textContent = "Ø­Ø§ÙˆÙ„ Ù…Ø¬Ø¯Ø¯Ù‹Ø§";
      resultMessage.textContent = "Ù„Ø§ ØªÙ‚Ù„Ù‚ØŒ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© ØªØµÙ†Ø¹ Ø§Ù„Ù†Ø¬Ø§Ø­. Ø¬Ø±Ø¨ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰!";
    }
  }

  // ØªØ£Ø«ÙŠØ± Ø§Ù„ÙƒÙˆÙ†ÙÙŠØªÙŠ
  function showConfetti(full = false) {
    const count = full ? 100 : 30;
    for (let i = 0; i < count; i++) {
      const confetti = document.createElement('div');
      confetti.classList.add('confetti-piece');
      confetti.style.left = Math.random() * window.innerWidth + 'px';
      confetti.style.background = `hsl(${Math.random() * 360}, 100%, 60%)`;
      confetti.style.animationDuration = 2 + Math.random() * 2 + 's';
      document.body.appendChild(confetti);

      setTimeout(() => {
        confetti.remove();
      }, 4000);
    }
  }

  // ØªØ£Ø«ÙŠØ± Ø¯Ø®Ø§Ù† Ø±Ù…Ø§Ø¯ÙŠ
  function showSmokeEffect() {
    smokeEffect.style.opacity = 1;
    smokeEffect.style.animation = 'smoke-puff 2s ease forwards';
    setTimeout(() => {
      smokeEffect.style.opacity = 0;
      smokeEffect.style.animation = '';
    }, 2000);
  }

  // ØªÙˆÙ‡Ø¬ Ø³Ø­Ø±ÙŠ Ø¹Ù†Ø¯ Ø§Ù„Ù†Ø¬Ø§Ø­ Ø§Ù„ØªØ§Ù…
  function startMagicGlow() {
    const body = document.body;
    let glowOn = true;
    let interval = setInterval(() => {
      if (glowOn) {
        body.style.boxShadow = '0 0 40px 10px #ffd700';
      } else {
        body.style.boxShadow = '';
      }
      glowOn = !glowOn;
    }, 600);

    // ØªÙˆÙ‚ÙŠÙ Ø§Ù„ØªÙˆÙ‡Ø¬ Ø¨Ø¹Ø¯ 6 Ø«ÙˆØ§Ù†ÙŠ
    setTimeout(() => {
      clearInterval(interval);
      body.style.boxShadow = '';
    }, 6000);
  }
</script>

</body>
</html>
