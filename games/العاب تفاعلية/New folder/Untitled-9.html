<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8" />
<title>Ù„Ø¹Ø¨Ø© Ø±ØªØ¨ Ø§Ù„ÙƒÙ„Ù…Ø§Øª - Ø¬Ù…Ù„ ØµØ­ÙŠØ­Ø©</title>
<style>
  /* Ø®Ù„ÙÙŠØ© Ù…ØªØ¯Ø±Ø¬Ø© Ù…Ø±ÙŠØ­Ø© Ù„Ù„Ø¹ÙŠÙ† */
  body {
    margin: 0;
    background: linear-gradient(135deg, #f6d365, #fda085);
    font-family: 'Cairo', sans-serif;
    min-height: 100vh;
    display: flex;
    flex-direction: column;
    align-items: center;
    color: #4a342e;
    padding: 30px 15px;
  }

  /* Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ù„Ø¹Ø¨Ø© */
  h1 {
    font-size: 3rem;
    color: #fff;
    text-shadow: 0 0 10px #fca311;
    margin-bottom: 25px;
  }

  /* ØµÙ†Ø¯ÙˆÙ‚ Ø§Ù„Ù„Ø¹Ø¨Ø© */
  #game-container {
    background: #fff7e6;
    border-radius: 25px;
    box-shadow: 0 0 20px #fca311aa;
    padding: 30px 25px;
    width: 100%;
    max-width: 700px;
    text-align: center;
  }

  /* ØªØ¹Ù„ÙŠÙ…Ø§Øª */
  #instructions {
    font-size: 1.3rem;
    margin-bottom: 20px;
    color: #9c6644;
  }

  /* Ù…Ù†Ø·Ù‚Ø© Ø§Ù„ÙƒÙ„Ù…Ø§Øª Ø§Ù„Ù…Ø®ØªÙ„Ø·Ø© */
  #word-bank {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: 15px;
    margin-bottom: 25px;
    min-height: 70px;
  }

  /* Ø¨Ø·Ø§Ù‚Ø© ÙƒÙ„Ù…Ø© Ù‚Ø§Ø¨Ù„Ø© Ù„Ù„Ø³Ø­Ø¨ */
  .word-card {
    background: linear-gradient(145deg, #fcbf49, #f77f00);
    padding: 14px 22px;
    border-radius: 20px;
    color: white;
    font-weight: 700;
    font-size: 1.4rem;
    cursor: grab;
    box-shadow: 0 0 12px #f77f00cc;
    user-select: none;
    transition: transform 0.2s ease;
  }
  .word-card:active {
    cursor: grabbing;
    transform: scale(1.1);
  }

  /* Ù…Ù†Ø·Ù‚Ø© ØªØ±ØªÙŠØ¨ Ø§Ù„ÙƒÙ„Ù…Ø§Øª */
  #sentence-area {
    min-height: 70px;
    background: #fff3e0;
    border: 3px dashed #f77f00;
    border-radius: 25px;
    padding: 10px 15px;
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: 12px;
    margin-bottom: 25px;
  }

  /* Ø²Ø± Ø§Ù„ØªØ­Ù‚Ù‚ */
  #check-btn {
    background: #f77f00;
    border: none;
    padding: 16px 50px;
    color: white;
    font-weight: 700;
    font-size: 1.5rem;
    border-radius: 50px;
    cursor: pointer;
    box-shadow: 0 0 20px #f77f00cc;
    transition: background-color 0.3s ease;
  }
  #check-btn:hover {
    background-color: #d65a00;
  }

  /* Ø²Ø± Ø§Ù„ØªØ§Ù„ÙŠ */
  #next-btn {
    background: #4caf50;
    border: none;
    padding: 16px 50px;
    color: white;
    font-weight: 700;
    font-size: 1.5rem;
    border-radius: 50px;
    cursor: pointer;
    box-shadow: 0 0 20px #4caf5080;
    margin-top: 20px;
    display: none;
    transition: background-color 0.3s ease;
  }
  #next-btn:hover {
    background-color: #388e3c;
  }

  /* Ø±Ø³Ø§Ù„Ø© Ø§Ù„Ù†ØªØ§Ø¦Ø¬ */
  #result-message {
    font-size: 1.6rem;
    margin-top: 25px;
    font-weight: 700;
  }
  #result-message.correct {
    color: #4caf50;
    text-shadow: 0 0 8px #4caf50bb;
  }
  #result-message.incorrect {
    color: #d32f2f;
    text-shadow: 0 0 8px #d32f2fbb;
  }
</style>
</head>
<body>

<h1>Ù„Ø¹Ø¨Ø© Ø±ØªØ¨ Ø§Ù„ÙƒÙ„Ù…Ø§Øª</h1>

<div id="game-container">
  <div id="instructions">Ø§Ø³Ø­Ø¨ Ø§Ù„ÙƒÙ„Ù…Ø§Øª Ù…Ù† Ø§Ù„Ø£Ø³ÙÙ„ Ù„ØªØ±ØªÙŠØ¨Ù‡Ø§ ÙÙŠ Ø§Ù„Ø¬Ù…Ù„Ø© Ø§Ù„ØµØ­ÙŠØ­Ø© Ø¨Ø§Ù„Ù…Ù†ØªØµÙ</div>

  <!-- Ø§Ù„Ù…Ù†Ø·Ù‚Ø© Ù„ØªØ±ØªÙŠØ¨ Ø§Ù„ÙƒÙ„Ù…Ø§Øª -->
  <div id="sentence-area" ondragover="allowDrop(event)" ondrop="drop(event)"></div>

  <!-- Ø¨Ù†Ùƒ Ø§Ù„ÙƒÙ„Ù…Ø§Øª Ø§Ù„Ù…Ø®ØªÙ„Ø·Ø© -->
  <div id="word-bank"></div>

  <button id="check-btn">ØªØ­Ù‚Ù‚</button>
  <button id="next-btn">Ø§Ù„Ø³Ø¤Ø§Ù„ Ø§Ù„ØªØ§Ù„ÙŠ</button>

  <div id="result-message"></div>
</div>

<script>
  // Ù…ØµÙÙˆÙØ© Ø§Ù„Ø¬Ù…Ù„ ÙˆØ§Ù„ÙƒÙ„Ù…Ø§Øª
  const sentences = [
    {
      correct: ["Ø£Ø­Ø¨", "Ø§Ù„Ø·ÙÙ„", "Ø§Ù„Ù‚Ø±Ø§Ø¡Ø©", "ÙƒÙ„", "ÙŠÙˆÙ…"],
      example: "Ø£Ø­Ø¨ Ø§Ù„Ø·ÙÙ„ Ø§Ù„Ù‚Ø±Ø§Ø¡Ø© ÙƒÙ„ ÙŠÙˆÙ…"
    },
    {
      correct: ["Ø§Ù„Ø³Ù…Ø§Ø¡", "ØµØ§ÙÙŠØ©", "Ø§Ù„ÙŠÙˆÙ…", "Ù‡ÙŠ"],
      example: "Ø§Ù„Ø³Ù…Ø§Ø¡ Ù‡ÙŠ ØµØ§ÙÙŠØ© Ø§Ù„ÙŠÙˆÙ…"
    },
    {
      correct: ["Ø°Ù‡Ø¨", "Ø§Ù„Ø£Ø±Ù†Ø¨", "Ø¥Ù„Ù‰", "Ø§Ù„Ø­Ù‚Ù„", "Ø¨Ø³Ø±Ø¹Ø©"],
      example: "Ø°Ù‡Ø¨ Ø§Ù„Ø£Ø±Ù†Ø¨ Ø¥Ù„Ù‰ Ø§Ù„Ø­Ù‚Ù„ Ø¨Ø³Ø±Ø¹Ø©"
    },
    {
      correct: ["Ø§Ù„Ù…Ø¯Ø±Ø³Ø©", "Ù…ÙƒØ§Ù†", "Ù„Ù„ØªØ¹Ù„Ù…", "Ù‡ÙŠ"],
      example: "Ø§Ù„Ù…Ø¯Ø±Ø³Ø© Ù‡ÙŠ Ù…ÙƒØ§Ù† Ù„Ù„ØªØ¹Ù„Ù…"
    },
    {
      correct: ["Ø£ÙƒÙ„", "Ø§Ù„ÙˆÙ„Ø¯", "ØªÙØ§Ø­Ø©", "Ø­Ù…Ø±Ø§Ø¡"],
      example: "Ø£ÙƒÙ„ Ø§Ù„ÙˆÙ„Ø¯ ØªÙØ§Ø­Ø© Ø­Ù…Ø±Ø§Ø¡"
    }
  ];

  // Ø§Ù„Ù…ØªØºÙŠØ±Ø§Øª
  let currentIndex = 0;

  // Ø¹Ù†Ø§ØµØ± DOM
  const sentenceArea = document.getElementById('sentence-area');
  const wordBank = document.getElementById('word-bank');
  const checkBtn = document.getElementById('check-btn');
  const nextBtn = document.getElementById('next-btn');
  const resultMessage = document.getElementById('result-message');

  // Ø¯Ø§Ù„Ø© Ù„ØªØ´ØºÙŠÙ„ Ø§Ù„Ø³Ø­Ø¨
  function drag(event) {
    event.dataTransfer.setData("text", event.target.id);
  }

  // Ø§Ù„Ø³Ù…Ø§Ø­ Ø¨Ø§Ù„Ø¥ÙÙ„Ø§Øª
  function allowDrop(event) {
    event.preventDefault();
  }

  // Ø¯Ø§Ù„Ø© Ø¥ÙÙ„Ø§Øª Ø§Ù„ÙƒÙ„Ù…Ø§Øª
  function drop(event) {
    event.preventDefault();
    const draggedId = event.dataTransfer.getData("text");
    const draggedElem = document.getElementById(draggedId);

    // Ù…Ù†Ø¹ Ø§Ù„Ø¥ÙÙ„Ø§Øª Ø¥Ø°Ø§ Ø§Ù„Ø¹Ù†ØµØ± Ù…ÙˆØ¬ÙˆØ¯ Ø¨Ø§Ù„ÙØ¹Ù„ ÙÙŠ sentenceArea
    if (!sentenceArea.contains(draggedElem)) {
      sentenceArea.appendChild(draggedElem);
    }
  }

  // ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø³Ø¤Ø§Ù„ Ø§Ù„Ø­Ø§Ù„ÙŠ
  function loadQuestion(index) {
    sentenceArea.innerHTML = '';
    wordBank.innerHTML = '';
    resultMessage.textContent = '';
    nextBtn.style.display = 'none';
    checkBtn.disabled = false;

    // Ù†Ø£Ø®Ø° Ø§Ù„Ø¬Ù…Ù„Ø© Ø§Ù„ØµØ­ÙŠØ­Ø© ÙˆÙ†Ø®Ù„Ø·Ù‡Ø§ Ù„ØªÙƒÙˆÙ† Ø¨Ù†Ùƒ Ø§Ù„ÙƒÙ„Ù…Ø§Øª
    const correctWords = sentences[index].correct.slice();
    const shuffledWords = shuffleArray(correctWords);

    // Ø¥Ù†Ø´Ø§Ø¡ Ø¨Ø·Ø§Ù‚Ø§Øª Ø§Ù„ÙƒÙ„Ù…Ø§Øª ÙÙŠ Ø¨Ù†Ùƒ Ø§Ù„ÙƒÙ„Ù…Ø§Øª
    shuffledWords.forEach((word, i) => {
      const wordDiv = document.createElement('div');
      wordDiv.className = 'word-card';
      wordDiv.textContent = word;
      wordDiv.id = `word-${index}-${i}`;
      wordDiv.draggable = true;
      wordDiv.addEventListener('dragstart', drag);
      wordBank.appendChild(wordDiv);
    });
  }

  // Ø¯Ø§Ù„Ø© Ù„ØªØ¨Ø¯ÙŠÙ„ Ø¹Ù†Ø§ØµØ± Ø§Ù„Ù…ØµÙÙˆÙØ© Ø¹Ø´ÙˆØ§Ø¦ÙŠØ§Ù‹ (ÙØ´Ø±Ù„)
  function shuffleArray(array) {
    let currentIndex = array.length, randomIndex;
    while (currentIndex !== 0) {
      randomIndex = Math.floor(Math.random() * currentIndex);
      currentIndex--;
      [array[currentIndex], array[randomIndex]] = [array[randomIndex], array[currentIndex]];
    }
    return array;
  }

  // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø¬Ù…Ù„Ø© Ø§Ù„Ù…Ø±ØªØ¨Ø©
  function checkAnswer() {
    const arrangedWords = Array.from(sentenceArea.children).map(div => div.textContent);
    const correctWords = sentences[currentIndex].correct;

    if (arrangedWords.length !== correctWords.length) {
      resultMessage.textContent = "Ø§Ù„Ø±Ø¬Ø§Ø¡ ØªØ±ØªÙŠØ¨ Ø¬Ù…ÙŠØ¹ Ø§Ù„ÙƒÙ„Ù…Ø§Øª!";
      resultMessage.className = "incorrect";
      return;
    }

    let isCorrect = true;
    for (let i = 0; i < correctWords.length; i++) {
      if (arrangedWords[i] !== correctWords[i]) {
        isCorrect = false;
        break;
      }
    }

    if (isCorrect) {
      resultMessage.textContent = "Ø£Ø­Ø³Ù†Øª! Ø§Ù„Ø¬Ù…Ù„Ø© ØµØ­ÙŠØ­Ø© ğŸ‰";
      resultMessage.className = "correct";
      checkBtn.disabled = true;
      nextBtn.style.display = 'inline-block';
    } else {
      resultMessage.textContent = "Ø­Ø§ÙˆÙ„ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰ ğŸ¤”";
      resultMessage.className = "incorrect";
    }
  }

  // ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø³Ø¤Ø§Ù„ Ø§Ù„ØªØ§Ù„ÙŠ
  function nextQuestion() {
    currentIndex++;
    if (currentIndex >= sentences.length) {
      alert("Ù„Ù‚Ø¯ Ø§Ù†ØªÙ‡Øª Ø§Ù„Ù„Ø¹Ø¨Ø©! Ø´ÙƒØ±Ø§Ù‹ Ù„Ù„Ø¹Ø¨Ùƒ.");
      currentIndex = 0;
    }
    loadQuestion(currentIndex);
    resultMessage.textContent = '';
    nextBtn.style.display = 'none';
    checkBtn.disabled = false;
  }

  // Ø¨Ø¯Ø¡ Ø§Ù„Ù„Ø¹Ø¨Ø©
  loadQuestion(currentIndex);

  // Ø±Ø¨Ø· Ø§Ù„Ø£Ø²Ø±Ø§Ø±
  checkBtn.addEventListener('click', checkAnswer);
  nextBtn.addEventListener('click', nextQuestion);
</script>

</body>
</html>
