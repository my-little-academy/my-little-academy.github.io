<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Ù„Ø¹Ø¨Ø© ØªØ±ØªÙŠØ¨ Ø®Ø·ÙˆØ§Øª Ø§Ù„ÙˆØ¶ÙˆØ¡</title>
<style>
  body {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    background: #f9f9f9;
    color: #2c3e50;
    text-align: center;
    padding: 20px;
  }
  h1 {
    margin-bottom: 10px;
    color: #2980b9;
  }
  #instructions {
    margin-bottom: 15px;
    font-size: 1.2em;
  }
  #steps, #answer {
    display: flex;
    flex-direction: column;
    gap: 10px;
    max-width: 400px;
    margin: 0 auto 20px auto;
    padding: 10px;
    border: 2px solid #2980b9;
    border-radius: 10px;
    background: #ecf0f1;
    min-height: 50px;
  }
  .step {
    background: #3498db;
    color: white;
    padding: 12px 15px;
    border-radius: 8px;
    cursor: pointer;
    user-select: none;
    transition: background-color 0.3s ease;
  }
  .step:hover {
    background: #2980b9;
  }
  #answer .step {
    background: #2ecc71;
  }
  #btnCheck, #btnReset {
    background: #2980b9;
    color: white;
    border: none;
    padding: 12px 25px;
    margin: 10px 8px;
    border-radius: 10px;
    font-size: 1.1em;
    cursor: pointer;
    transition: background-color 0.3s ease;
  }
  #btnCheck:hover, #btnReset:hover {
    background: #1c5d8b;
  }
  #result {
    font-size: 1.4em;
    font-weight: bold;
    min-height: 40px;
    margin-top: 15px;
  }
</style>
</head>
<body>

<h1>Ù„Ø¹Ø¨Ø© ØªØ±ØªÙŠØ¨ Ø®Ø·ÙˆØ§Øª Ø§Ù„ÙˆØ¶ÙˆØ¡</h1>
<p id="instructions">Ø§Ø¶ØºØ· Ø¹Ù„Ù‰ Ø§Ù„Ø®Ø·ÙˆØ§Øª Ø¨Ø§Ù„ØªØ±ØªÙŠØ¨ Ø§Ù„ØµØ­ÙŠØ­ Ù„ØªØ±ØªÙŠØ¨ Ù…Ø±Ø§Ø­Ù„ Ø§Ù„ÙˆØ¶ÙˆØ¡.</p>

<div id="steps"></div>

<h3>Ø§Ù„Ø®Ø·ÙˆØ§Øª Ù…Ø±ØªØ¨Ø©:</h3>
<div id="answer"></div>

<button id="btnCheck">ØªØ­Ù‚Ù‚</button>
<button id="btnReset">Ø¥Ø¹Ø§Ø¯Ø© ØªØ±ØªÙŠØ¨</button>

<div id="result"></div>

<script>
  // Ø§Ù„Ø®Ø·ÙˆØ§Øª Ø§Ù„ØµØ­ÙŠØ­Ø© Ø¨Ø§Ù„ØªØ±ØªÙŠØ¨
  const correctSteps = [
    "Ø§Ù„Ù†ÙŠØ©",
    "ØºØ³Ù„ Ø§Ù„ÙŠØ¯ÙŠÙ† Ø«Ù„Ø§Ø« Ù…Ø±Ø§Øª",
    "Ø§Ù„Ù…Ø¶Ù…Ø¶Ø© ÙˆØ§Ù„Ø§Ø³ØªÙ†Ø´Ø§Ù‚",
    "ØºØ³Ù„ Ø§Ù„ÙˆØ¬Ù‡ Ø«Ù„Ø§Ø« Ù…Ø±Ø§Øª",
    "ØºØ³Ù„ Ø§Ù„ÙŠØ¯ÙŠÙ† Ø¥Ù„Ù‰ Ø§Ù„Ù…Ø±ÙÙ‚ÙŠÙ† Ø«Ù„Ø§Ø« Ù…Ø±Ø§Øª",
    "Ù…Ø³Ø­ Ø§Ù„Ø±Ø£Ø³",
    "ØºØ³Ù„ Ø§Ù„Ù‚Ø¯Ù…ÙŠÙ† Ø¥Ù„Ù‰ Ø§Ù„ÙƒØ¹Ø¨ÙŠÙ† Ø«Ù„Ø§Ø« Ù…Ø±Ø§Øª"
  ];

  let shuffledSteps = [];
  const stepsDiv = document.getElementById('steps');
  const answerDiv = document.getElementById('answer');
  const resultDiv = document.getElementById('result');
  const btnCheck = document.getElementById('btnCheck');
  const btnReset = document.getElementById('btnReset');

  // Ø¯Ø§Ù„Ø© Ù„Ø®Ù„Ø· Ø¹Ù†Ø§ØµØ± Ø§Ù„Ù…ØµÙÙˆÙØ© (ÙÙŠØ´Ø±-ÙŠØªØ³)
  function shuffleArray(arr) {
    let array = arr.slice();
    for(let i = array.length - 1; i > 0; i--) {
      let j = Math.floor(Math.random() * (i + 1));
      [array[i], array[j]] = [array[j], array[i]];
    }
    return array;
  }

  function startGame() {
    resultDiv.textContent = "";
    answerDiv.innerHTML = "";
    stepsDiv.innerHTML = "";

    shuffledSteps = shuffleArray(correctSteps);

    // Ø¹Ø±Ø¶ Ø§Ù„Ø®Ø·ÙˆØ§Øª Ù…Ø¨Ø¹Ø«Ø±Ø©
    shuffledSteps.forEach(step => {
      const div = document.createElement('div');
      div.textContent = step;
      div.classList.add('step');
      div.addEventListener('click', () => {
        // Ø¥Ø°Ø§ Ù„Ù… ØªÙƒÙ† Ø§Ù„Ø®Ø·ÙˆØ© Ù…ÙˆØ¬ÙˆØ¯Ø© ÙÙŠ Ø§Ù„Ø§Ø¬Ø§Ø¨Ø©ØŒ Ø£Ø¶ÙÙ‡Ø§
        if(!Array.from(answerDiv.children).some(child => child.textContent === step)) {
          const stepNode = document.createElement('div');
          stepNode.textContent = step;
          stepNode.classList.add('step');
          // Ø¹Ù†Ø¯ Ø§Ù„Ù†Ù‚Ø± Ø¹Ù„Ù‰ Ø§Ù„Ø®Ø·ÙˆØ© ÙÙŠ Ø§Ù„Ø§Ø¬Ø§Ø¨Ø©ØŒ ÙŠØªÙ… Ø¥Ø²Ø§Ù„ØªÙ‡Ø§
          stepNode.addEventListener('click', () => {
            answerDiv.removeChild(stepNode);
          });
          answerDiv.appendChild(stepNode);
        }
      });
      stepsDiv.appendChild(div);
    });
  }

  btnCheck.addEventListener('click', () => {
    const userSteps = Array.from(answerDiv.children).map(div => div.textContent);
    if(userSteps.length !== correctSteps.length) {
      resultDiv.textContent = "ÙŠØ¬Ø¨ ØªØ±ØªÙŠØ¨ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø®Ø·ÙˆØ§Øª.";
      resultDiv.style.color = "red";
      return;
    }
    const isCorrect = userSteps.every((step, i) => step === correctSteps[i]);
    if(isCorrect) {
      resultDiv.textContent = "Ø£Ø­Ø³Ù†Øª! ØªØ±ØªÙŠØ¨ Ø§Ù„Ø®Ø·ÙˆØ§Øª ØµØ­ÙŠØ­ ðŸŽ‰";
      resultDiv.style.color = "green";
    } else {
      resultDiv.textContent = "ØªØ±ØªÙŠØ¨ Ø§Ù„Ø®Ø·ÙˆØ§Øª ØºÙŠØ± ØµØ­ÙŠØ­ØŒ Ø­Ø§ÙˆÙ„ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰.";
      resultDiv.style.color = "red";
    }
  });

  btnReset.addEventListener('click', () => {
    startGame();
  });

  // Ø¨Ø¯Ø§ÙŠØ© Ø§Ù„Ù„Ø¹Ø¨Ø©
  startGame();
</script>

</body>
</html>
