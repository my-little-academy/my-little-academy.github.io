<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>رحلتي الطيبة مع الحج</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Google Fonts - Inter for general text -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <!-- Font Awesome for icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background: linear-gradient(135deg, #f0f8ff, #e0f2f7); /* Soft blue/white gradient */
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 20px;
            overflow-x: hidden; /* Prevent horizontal scrolling */
        }
        .container {
            background-color: #ffffff;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            padding: 30px;
            max-width: 900px;
            width: 100%;
            text-align: center;
            position: relative;
            overflow: hidden;
            animation: fadeIn 1s ease-out;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        h1, h2 {
            color: #1E90FF; /* Dodger Blue */
            font-weight: 700;
            margin-bottom: 20px;
        }
        .nav-buttons button {
            background-color: #87CEEB; /* Sky Blue */
            color: #FFFFFF;
            padding: 12px 25px;
            border-radius: 30px;
            font-weight: 600;
            transition: all 0.3s ease;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            margin: 10px;
            border: 2px solid #4682B4; /* Steel Blue */
        }
        .nav-buttons button:hover {
            background-color: #4682B4; /* Steel Blue */
            color: #FFFFFF;
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.2);
        }
        .section {
            display: none;
            padding: 20px 0;
            animation: slideIn 0.5s ease-out;
        }
        @keyframes slideIn {
            from { opacity: 0; transform: translateX(20px); }
            to { opacity: 1; transform: translateX(0); }
        }
        .section.active {
            display: block;
        }
        .story-text, .hajj-info-text, .quiz-question-text {
            font-size: 1.15rem;
            line-height: 1.8;
            color: #555;
            margin-bottom: 20px;
        }
        .image-container img {
            max-width: 100%;
            height: auto;
            border-radius: 15px;
            margin-bottom: 20px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }
        .quiz-options label {
            display: block;
            background-color: #e0f7fa; /* Light Cyan */
            padding: 15px;
            margin-bottom: 10px;
            border-radius: 10px;
            border: 2px solid #B2EBF2; /* Light Blue */
            cursor: pointer;
            transition: all 0.2s ease;
            font-size: 1.1rem;
            color: #333;
        }
        .quiz-options label:hover {
            background-color: #cceef2;
            border-color: #81D4FA; /* Light Blue Accent */
        }
        .quiz-options input[type="radio"]:checked + label {
            background-color: #81D4FA; /* Light Blue Accent */
            border-color: #03A9F4; /* Light Blue */
            color: #333;
            font-weight: 600;
        }
        .quiz-feedback {
            margin-top: 20px;
            font-size: 1.2rem;
            font-weight: 600;
        }
        .correct {
            color: #28A745; /* Green */
        }
        .incorrect {
            color: #DC3545; /* Red */
        }
        .game-area {
            background-color: #e3f2fd; /* Lightest Blue */
            border-radius: 15px;
            padding: 25px;
            margin-top: 20px;
            box-shadow: inset 0 0 10px rgba(0, 0, 0, 0.1);
            min-height: 300px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }
        .game-item {
            background-color: #bbdefb; /* Lighter Blue */
            border: 2px solid #64B5F6; /* Blue */
            border-radius: 15px;
            padding: 15px;
            margin: 10px;
            cursor: pointer;
            transition: all 0.2s ease;
            font-size: 1.1rem;
            font-weight: 600;
            color: #333;
            text-align: center;
            width: 220px;
            height: 180px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1);
        }
        .game-item:hover {
            transform: translateY(-5px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }
        .game-item img {
            width: 100px;
            height: 100px;
            object-fit: contain;
            margin-bottom: 5px;
        }
        .game-feedback {
            margin-top: 20px;
            font-size: 1.2rem;
            font-weight: 600;
        }
        .game-buttons button {
            background-color: #1E90FF; /* Dodger Blue */
            color: #FFFFFF;
            padding: 10px 20px;
            border-radius: 20px;
            font-weight: 600;
            transition: all 0.3s ease;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            margin: 10px;
            border: none;
        }
        .game-buttons button:hover {
            background-color: #4682B4; /* Steel Blue */
            transform: translateY(-2px);
        }
        .popup-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.3s ease, visibility 0.3s ease;
        }
        .popup-overlay.show {
            opacity: 1;
            visibility: visible;
        }
        .popup-content {
            background-color: #fff;
            padding: 30px;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            text-align: center;
            max-width: 400px;
            width: 90%;
            transform: scale(0.8);
            transition: transform 0.3s ease;
        }
        .popup-overlay.show .popup-content {
            transform: scale(1);
        }
        .popup-content h3 {
            color: #1E90FF;
            font-size: 1.8rem;
            margin-bottom: 15px;
        }
        .popup-content p {
            font-size: 1.1rem;
            color: #555;
            margin-bottom: 20px;
        }
        .popup-content button {
            background-color: #87CEEB;
            color: #FFFFFF;
            padding: 10px 20px;
            border-radius: 25px;
            font-weight: 600;
            border: none;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }
        .popup-content button:hover {
            background-color: #4682B4;
            color: #fff;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1 class="text-4xl">رحلتي الطيبة مع الحج</h1>

        <div class="nav-buttons mb-8">
            <button onclick="showSection('intro')">المقدمة</button>
            <button onclick="showSection('story')">القصة المشوقة</button>
            <button onclick="showSection('what-is-hajj')">ما هو الحج؟</button>
            <button onclick="showSection('quiz')">اختبر فهمك</button>
            <button onclick="showSection('games')">ألعاب تفاعلية</button>
        </div>

        <!-- Introduction Section -->
        <div id="intro" class="section active">
            <h2 class="text-3xl">مرحباً يا أصدقائي الصغار!</h2>
            <p class="story-text">هل أنتم مستعدون لرحلة إيمانية عظيمة وممتعة؟ في هذه الصفحة، سنتعلم كل شيء عن الحج، الركن الخامس من أركان الإسلام، وهو رحلة مباركة إلى بيت الله الحرام. هيا بنا نبدأ!</p>
            <img src="https://placehold.co/400x200/87CEEB/000000?text=مرحباً+بالحجاج+الصغار" alt="مرحباً بالحجاج الصغار" class="mx-auto image-container">
        </div>

        <!-- Story Section -->
        <div id="story" class="section">
            <h2 class="text-3xl">قصتنا المشوقة: مغامرة مريم في مكة</h2>
            <p class="story-text">في مدينة جميلة، كانت هناك طفلة ذكية ومتحمسة اسمها "مريم". كانت مريم تسمع والديها يتحدثان عن رحلة الحج العظيمة، وكيف أنها أمنية كل مسلم. شعرت مريم بفضول كبير لتعرف المزيد عن هذه الرحلة المباركة.</p>
            <img src="https://placehold.co/400x200/B0E0E6/000000?text=مريم+والكعبة" alt="مريم والكعبة" class="mx-auto image-container">
            <p class="story-text">ذات يوم، بينما كانت مريم تتصفح كتابًا مصورًا عن الإسلام، رأت صورًا للكعبة المشرفة، وللحجاج وهم يطوفون حولها. سألت مريم أمها: "يا أمي، ما هو الحج؟ وماذا يفعل الحجاج في مكة؟" ابتسمت الأم وقالت: "الحج يا مريم هو زيارة بيت الله الحرام في مكة المكرمة، وهو ركن عظيم من أركان الإسلام، يفعله المسلمون مرة واحدة في العمر إذا استطاعوا."</p>
            <img src="https://placehold.co/400x200/ADD8E6/000000?text=مريم+وأمها" alt="مريم وأمها" class="mx-auto image-container">
            <p class="story-text">بدأت الأم تشرح لمريم مناسك الحج خطوة بخطوة، وكأنها تأخذها في رحلة افتراضية:</p>
            <ul class="list-disc list-inside text-right story-text mx-auto max-w-md">
                <li>**الإحرام:** كيف يرتدي الحجاج ملابس بسيطة بيضاء، وينوون الحج، ويقولون "لبيك اللهم لبيك".</li>
                <li>**الطواف:** كيف يطوفون حول الكعبة سبعة أشواط.</li>
                <li>**السعي:** كيف يسعون بين الصفا والمروة سبعة أشواط، تذكرًا للسيدة هاجر.</li>
                <li>**يوم عرفة:** أهم ركن في الحج، حيث يقف الحجاج على جبل عرفة يدعون الله.</li>
                <li>**رمي الجمرات:** كيف يرمون الجمرات تذكرًا لرمي الشيطان.</li>
                <li>**التحلل:** كيف يحلقون شعرهم أو يقصرونه، ويعودون إلى حياتهم العادية بعد إتمام المناسك.</li>
            </ul>
            <p class="story-text">أدركت مريم أن الحج رحلة عظيمة مليئة بالروحانية، وأنها تعلم الصبر، والوحدة بين المسلمين، والقرب من الله.</p>
        </div>

        <!-- What is Hajj Section -->
        <div id="what-is-hajj" class="section">
            <h2 class="text-3xl">ما هو الحج؟ معلومات مهمة عن الركن الخامس</h2>
            <p class="hajj-info-text">هيا نتعرف على الحج بشكل أعمق، لنفهم هذه الرحلة المباركة:</p>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mt-8">
                <div class="bg-blue-100 p-6 rounded-xl shadow-md border-2 border-blue-300">
                    <img src="https://placehold.co/100x100/ADD8E6/000000?text=تعريف" alt="تعريف الحج" class="mx-auto mb-4 rounded-full">
                    <h3 class="text-xl font-semibold text-blue-800 mb-2">1. مفهوم الحج</h3>
                    <p class="text-gray-700">الحج هو قصد بيت الله الحرام في مكة المكرمة لأداء مناسك معينة في وقت معين، وهو ركن من أركان الإسلام.</p>
                </div>
                <div class="bg-yellow-100 p-6 rounded-xl shadow-md border-2 border-yellow-300">
                    <img src="https://placehold.co/100x100/FFD700/000000?text=من+يجب+عليه" alt="من يجب عليه الحج" class="mx-auto mb-4 rounded-full">
                    <h3 class="text-xl font-semibold text-yellow-800 mb-2">2. على من يجب الحج؟</h3>
                    <p class="text-gray-700">يجب الحج على المسلم البالغ العاقل المستطيع (القادر جسديًا وماليًا) مرة واحدة في العمر.</p>
                </div>
                <div class="bg-purple-100 p-6 rounded-xl shadow-md border-2 border-purple-300">
                    <img src="https://placehold.co/100x100/E6E6FA/000000?text=مناسك" alt="مناسك الحج" class="mx-auto mb-4 rounded-full">
                    <h3 class="text-xl font-semibold text-purple-800 mb-2">3. أهم مناسك الحج</h3>
                    <ul class="list-disc list-inside text-right text-gray-700">
                        <li>الإحرام</li>
                        <li>الطواف حول الكعبة</li>
                        <li>السعي بين الصفا والمروة</li>
                        <li>الوقوف بعرفة (أهم ركن)</li>
                        <li>رمي الجمرات</li>
                    </ul>
                </div>
                <div class="bg-green-100 p-6 rounded-xl shadow-md border-2 border-green-300">
                    <img src="https://placehold.co/100x100/90EE90/000000?text=فوائد" alt="فوائد الحج" class="mx-auto mb-4 rounded-full">
                    <h3 class="text-xl font-semibold text-green-800 mb-2">4. فوائد الحج</h3>
                    <ul class="list-disc list-inside text-right text-gray-700">
                        <li>مغفرة الذنوب.</li>
                        <li>الشعور بوحدة المسلمين.</li>
                        <li>تعلم الصبر والتحمل.</li>
                        <li>زيادة التقوى والقرب من الله.</li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- Quiz Section -->
        <div id="quiz" class="section">
            <h2 class="text-3xl">اختبر فهمك: هل أنت مستعد للحج؟</h2>
            <p class="quiz-question-text">الآن بعد أن استمعنا لقصة مريم الممتعة وتعرفنا على الحج، حان وقت اختبار معلوماتك! أجب عن الأسئلة التالية لتثبت أنك أصبحت مستعدًا للحج:</p>
            <div id="quiz-question-container" class="mt-6">
                <!-- Quiz question will be loaded here by JS -->
            </div>
            <div class="quiz-feedback" id="quiz-feedback"></div>
            <button id="next-question-btn" class="mt-6 bg-green-500 hover:bg-green-600 text-white py-3 px-6 rounded-full font-bold shadow-lg transition-all" onclick="nextQuestion()">السؤال التالي</button>
            <button id="restart-quiz-btn" class="mt-6 bg-purple-500 hover:bg-purple-600 text-white py-3 px-6 rounded-full font-bold shadow-lg transition-all hidden" onclick="resetQuiz()">إعادة الاختبار</button>
        </div>

        <!-- Games Section -->
        <div id="games" class="section">
            <h2 class="text-3xl">ألعاب تفاعلية: لنثبت ما تعلمناه!</h2>
            <p class="story-text">بعد أن اختبرت معلوماتك بنجاح، حان وقت المرح! هيا بنا نلعب لعبة "رتب مناسك الحج" لتثبيت معلوماتنا عن خطوات الحج:</p>

            <div class="game-area">
                <h3 class="text-2xl font-bold text-blue-700 mb-4">لعبة "رتب مناسك الحج": رتب الخطوات!</h3>
                <p class="text-gray-600 mb-6">اضغط على صور مناسك الحج بالترتيب الصحيح.</p>
                <div id="game-items-container" class="flex flex-wrap justify-center gap-4 mb-6">
                    <!-- Game items will be loaded here by JS -->
                </div>
                <div class="game-selected-order" id="game-selected-order" class="flex flex-wrap justify-center gap-2 p-4 bg-gray-100 rounded-lg min-h-[80px]">
                    <p class="text-gray-500">الترتيب الذي اخترته سيظهر هنا...</p>
                </div>
                <div class="game-feedback mt-4 text-lg font-semibold" id="game-game-feedback"></div>
                <div class="game-buttons mt-6">
                    <button onclick="checkGameOrder()">تحقق من الترتيب</button>
                    <button onclick="resetGame()">إعادة اللعب</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Custom Modal/Popup for alerts -->
    <div id="custom-popup-overlay" class="popup-overlay">
        <div class="popup-content">
            <h3 id="popup-title"></h3>
            <p id="popup-message"></p>
            <button onclick="closePopup()">حسناً</button>
        </div>
    </div>

    <script>
        // Function to show custom popup
        function showPopup(title, message) {
            document.getElementById('popup-title').innerText = title;
            document.getElementById('popup-message').innerText = message;
            document.getElementById('custom-popup-overlay').classList.add('show');
        }

        // Function to close custom popup
        function closePopup() {
            document.getElementById('custom-popup-overlay').classList.remove('show');
        }

        // --- Section Management ---
        let currentSection = 'intro';

        function showSection(sectionId) {
            // Hide all sections
            document.querySelectorAll('.section').forEach(section => {
                section.classList.remove('active');
            });
            // Show the requested section
            document.getElementById(sectionId).classList.add('active');
            currentSection = sectionId;

            // Specific actions for sections
            if (sectionId === 'quiz') {
                resetQuiz(); // Ensure quiz is reset when navigated to
            } else if (sectionId === 'games') {
                resetGame(); // Ensure game is reset and initialized when navigated to
            }
        }

        // --- Quiz Logic ---
        const quizQuestions = [
            {
                question: "ما هو الركن الخامس من أركان الإسلام؟",
                options: ["الصلاة", "الصيام", "الحج"],
                answer: "الحج"
            },
            {
                question: "أين يقع بيت الله الحرام؟",
                options: ["القدس", "المدينة المنورة", "مكة المكرمة"],
                answer: "مكة المكرمة"
            },
            {
                question: "ما هو أهم ركن في الحج؟",
                options: ["الطواف", "الوقوف بعرفة", "رمي الجمرات"],
                answer: "الوقوف بعرفة"
            },
            {
                question: "كم شوطاً يطوف الحاج حول الكعبة؟",
                options: ["خمسة", "سبعة", "عشرة"],
                answer: "سبعة"
            }
        ];

        let currentQuestionIndex = 0;
        let score = 0;

        function displayQuestion() {
            const container = document.getElementById('quiz-question-container');
            const feedback = document.getElementById('quiz-feedback');
            const nextBtn = document.getElementById('next-question-btn');
            const restartBtn = document.getElementById('restart-quiz-btn');

            feedback.innerText = ''; // Clear previous feedback
            nextBtn.innerText = 'تحقق من الإجابة'; // Change button text

            if (currentQuestionIndex < quizQuestions.length) {
                const q = quizQuestions[currentQuestionIndex];
                let html = `<p class="text-xl font-bold mb-4">${currentQuestionIndex + 1}. ${q.question}</p>`;
                html += `<div class="quiz-options text-right">`;
                q.options.forEach((option, index) => {
                    html += `
                        <div>
                            <input type="radio" id="option${index}" name="quiz-option" value="${option}" class="hidden">
                            <label for="option${index}">${option}</label>
                        </div>
                    `;
                });
                html += `</div>`;
                container.innerHTML = html;
                nextBtn.classList.remove('hidden');
                restartBtn.classList.add('hidden');
            } else {
                // Quiz finished
                container.innerHTML = `<p class="text-2xl font-bold text-green-700">لقد أكملت الاختبار!</p><p class="text-xl mt-2">نقاطك: ${score} من ${quizQuestions.length}</p>`;
                if (score === quizQuestions.length) {
                    feedback.innerHTML = `<p class="correct text-2xl mt-4">أحسنت! أنت مستعد للحج!</p>`;
                } else {
                    feedback.innerHTML = `<p class="incorrect text-2xl mt-4">حاول مرة أخرى لتصبح مستعدًا أكثر!</p>`;
                }
                nextBtn.classList.add('hidden');
                restartBtn.classList.remove('hidden');
            }
        }

        function nextQuestion() {
            const selectedOption = document.querySelector('input[name="quiz-option"]:checked');
            const feedback = document.getElementById('quiz-feedback');
            const nextBtn = document.getElementById('next-question-btn');

            if (!selectedOption && currentQuestionIndex < quizQuestions.length) {
                showPopup("تنبيه", "الرجاء اختيار إجابة قبل المتابعة.");
                return;
            }

            if (nextBtn.innerText === 'تحقق من الإجابة') {
                // Check answer phase
                const correctAnswer = quizQuestions[currentQuestionIndex].answer;
                if (selectedOption.value === correctAnswer) {
                    feedback.innerHTML = `<p class="correct"><i class="fas fa-check-circle"></i> إجابة صحيحة! أحسنت.</p>`;
                    score++;
                } else {
                    feedback.innerHTML = `<p class="incorrect"><i class="fas fa-times-circle"></i> إجابة خاطئة. الإجابة الصحيحة هي: ${correctAnswer}.</p>`;
                }
                nextBtn.innerText = 'السؤال التالي'; // Change button text for next question
            } else {
                // Move to next question phase
                currentQuestionIndex++;
                displayQuestion();
            }
        }

        function resetQuiz() {
            currentQuestionIndex = 0;
            score = 0;
            displayQuestion();
            document.getElementById('restart-quiz-btn').classList.add('hidden');
            document.getElementById('next-question-btn').classList.remove('hidden');
            document.getElementById('next-question-btn').innerText = 'تحقق من الإجابة';
        }

        // --- Game Logic: "رتب مناسك الحج" (Order Hajj Rituals) ---
        const hajjRitualsGameData = [
            { id: 'ihram', name: 'الإحرام', img: 'https://placehold.co/100x100/ADD8E6/000000?text=الإحرام' },
            { id: 'tawaf', name: 'الطواف حول الكعبة', img: 'https://placehold.co/100x100/87CEEB/000000?text=الطواف' },
            { id: 'saee', name: 'السعي بين الصفا والمروة', img: 'https://placehold.co/100x100/B0E0E6/000000?text=السعي' },
            { id: 'arafat', name: 'الوقوف بعرفة', img: 'https://placehold.co/100x100/4682B4/000000?text=عرفة' },
            { id: 'ramy', name: 'رمي الجمرات', img: 'https://placehold.co/100x100/1E90FF/000000?text=رمي+الجمرات' },
            { id: 'tahalul', name: 'التحلل (الحلق أو التقصير)', img: 'https://placehold.co/100x100/6A5ACD/000000?text=التحلل' }
        ];

        let selectedGameOrder = []; // Stores IDs of selected steps in order
        // The correct sequence of main rituals
        const gameCorrectOrder = ['ihram', 'tawaf', 'saee', 'arafat', 'ramy', 'tahalul'];

        function initializeGame() {
            const gameItemsContainer = document.getElementById('game-items-container');
            gameItemsContainer.innerHTML = '';
            // Shuffle the rituals for the game display
            const shuffledRituals = [...hajjRitualsGameData].sort(() => Math.random() - 0.5);

            shuffledRituals.forEach(ritual => {
                const itemDiv = document.createElement('div');
                itemDiv.id = `game-${ritual.id}`;
                itemDiv.classList.add('game-item');
                itemDiv.innerHTML = `<img src="${ritual.img}" alt="${ritual.name}"><span>${ritual.name}</span>`;
                itemDiv.onclick = () => selectGameStep(ritual.id, ritual.name, itemDiv);
                gameItemsContainer.appendChild(itemDiv);
            });
            updateSelectedOrderDisplay();
        }

        function selectGameStep(id, name, element) {
            if (selectedGameOrder.includes(id)) {
                // If already selected, remove it (toggle)
                selectedGameOrder = selectedGameOrder.filter(item => item !== id);
                element.classList.remove('selected');
            } else {
                // Add to selected order
                selectedGameOrder.push(id);
                element.classList.add('selected');
            }
            updateSelectedOrderDisplay();
        }

        function updateSelectedOrderDisplay() {
            const displayArea = document.getElementById('game-selected-order');
            if (selectedGameOrder.length === 0) {
                displayArea.innerHTML = '<p class="text-gray-500">الترتيب الذي اخترته سيظهر هنا...</p>';
                return;
            }
            displayArea.innerHTML = selectedGameOrder.map(id => {
                const ritual = hajjRitualsGameData.find(d => d.id === id);
                return `<span class="bg-blue-50 p-2 rounded-md shadow-sm">${ritual ? ritual.name : ''}</span>`;
            }).join('');
        }

        function checkGameOrder() {
            const feedback = document.getElementById('game-game-feedback');
            if (selectedGameOrder.length !== gameCorrectOrder.length) {
                feedback.innerHTML = `<p class="incorrect"><i class="fas fa-times-circle"></i> الترتيب غير مكتمل أو به خطوات زائدة. حاول مرة أخرى!</p>`;
                return;
            }

            let isCorrect = true;
            for (let i = 0; i < gameCorrectOrder.length; i++) {
                if (selectedGameOrder[i] !== gameCorrectOrder[i]) {
                    isCorrect = false;
                    break;
                }
            }

            if (isCorrect) {
                feedback.innerHTML = `<p class="correct"><i class="fas fa-check-circle"></i> أحسنت! هذا هو الترتيب الصحيح لمناسك الحج. أنت بطل!</p>`;
                showPopup("تهانينا!", "لقد رتبت مناسك الحج بشكل صحيح! أنت رائع!");
            } else {
                feedback.innerHTML = `<p class="incorrect"><i class="fas fa-times-circle"></i> هذا ليس الترتيب الصحيح. حاول مرة أخرى!</p>`;
                showPopup("حاول مرة أخرى", "الترتيب الذي اخترته غير صحيح. تذكر مناسك الحج جيداً!");
            }
        }

        function resetGame() {
            selectedGameOrder = [];
            document.querySelectorAll('.game-item').forEach(item => {
                item.classList.remove('selected');
            });
            document.getElementById('game-game-feedback').innerHTML = '';
            initializeGame(); // Re-initialize to shuffle items again
        }

        // Initialize the quiz and game when the page loads
        window.onload = function() {
            showSection('intro'); // Start with the introduction section
            displayQuestion(); // Initialize the first quiz question
            initializeGame(); // Initialize the game
        };
    </script>
</body>
</html>
