<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù…ÙˆÙ†ÙˆØ¨ÙˆÙ„ÙŠ Ø§Ù„Ø³ÙŠØ±Ø© Ø§Ù„Ù†Ø¨ÙˆÙŠØ©</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Arial', sans-serif;
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }

        .game-container {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.2);
            padding: 30px;
            max-width: 900px;
            width: 100%;
            border: 5px solid #8e6c88;
        }

        .game-title {
            text-align: center;
            color: #4a2c40;
            font-size: 2.5em;
            margin-bottom: 30px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
            font-weight: bold;
            background: linear-gradient(to right, #8e6c88, #4a2c40);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            padding: 10px;
            border-radius: 15px;
        }

        .board {
            width: 600px;
            height: 600px;
            margin: 0 auto 30px;
            position: relative;
            background: #f8f9fa;
            border: 5px solid #4a2c40;
            border-radius: 10px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
            background-image: url('data:image/svg+xml;utf8,<svg width="100" height="100" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg"><path d="M20,20 L80,20 L80,80 L20,80 Z" stroke="%234a2c40" stroke-width="1" fill="none" opacity="0.1"/></svg>');
            background-size: 50px 50px;
        }

        .property {
            position: absolute;
            background: linear-gradient(145deg, #ffffff, #f0f0f0);
            border: 3px solid #8e6c88;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            font-weight: bold;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            border-radius: 8px;
            box-shadow: 0 3px 8px rgba(0, 0, 0, 0.1);
            color: #4a2c40; /* Ù„ÙˆÙ† Ø§Ù„Ù†Øµ Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠ Ù„Ù„Ù…ÙˆØ§Ù‚Ø¹ */
        }

        .property:hover {
            transform: scale(1.05);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
            z-index: 20;
        }

        .property.owned-1 {
            background: linear-gradient(145deg, #a8e6cf, #dcedc1);
            color: #2d3436;
            border-color: #4a2c40;
        }

        .property.owned-2 {
            background: linear-gradient(145deg, #ffaaa5, #ff8b94);
            color: #2d3436;
            border-color: #4a2c40;
        }

        .corner {
            width: 90px;
            height: 90px;
            font-size: 12px;
            background: linear-gradient(145deg, #8e6c88, #4a2c40);
            color: white;
            border-radius: 15px;
        }

        .side {
            width: 80px;
            height: 60px;
            font-size: 11px;
        }

        /* Ù…ÙˆØ§Ø¶Ø¹ Ø§Ù„Ø®ØµØ§Ø¦Øµ */
        /* Ø§Ù„ØµÙ Ø§Ù„Ø³ÙÙ„ÙŠ (Ù…Ù† Ø§Ù„ÙŠÙ…ÙŠÙ† Ø¥Ù„Ù‰ Ø§Ù„ÙŠØ³Ø§Ø±) - ID: 0-6 */
        .start { top: 510px; right: 510px; } /* 0 */
        .prop-pos-1 { top: 510px; right: 430px; } /* 1 */
        .prop-pos-2 { top: 510px; right: 350px; } /* 2 */
        .prop-pos-3 { top: 510px; right: 270px; } /* 3 */
        .prop-pos-4 { top: 510px; right: 190px; } /* 4 */
        .prop-pos-5 { top: 510px; right: 110px; } /* 5 */
        .prop-pos-6 { top: 510px; right: 30px; } /* 6 */
        
        /* ØºØ§Ø± Ø­Ø±Ø§Ø¡ - ID: 7 (Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ø°ÙŠ ÙŠØ°Ù‡Ø¨ Ø¥Ù„ÙŠÙ‡ Ø§Ù„Ù„Ø§Ø¹Ø¨ Ø¨Ø¯Ù„ Ø§Ù„Ø³Ø¬Ù†) */
        .jail { top: 510px; right: 30px; } /* 7 - Ù†ÙØ³ Ù…ÙƒØ§Ù† prop-pos-6ØŒ ØªØ­ØªØ§Ø¬ Ù„ØªØºÙŠÙŠØ± ÙÙŠ Ø§Ù„Ø¬Ø§ÙØ§Ø³ÙƒØ±ÙŠØ¨Øª */
        
        /* Ø§Ù„ØµÙ Ø§Ù„Ø£ÙŠÙ…Ù† (Ù…Ù† Ø§Ù„Ø£Ø³ÙÙ„ Ø¥Ù„Ù‰ Ø§Ù„Ø£Ø¹Ù„Ù‰) - ID: 8-13 */
        .prop-pos-8 { top: 450px; right: 30px; }
        .prop-pos-9 { top: 390px; right: 30px; }
        .prop-pos-10 { top: 330px; right: 30px; }
        .prop-pos-11 { top: 270px; right: 30px; }
        .prop-pos-12 { top: 210px; right: 30px; }
        .prop-pos-13 { top: 150px; right: 30px; }
        
        /* Ø§Ù„ÙƒØ¹Ø¨Ø© - ID: 14 */
        .parking { top: 30px; right: 30px; } /* 14 */
        
        /* Ø§Ù„ØµÙ Ø§Ù„Ø¹Ù„ÙˆÙŠ (Ù…Ù† Ø§Ù„ÙŠÙ…ÙŠÙ† Ø¥Ù„Ù‰ Ø§Ù„ÙŠØ³Ø§Ø±) - ID: 15-20 */
        .prop-pos-15 { top: 30px; right: 110px; }
        .prop-pos-16 { top: 30px; right: 190px; }
        .prop-pos-17 { top: 30px; right: 270px; }
        .prop-pos-18 { top: 30px; right: 350px; }
        .prop-pos-19 { top: 30px; right: 430px; }
        .prop-pos-20 { top: 30px; right: 510px; }
        
        /* Ø¥Ù„Ù‰ ØºØ§Ø± Ø­Ø±Ø§Ø¡ - ID: 21 */
        .go-jail { top: 30px; right: 510px; } /* 21 - Ù†ÙØ³ Ù…ÙƒØ§Ù† prop-pos-20ØŒ ØªØ­ØªØ§Ø¬ Ù„ØªØºÙŠÙŠØ± ÙÙŠ Ø§Ù„Ø¬Ø§ÙØ§Ø³ÙƒØ±ÙŠØ¨Øª */
        
        /* Ø§Ù„ØµÙ Ø§Ù„Ø£ÙŠØ³Ø± (Ù…Ù† Ø§Ù„Ø£Ø¹Ù„Ù‰ Ø¥Ù„Ù‰ Ø§Ù„Ø£Ø³ÙÙ„) - ID: 22-27 */
        .prop-pos-22 { top: 150px; right: 510px; }
        .prop-pos-23 { top: 210px; right: 510px; }
        .prop-pos-24 { top: 270px; right: 510px; }
        .prop-pos-25 { top: 330px; right: 510px; }
        .prop-pos-26 { top: 390px; right: 510px; }
        .prop-pos-27 { top: 450px; right: 510px; }


        .player {
            position: absolute;
            width: 25px;
            height: 25px;
            border-radius: 50%;
            border: 3px solid white;
            box-shadow: 0 3px 8px rgba(0, 0, 0, 0.3);
            transition: all 0.5s ease-in-out; /* ØªØ­Ø³ÙŠÙ† Ø§Ù„Ø§Ù†ØªÙ‚Ø§Ù„ */
            z-index: 10;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 14px;
            color: white;
            font-weight: bold;
        }

        .player1 {
            background: #4a2c40;
            transform: translate(-40px, 15px); /* Offset from corner */
        }

        .player2 {
            background: #8e6c88;
            transform: translate(-15px, 15px); /* Offset from corner */
        }

        .center-area {
            position: absolute;
            top: 120px;
            right: 120px;
            width: 360px;
            height: 360px;
            background: linear-gradient(135deg, #f5f0f6 0%, #e8d9e9 100%);
            border-radius: 15px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            color: #4a2c40;
            text-align: center;
            box-shadow: inset 0 5px 15px rgba(0, 0, 0, 0.1);
            border: 4px dotted #8e6c88;
        }

        .center-logo {
            font-size: 2.5em;
            font-weight: bold;
            margin-bottom: 20px;
            color: #4a2c40;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
        }

        .game-info {
            display: flex;
            justify-content: space-between;
            margin-bottom: 20px;
            gap: 20px;
        }

        .player-info {
            background: linear-gradient(145deg, #ffffff, #f8f9fa);
            padding: 20px;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            flex: 1;
            text-align: center;
            border: 3px dashed;
            transition: all 0.3s ease;
        }

        .player-info.player1-color { /* Ø§Ø³ØªØ®Ø¯Ø§Ù… class Ù…Ø®ØªÙ„Ù Ù„ØªØ¬Ù†Ø¨ Ø§Ù„ØªØ¶Ø§Ø±Ø¨ */
            border-color: #4a2c40;
            background: linear-gradient(145deg, #f0e6f0, #f8f0f8);
        }

        .player-info.player2-color { /* Ø§Ø³ØªØ®Ø¯Ø§Ù… class Ù…Ø®ØªÙ„Ù Ù„ØªØ¬Ù†Ø¨ Ø§Ù„ØªØ¶Ø§Ø±Ø¨ */
            border-color: #8e6c88;
            background: linear-gradient(145deg, #f8f0f5, #fff0f8);
        }

        .player-info.current-player {
            transform: scale(1.05);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.2);
        }

        .player-info h3 {
            margin-bottom: 10px;
            font-size: 1.5em;
            color: #4a2c40;
        }

        .player-info p {
            font-size: 1.1em;
            margin: 8px 0;
        }

        .controls {
            text-align: center;
            margin-bottom: 20px;
        }

        .btn {
            background: linear-gradient(145deg, #d4b9cb, #e8d9e9);
            color: #4a2c40;
            border: none;
            padding: 15px 30px;
            border-radius: 30px;
            font-size: 18px;
            font-weight: bold;
            cursor: pointer;
            margin: 0 10px;
            transition: all 0.3s ease;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            border: 3px solid #fff;
            min-width: 150px;
        }

        .btn:hover {
            transform: translateY(-3px) scale(1.05);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.2);
        }

        .btn:active {
            transform: translateY(1px);
        }

        .btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none !important;
        }

        .btn.danger {
            background: linear-gradient(145deg, #ffaaa5, #ff8b94);
            color: white;
        }

        .btn.primary {
            background: linear-gradient(145deg, #a8e6cf, #dcedc1);
            color: #4a2c40;
        }

        .dice-area {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 20px;
            margin: 20px 0;
        }

        .dice {
            width: 60px;
            height: 60px;
            background: linear-gradient(145deg, #ffffff, #f0f0f0);
            border: 3px solid #4a2c40;
            border-radius: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 28px;
            font-weight: bold;
            color: #4a2c40;
            box-shadow: 0 5px 10px rgba(0, 0, 0, 0.1);
            transition: transform 0.1s ease;
        }

        .dice.rolling {
            animation: roll 0.5s ease-in-out;
        }

        @keyframes roll {
            0%, 100% { transform: rotate(0deg) scale(1); }
            25% { transform: rotate(90deg) scale(1.2); }
            50% { transform: rotate(180deg) scale(1); }
            75% { transform: rotate(270deg) scale(1.2); }
        }

        .log {
            background: rgba(255, 255, 255, 0.9);
            border-radius: 15px;
            padding: 15px;
            max-height: 200px;
            overflow-y: auto;
            box-shadow: inset 0 2px 5px rgba(0, 0, 0, 0.1);
            direction: rtl;
            text-align: right;
            border: 2px solid #dfe6e9;
        }

        .log-entry {
            padding: 8px 0;
            border-bottom: 1px dashed #dfe6e9;
            font-size: 16px;
            color: #4a2c40;
        }

        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.7);
            direction: rtl;
            justify-content: center; /* ØªÙˆØ³ÙŠØ· Ø£ÙÙ‚ÙŠ */
            align-items: center; /* ØªÙˆØ³ÙŠØ· Ø¹Ù…ÙˆØ¯ÙŠ */
        }

        .modal-content {
            background-color: #fefefe;
            /* margin: 15% auto; ØªÙ… Ø§Ø³ØªØ¨Ø¯Ø§Ù„Ù‡Ø§ Ø¨ flexbox */
            padding: 30px;
            border-radius: 20px;
            width: 80%;
            max-width: 500px;
            text-align: center;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            border: 5px solid #8e6c88;
            background: linear-gradient(145deg, #fff, #f7f7f7);
        }

        .close {
            color: #aaa;
            float: left; /* Ù„Ù„Ø­ÙØ§Ø¸ Ø¹Ù„Ù‰ Ø§Ù„Ø¥ØºÙ„Ø§Ù‚ ÙÙŠ Ø§Ù„Ø²Ø§ÙˆÙŠØ© Ø§Ù„ÙŠØ³Ø±Ù‰ */
            font-size: 32px;
            font-weight: bold;
            cursor: pointer;
        }

        .close:hover {
            color: #d63031;
        }

        .current-player {
            border: 4px solid #fdcb6e !important;
            box-shadow: 0 0 20px rgba(253, 203, 110, 0.5);
        }

        .property-price {
            font-size: 10px;
            color: #636e72;
            margin-top: 5px;
            font-weight: normal;
        }

        .emoji {
            font-size: 16px;
            margin-left: 5px;
        }

        /* ØªØ£Ø«ÙŠØ±Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ© */
        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }

        .bounce {
            animation: bounce 0.5s infinite;
        }

        .confetti {
            position: fixed;
            width: 10px;
            height: 10px;
            background-color: #f00;
            opacity: 0;
            z-index: 1001;
            animation: confetti 3s ease-in-out;
        }

        @keyframes confetti {
            0% { transform: translateY(0) rotate(0deg); opacity: 1; }
            100% { transform: translateY(500px) rotate(360deg); opacity: 0; }
        }
    </style>
</head>
<body>
    <div class="game-container">
        <h1 class="game-title">ğŸ•Œ Ù…ÙˆÙ†ÙˆØ¨ÙˆÙ„ÙŠ Ø§Ù„Ø³ÙŠØ±Ø© Ø§Ù„Ù†Ø¨ÙˆÙŠØ© ğŸ•Œ</h1>
        
        <div class="game-info">
            <div class="player-info player1-color current-player" id="player-info-1">
                <h3>ğŸ‘¦ Ø§Ù„Ù„Ø§Ø¹Ø¨ Ø§Ù„Ø£ÙˆÙ„</h3>
                <p>ğŸ’µ Ø§Ù„Ø£Ù…ÙˆØ§Ù„: <span id="player1-money">1500</span> Ø¯Ø±Ù‡Ù…</p>
                <p>ğŸ  Ø§Ù„Ù…ÙˆØ§Ù‚Ø¹: <span id="player1-properties">0</span></p>
            </div>
            <div class="player-info player2-color" id="player-info-2">
                <h3>ğŸ‘§ Ø§Ù„Ù„Ø§Ø¹Ø¨ Ø§Ù„Ø«Ø§Ù†ÙŠ</h3>
                <p>ğŸ’µ Ø§Ù„Ø£Ù…ÙˆØ§Ù„: <span id="player2-money">1500</span> Ø¯Ø±Ù‡Ù…</p>
                <p>ğŸ  Ø§Ù„Ù…ÙˆØ§Ù‚Ø¹: <span id="player2-properties">0</span></p>
            </div>
        </div>

        <div class="board">
            <div class="property corner start" data-id="0">ğŸ<br>Ø§Ù„Ø¨Ø¯Ø§ÙŠØ©<br>+200 Ø¯Ø±Ù‡Ù…</div>
            <div class="property corner jail" data-id="7">â›“ï¸<br>ØºØ§Ø± Ø­Ø±Ø§Ø¡<br>ØªØ£Ù…Ù„ ÙˆØªØ¹Ø¨Ø¯</div>
            <div class="property corner parking" data-id="14">ğŸ•‹<br>Ø§Ù„ÙƒØ¹Ø¨Ø©<br>Ø·ÙˆØ§Ù Ù…Ø¬Ø§Ù†ÙŠ</div>
            <div class="property corner go-jail" data-id="21">ğŸ‘³â€â™‚ï¸<br>Ø¥Ù„Ù‰ ØºØ§Ø± Ø­Ø±Ø§Ø¡</div>

            <div class="property side prop-pos-1" data-id="1">ğŸ  Ù…ÙˆÙ„Ø¯ Ø§Ù„Ù†Ø¨ÙŠ<br><span class="property-price">60 Ø¯Ø±Ù‡Ù…</span></div>
            <div class="property side prop-pos-2" data-id="2">ğŸ‘¶ Ø±Ø¶Ø§Ø¹Ø© Ø§Ù„Ù†Ø¨ÙŠ<br><span class="property-price">60 Ø¯Ø±Ù‡Ù…</span></div>
            <div class="property side prop-pos-3" data-id="3">ğŸ‘¦ Ø´Ø¨Ø§Ø¨ Ø§Ù„Ù†Ø¨ÙŠ<br><span class="property-price">80 Ø¯Ø±Ù‡Ù…</span></div>
            <div class="property side prop-pos-4" data-id="4">ğŸ’ Ø²ÙˆØ§Ø¬ Ø§Ù„Ù†Ø¨ÙŠ<br><span class="property-price">80 Ø¯Ø±Ù‡Ù…</span></div>
            <div class="property side prop-pos-5" data-id="5">ğŸ•‹ Ù†Ø²ÙˆÙ„ Ø§Ù„ÙˆØ­ÙŠ<br><span class="property-price">100 Ø¯Ø±Ù‡Ù…</span></div>
            <div class="property side prop-pos-6" data-id="6">ğŸ“œ Ø§Ù„Ø¯Ø¹ÙˆØ© Ø§Ù„Ø³Ø±ÙŠØ©<br><span class="property-price">100 Ø¯Ø±Ù‡Ù…</span></div>

            <div class="property side prop-pos-8" data-id="8">ğŸ“¢ Ø§Ù„Ø¯Ø¹ÙˆØ© Ø§Ù„Ø¬Ù‡Ø±ÙŠØ©<br><span class="property-price">120 Ø¯Ø±Ù‡Ù…</span></div>
            <div class="property side prop-pos-9" data-id="9">ğŸ•Œ Ø§Ù„Ù‡Ø¬Ø±Ø© Ø§Ù„Ø£ÙˆÙ„Ù‰<br><span class="property-price">120 Ø¯Ø±Ù‡Ù…</span></div>
            <div class="property side prop-pos-10" data-id="10">ğŸŒ™ Ø§Ù„Ø¥Ø³Ø±Ø§Ø¡ ÙˆØ§Ù„Ù…Ø¹Ø±Ø§Ø¬<br><span class="property-price">140 Ø¯Ø±Ù‡Ù…</span></div>
            <div class="property side prop-pos-11" data-id="11">ğŸ¤ Ø¨ÙŠØ¹Ø© Ø§Ù„Ø¹Ù‚Ø¨Ø©<br><span class="property-price">140 Ø¯Ø±Ù‡Ù…</span></div>
            <div class="property side prop-pos-12" data-id="12">ğŸœï¸ Ø§Ù„Ù‡Ø¬Ø±Ø© Ø¥Ù„Ù‰ Ø§Ù„Ù…Ø¯ÙŠÙ†Ø©<br><span class="property-price">160 Ø¯Ø±Ù‡Ù…</span></div>
            <div class="property side prop-pos-13" data-id="13">ğŸ•Œ Ø¨Ù†Ø§Ø¡ Ø§Ù„Ù…Ø³Ø¬Ø¯<br><span class="property-price">160 Ø¯Ø±Ù‡Ù…</span></div>

            <div class="property side prop-pos-15" data-id="15">âš”ï¸ ØºØ²ÙˆØ© Ø¨Ø¯Ø±<br><span class="property-price">180 Ø¯Ø±Ù‡Ù…</span></div>
            <div class="property side prop-pos-16" data-id="16">ğŸ›¡ï¸ ØºØ²ÙˆØ© Ø£Ø­Ø¯<br><span class="property-price">180 Ø¯Ø±Ù‡Ù…</span></div>
            <div class="property side prop-pos-17" data-id="17">ğŸ•ï¸ ØºØ²ÙˆØ© Ø§Ù„Ø®Ù†Ø¯Ù‚<br><span class="property-price">200 Ø¯Ø±Ù‡Ù…</span></div>
            <div class="property side prop-pos-18" data-id="18">âœï¸ ØµÙ„Ø­ Ø§Ù„Ø­Ø¯ÙŠØ¨ÙŠØ©<br><span class="property-price">200 Ø¯Ø±Ù‡Ù…</span></div>
            <div class="property side prop-pos-19" data-id="19">ğŸ“¨ Ø±Ø³Ø§Ø¦Ù„ Ø§Ù„Ù…Ù„ÙˆÙƒ<br><span class="property-price">220 Ø¯Ø±Ù‡Ù…</span></div>
            <div class="property side prop-pos-20" data-id="20">ğŸ•Šï¸ ÙØªØ­ Ù…ÙƒØ©<br><span class="property-price">220 Ø¯Ø±Ù‡Ù…</span></div>

            <div class="property side prop-pos-22" data-id="22">ğŸ•Œ Ø­Ø¬Ø© Ø§Ù„ÙˆØ¯Ø§Ø¹<br><span class="property-price">240 Ø¯Ø±Ù‡Ù…</span></div>
            <div class="property side prop-pos-23" data-id="23">ğŸ“– Ø®Ø·Ø¨Ø© Ø§Ù„ÙˆØ¯Ø§Ø¹<br><span class="property-price">240 Ø¯Ø±Ù‡Ù…</span></div>
            <div class="property side prop-pos-24" data-id="24">ğŸŒ… ÙˆÙØ§Ø© Ø§Ù„Ù†Ø¨ÙŠ<br><span class="property-price">260 Ø¯Ø±Ù‡Ù…</span></div>
            <div class="property side prop-pos-25" data-id="25">ğŸ“š Ø§Ù„Ù‚Ø±Ø¢Ù† Ø§Ù„ÙƒØ±ÙŠÙ…<br><span class="property-price">260 Ø¯Ø±Ù‡Ù…</span></div>
            <div class="property side prop-pos-26" data-id="26">ğŸ•Œ Ø§Ù„Ù…Ø³Ø¬Ø¯ Ø§Ù„Ù†Ø¨ÙˆÙŠ<br><span class="property-price">280 Ø¯Ø±Ù‡Ù…</span></div>
            <div class="property side prop-pos-27" data-id="27">ğŸ“œ Ø§Ù„Ø³Ù†Ø© Ø§Ù„Ù†Ø¨ÙˆÙŠØ©<br><span class="property-price">280 Ø¯Ø±Ù‡Ù…</span></div>

            <div class="center-area">
                <div class="center-logo">Ø§Ù„Ø³ÙŠØ±Ø© Ø§Ù„Ù†Ø¨ÙˆÙŠØ©</div>
                <p>Ø±Ø­Ù„Ø© Ø­ÙŠØ§Ø© Ø§Ù„Ù†Ø¨ÙŠ Ù…Ø­Ù…Ø¯ ï·º</p>
                <div class="dice-area">
                    <div class="dice" id="dice1">1</div>
                    <div class="dice" id="dice2">1</div>
                </div>
                <p>Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹: <span id="dice-total">2</span></p>
            </div>

            <div class="player player1" id="player1">1</div>
            <div class="player player2" id="player2">2</div>
        </div>

        <div class="controls">
            <button class="btn primary" id="roll-dice">ğŸ² Ø§Ø±Ù… Ø§Ù„Ù†Ø±Ø¯</button>
            <button class="btn danger" id="end-turn" disabled>â­ï¸ Ø§Ù†Ù‡Ø§Ø¡ Ø§Ù„Ø¯ÙˆØ±</button>
            <button class="btn" id="reset-game">ğŸ”„ Ù„Ø¹Ø¨Ø© Ø¬Ø¯ÙŠØ¯Ø©</button>
        </div>

        <div class="log" id="game-log">
            <div class="log-entry"><strong>Ù…Ø±Ø­Ø¨Ø§Ù‹ Ø¨ÙƒÙ… ÙÙŠ Ù„Ø¹Ø¨Ø© Ø§Ù„Ø³ÙŠØ±Ø© Ø§Ù„Ù†Ø¨ÙˆÙŠØ©!</strong></div>
            <div class="log-entry">ğŸ‘¦ Ø¯ÙˆØ± Ø§Ù„Ù„Ø§Ø¹Ø¨ Ø§Ù„Ø£ÙˆÙ„</div>
        </div>
    </div>

    <div id="buy-modal" class="modal">
        <div class="modal-content">
            <span class="close" id="close-buy-modal">&times;</span>
            <h2 id="property-name-modal">Ø§Ø³Ù… Ø§Ù„Ù…ÙˆÙ‚Ø¹</h2>
            <p>Ù‡Ù„ ØªØ±ÙŠØ¯ Ø´Ø±Ø§Ø¡ Ù‡Ø°Ø§ Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ø§Ù„ØªØ§Ø±ÙŠØ®ÙŠØŸ</p>
            <p>ğŸ’° Ø§Ù„Ø³Ø¹Ø±: <span id="property-price-modal">0</span> Ø¯Ø±Ù‡Ù…</p>
            <button class="btn primary" id="buy-yes">ğŸ‘ Ù†Ø¹Ù…ØŒ Ø£Ø±ÙŠØ¯ Ø§Ù„Ø´Ø±Ø§Ø¡</button>
            <button class="btn danger" id="buy-no">ğŸ‘ Ù„Ø§ØŒ Ø´ÙƒØ±Ø§Ù‹</button>
        </div>
    </div>

    <div id="rent-modal" class="modal">
        <div class="modal-content">
            <span class="close" id="close-rent-modal">&times;</span>
            <h2>Ø¯ÙØ¹ Ø²ÙƒØ§Ø©</h2>
            <p id="rent-message">ÙŠØ¬Ø¨ Ø¯ÙØ¹ Ø²ÙƒØ§Ø©</p>
            <button class="btn danger" id="pay-rent">ğŸ’¸ Ø¯ÙØ¹ Ø§Ù„Ø²ÙƒØ§Ø©</button>
        </div>
    </div>

    <div id="game-over-modal" class="modal">
        <div class="modal-content">
            <h2 style="color: #8e6c88;">ğŸ‰ Ø§Ù†ØªÙ‡Øª Ø§Ù„Ù„Ø¹Ø¨Ø©! ğŸ‰</h2>
            <p id="winner-message" style="font-size: 1.5em; margin: 20px 0;">Ø§Ù„ÙØ§Ø¦Ø² Ù‡Ùˆ</p>
            <button class="btn primary" id="new-game">ğŸ”„ Ù„Ø¹Ø¨Ø© Ø¬Ø¯ÙŠØ¯Ø©</button>
        </div>
    </div>

    <script>
        class SeerahGame {
            constructor() {
                this.currentPlayer = 1;
                this.players = {
                    1: { name: "ğŸ‘¦ Ø§Ù„Ù„Ø§Ø¹Ø¨ Ø§Ù„Ø£ÙˆÙ„", money: 1500, position: 0, properties: [], inJail: false, jailTurns: 0 },
                    2: { name: "ğŸ‘§ Ø§Ù„Ù„Ø§Ø¹Ø¨ Ø§Ù„Ø«Ø§Ù†ÙŠ", money: 1500, position: 0, properties: [], inJail: false, jailTurns: 0 }
                };
                this.properties = this.initializeProperties();
                this.positions = this.initializePositions();
                this.gameLog = document.getElementById('game-log');
                this.currentPropertyId = null; // ID of the property the player landed on
                this.diceRolled = false;
                this.isModalOpen = false; // Ù„ØªØªØ¨Ø¹ Ø¥Ø°Ø§ ÙƒØ§Ù†Øª Ù†Ø§ÙØ°Ø© Ù…Ù†Ø¨Ø«Ù‚Ø© Ù…ÙØªÙˆØ­Ø©
                
                this.initializeEventListeners();
                this.updateDisplay();
                this.updatePlayerPositions();
                this.updateControlButtons();
                this.addLog(`<strong>Ù…Ø±Ø­Ø¨Ø§Ù‹ Ø¨ÙƒÙ… ÙÙŠ Ù„Ø¹Ø¨Ø© Ø§Ù„Ø³ÙŠØ±Ø© Ø§Ù„Ù†Ø¨ÙˆÙŠØ©!</strong>`);
                this.addLog(`<strong>${this.players[this.currentPlayer].name}</strong>ØŒ Ø¯ÙˆØ±Ùƒ Ù„Ø±Ù…ÙŠ Ø§Ù„Ù†Ø±Ø¯.`);
            }

            initializeProperties() {
                const props = {};
                // Ø£Ø­Ø¯Ø§Ø« Ø§Ù„Ø³ÙŠØ±Ø© Ø§Ù„Ù†Ø¨ÙˆÙŠØ© Ù…Ø¹ Ø£Ø³Ø¹Ø§Ø± Ù…Ù†Ø§Ø³Ø¨Ø©
                // Ù…Ù„Ø§Ø­Ø¸Ø©: IDs ØªØ¨Ø¯Ø£ Ù…Ù† 1 ÙˆØªÙ†ØªÙ‡ÙŠ Ø¨Ù€ 27 (Ø§Ù„Ù…ÙˆØ§Ù‚Ø¹)
                const propertyData = [
                    // Start (ID 0) - Corner, no property
                    { id: 1, name: 'ğŸ  Ù…ÙˆÙ„Ø¯ Ø§Ù„Ù†Ø¨ÙŠ', price: 60, rent: 10, description: 'Ù…ÙˆÙ„Ø¯ Ø§Ù„Ù†Ø¨ÙŠ Ù…Ø­Ù…Ø¯ ï·º ÙÙŠ Ù…ÙƒØ© Ø¹Ø§Ù… Ø§Ù„ÙÙŠÙ„' },
                    { id: 2, name: 'ğŸ‘¶ Ø±Ø¶Ø§Ø¹Ø© Ø§Ù„Ù†Ø¨ÙŠ', price: 60, rent: 10, description: 'Ø±Ø¶Ø§Ø¹Ø© Ø§Ù„Ù†Ø¨ÙŠ ÙÙŠ Ø¨Ù†ÙŠ Ø³Ø¹Ø¯ Ø¹Ù†Ø¯ Ø­Ù„ÙŠÙ…Ø© Ø§Ù„Ø³Ø¹Ø¯ÙŠØ©' },
                    { id: 3, name: 'ğŸ‘¦ Ø´Ø¨Ø§Ø¨ Ø§Ù„Ù†Ø¨ÙŠ', price: 80, rent: 15, description: 'Ø´Ø¨Ø§Ø¨ Ø§Ù„Ù†Ø¨ÙŠ ÙˆØ§Ø´ØªØºØ§Ù„Ù‡ Ø¨Ø§Ù„ØªØ¬Ø§Ø±Ø© ÙˆØ±Ø¹Ø§ÙŠØ© Ø§Ù„ØºÙ†Ù…' },
                    { id: 4, name: 'ğŸ’ Ø²ÙˆØ§Ø¬ Ø§Ù„Ù†Ø¨ÙŠ', price: 80, rent: 15, description: 'Ø²ÙˆØ§Ø¬ Ø§Ù„Ù†Ø¨ÙŠ Ù…Ù† Ø®Ø¯ÙŠØ¬Ø© Ø¨Ù†Øª Ø®ÙˆÙŠÙ„Ø¯ Ø±Ø¶ÙŠ Ø§Ù„Ù„Ù‡ Ø¹Ù†Ù‡Ø§' },
                    { id: 5, name: 'ğŸ•‹ Ù†Ø²ÙˆÙ„ Ø§Ù„ÙˆØ­ÙŠ', price: 100, rent: 20, description: 'Ù†Ø²ÙˆÙ„ Ø§Ù„ÙˆØ­ÙŠ Ø¹Ù„Ù‰ Ø§Ù„Ù†Ø¨ÙŠ ÙÙŠ ØºØ§Ø± Ø­Ø±Ø§Ø¡' },
                    { id: 6, name: 'ğŸ“œ Ø§Ù„Ø¯Ø¹ÙˆØ© Ø§Ù„Ø³Ø±ÙŠØ©', price: 100, rent: 20, description: 'Ø§Ù„Ø¯Ø¹ÙˆØ© Ø§Ù„Ø³Ø±ÙŠØ© Ù„Ù„Ø¥Ø³Ù„Ø§Ù… ÙÙŠ Ø¯Ø§Ø± Ø§Ù„Ø£Ø±Ù‚Ù…' },
                    // Jail (ID 7) - Corner, no property
                    { id: 8, name: 'ğŸ“¢ Ø§Ù„Ø¯Ø¹ÙˆØ© Ø§Ù„Ø¬Ù‡Ø±ÙŠØ©', price: 120, rent: 25, description: 'Ø§Ù„Ø¯Ø¹ÙˆØ© Ø§Ù„Ø¬Ù‡Ø±ÙŠØ© Ù„Ù„Ø¥Ø³Ù„Ø§Ù… Ø¹Ù„Ù‰ Ø¬Ø¨Ù„ Ø§Ù„ØµÙØ§' },
                    { id: 9, name: 'ğŸ•Œ Ø§Ù„Ù‡Ø¬Ø±Ø© Ø§Ù„Ø£ÙˆÙ„Ù‰', price: 120, rent: 25, description: 'Ù‡Ø¬Ø±Ø© Ø§Ù„Ù…Ø³Ù„Ù…ÙŠÙ† Ø§Ù„Ø£ÙˆÙ„Ù‰ Ø¥Ù„Ù‰ Ø§Ù„Ø­Ø¨Ø´Ø©' },
                    { id: 10, name: 'ğŸŒ™ Ø§Ù„Ø¥Ø³Ø±Ø§Ø¡ ÙˆØ§Ù„Ù…Ø¹Ø±Ø§Ø¬', price: 140, rent: 30, description: 'Ø±Ø­Ù„Ø© Ø§Ù„Ø¥Ø³Ø±Ø§Ø¡ ÙˆØ§Ù„Ù…Ø¹Ø±Ø§Ø¬ Ù…Ù† Ù…ÙƒØ© Ø¥Ù„Ù‰ Ø§Ù„Ù‚Ø¯Ø³ Ø«Ù… Ø§Ù„Ø³Ù…Ø§ÙˆØ§Øª' },
                    { id: 11, name: 'ğŸ¤ Ø¨ÙŠØ¹Ø© Ø§Ù„Ø¹Ù‚Ø¨Ø©', price: 140, rent: 30, description: 'Ø¨ÙŠØ¹Ø© Ø§Ù„Ø¹Ù‚Ø¨Ø© Ø§Ù„Ø£ÙˆÙ„Ù‰ ÙˆØ§Ù„Ø«Ø§Ù†ÙŠØ© Ù…Ø¹ Ø§Ù„Ø£Ù†ØµØ§Ø±' },
                    { id: 12, name: 'ğŸœï¸ Ø§Ù„Ù‡Ø¬Ø±Ø© Ø¥Ù„Ù‰ Ø§Ù„Ù…Ø¯ÙŠÙ†Ø©', price: 160, rent: 35, description: 'Ù‡Ø¬Ø±Ø© Ø§Ù„Ù†Ø¨ÙŠ ï·º Ù…Ù† Ù…ÙƒØ© Ø¥Ù„Ù‰ Ø§Ù„Ù…Ø¯ÙŠÙ†Ø©' },
                    { id: 13, name: 'ğŸ•Œ Ø¨Ù†Ø§Ø¡ Ø§Ù„Ù…Ø³Ø¬Ø¯', price: 160, rent: 35, description: 'Ø¨Ù†Ø§Ø¡ Ø§Ù„Ù…Ø³Ø¬Ø¯ Ø§Ù„Ù†Ø¨ÙˆÙŠ ÙÙŠ Ø§Ù„Ù…Ø¯ÙŠÙ†Ø© Ø§Ù„Ù…Ù†ÙˆØ±Ø©' },
                    // Parking (ID 14) - Corner, no property
                    { id: 15, name: 'âš”ï¸ ØºØ²ÙˆØ© Ø¨Ø¯Ø±', price: 180, rent: 40, description: 'ØºØ²ÙˆØ© Ø¨Ø¯Ø± Ø§Ù„ÙƒØ¨Ø±Ù‰ Ø£ÙˆÙ„ Ù…Ø¹Ø±ÙƒØ© ÙÙŠ Ø§Ù„Ø¥Ø³Ù„Ø§Ù…' },
                    { id: 16, name: 'ğŸ›¡ï¸ ØºØ²ÙˆØ© Ø£Ø­Ø¯', price: 180, rent: 40, description: 'ØºØ²ÙˆØ© Ø£Ø­Ø¯ ÙˆØ§Ø³ØªØ´Ù‡Ø§Ø¯ Ø­Ù…Ø²Ø© Ø¨Ù† Ø¹Ø¨Ø¯ Ø§Ù„Ù…Ø·Ù„Ø¨' },
                    { id: 17, name: 'ğŸ•ï¸ ØºØ²ÙˆØ© Ø§Ù„Ø®Ù†Ø¯Ù‚', price: 200, rent: 45, description: 'ØºØ²ÙˆØ© Ø§Ù„Ø®Ù†Ø¯Ù‚ (Ø§Ù„Ø£Ø­Ø²Ø§Ø¨) ÙˆØ­ÙØ± Ø§Ù„Ø®Ù†Ø¯Ù‚' },
                    { id: 18, name: 'âœï¸ ØµÙ„Ø­ Ø§Ù„Ø­Ø¯ÙŠØ¨ÙŠØ©', price: 200, rent: 45, description: 'ØµÙ„Ø­ Ø§Ù„Ø­Ø¯ÙŠØ¨ÙŠØ© ÙˆØ¨ÙŠØ¹Ø© Ø§Ù„Ø±Ø¶ÙˆØ§Ù†' },
                    { id: 19, name: 'ğŸ“¨ Ø±Ø³Ø§Ø¦Ù„ Ø§Ù„Ù…Ù„ÙˆÙƒ', price: 220, rent: 50, description: 'Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø±Ø³Ø§Ø¦Ù„ Ø¥Ù„Ù‰ Ù…Ù„ÙˆÙƒ Ø§Ù„Ø¹Ø§Ù„Ù… ÙŠØ¯Ø¹ÙˆÙ‡Ù… Ù„Ù„Ø¥Ø³Ù„Ø§Ù…' },
                    { id: 20, name: 'ğŸ•Šï¸ ÙØªØ­ Ù…ÙƒØ©', price: 220, rent: 50, description: 'ÙØªØ­ Ù…ÙƒØ© ÙˆØ¯Ø®ÙˆÙ„ Ø§Ù„Ù†Ø¨ÙŠ ï·º Ù…Ù†ØªØµØ±Ø§Ù‹' },
                    // Go To Jail (ID 21) - Corner, no property
                    { id: 22, name: 'ğŸ•Œ Ø­Ø¬Ø© Ø§Ù„ÙˆØ¯Ø§Ø¹', price: 240, rent: 55, description: 'Ø­Ø¬Ø© Ø§Ù„ÙˆØ¯Ø§Ø¹ ÙˆØ®Ø·Ø¨Ø© Ø§Ù„Ù†Ø¨ÙŠ ÙÙŠ Ø¹Ø±ÙØ©' },
                    { id: 23, name: 'ğŸ“– Ø®Ø·Ø¨Ø© Ø§Ù„ÙˆØ¯Ø§Ø¹', price: 240, rent: 55, description: 'Ø®Ø·Ø¨Ø© Ø§Ù„ÙˆØ¯Ø§Ø¹ Ø§Ù„ØªÙŠ Ø£ÙˆØµÙ‰ ÙÙŠÙ‡Ø§ Ø§Ù„Ù†Ø¨ÙŠ Ø¨Ø£Ù…ÙˆØ± ÙƒØ«ÙŠØ±Ø©' },
                    { id: 24, name: 'ğŸŒ… ÙˆÙØ§Ø© Ø§Ù„Ù†Ø¨ÙŠ', price: 260, rent: 60, description: 'ÙˆÙØ§Ø© Ø§Ù„Ù†Ø¨ÙŠ ï·º ÙˆØ§Ù†ØªÙ‚Ø§Ù„Ù‡ Ø¥Ù„Ù‰ Ø§Ù„Ø±ÙÙŠÙ‚ Ø§Ù„Ø£Ø¹Ù„Ù‰' },
                    { id: 25, name: 'ğŸ“š Ø§Ù„Ù‚Ø±Ø¢Ù† Ø§Ù„ÙƒØ±ÙŠÙ…', price: 260, rent: 60, description: 'Ø¬Ù…Ø¹ Ø§Ù„Ù‚Ø±Ø¢Ù† Ø§Ù„ÙƒØ±ÙŠÙ… ÙÙŠ Ø¹Ù‡Ø¯ Ø§Ù„Ø®Ù„ÙØ§Ø¡ Ø§Ù„Ø±Ø§Ø´Ø¯ÙŠÙ†' },
                    { id: 26, name: 'ğŸ•Œ Ø§Ù„Ù…Ø³Ø¬Ø¯ Ø§Ù„Ù†Ø¨ÙˆÙŠ', price: 280, rent: 65, description: 'Ø§Ù„Ù…Ø³Ø¬Ø¯ Ø§Ù„Ù†Ø¨ÙˆÙŠ Ø§Ù„Ø´Ø±ÙŠÙ ÙÙŠ Ø§Ù„Ù…Ø¯ÙŠÙ†Ø© Ø§Ù„Ù…Ù†ÙˆØ±Ø©' },
                    { id: 27, name: 'ğŸ“œ Ø§Ù„Ø³Ù†Ø© Ø§Ù„Ù†Ø¨ÙˆÙŠØ©', price: 280, rent: 65, description: 'Ø§Ù„Ø³Ù†Ø© Ø§Ù„Ù†Ø¨ÙˆÙŠØ© ÙˆØ­ÙØ¸Ù‡Ø§ ÙˆØªØ¯ÙˆÙŠÙ†Ù‡Ø§' }
                ];
                
                // Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…ÙˆØ§Ù‚Ø¹ Ø§Ù„Ø®Ø§ØµØ© (Ø§Ù„Ø²ÙˆØ§ÙŠØ§) Ø¨Ø¯ÙˆÙ† Ø³Ø¹Ø± Ø£Ùˆ Ø¥ÙŠØ¬Ø§Ø±
                props[0] = { name: 'Ø§Ù„Ø¨Ø¯Ø§ÙŠØ©', type: 'corner' };
                props[7] = { name: 'ØºØ§Ø± Ø­Ø±Ø§Ø¡', type: 'corner' };
                props[14] = { name: 'Ø§Ù„ÙƒØ¹Ø¨Ø©', type: 'corner' };
                props[21] = { name: 'Ø¥Ù„Ù‰ ØºØ§Ø± Ø­Ø±Ø§Ø¡', type: 'corner' };


                propertyData.forEach(p => {
                    props[p.id] = {
                        name: p.name,
                        price: p.price,
                        rent: p.rent,
                        description: p.description,
                        owner: null,
                        type: 'property' // Ù†ÙˆØ¹ Ø§Ù„Ù…ÙˆÙ‚Ø¹
                    };
                });
                return props;
            }

            initializePositions() {
                // ØªÙ…Ø«Ù„ ÙƒÙ„ Ù…ÙˆÙ‚Ø¹ Ø¹Ù„Ù‰ Ø§Ù„Ù„ÙˆØ­Ø©ØŒ Ø¨Ø¯Ø¡Ø§Ù‹ Ù…Ù† 0 ÙˆØ§Ù†ØªÙ‡Ø§Ø¡Ù‹ Ø¨Ù€ 27 (Ø¥Ø¬Ù…Ø§Ù„ÙŠ 28 Ù…ÙˆÙ‚Ø¹)
                // ÙŠØ¬Ø¨ Ø£Ù† ØªØªØ·Ø§Ø¨Ù‚ Ù‡Ø°Ù‡ Ø§Ù„Ø¥Ø­Ø¯Ø§Ø«ÙŠØ§Øª Ù…Ø¹ Ø§Ù„Ù€ CSS classes (prop-pos-X)
                // Offset players slightly for better visibility
                const player1OffsetX = -40; // Ù„Ù„Ø§Ø¹Ø¨ 1
                const player2OffsetX = -15; // Ù„Ù„Ø§Ø¹Ø¨ 2
                const playerOffsetY = 15;

                return [
                    {x: 545 + player1OffsetX, y: 545 + playerOffsetY, p2x: 545 + player2OffsetX, p2y: 545 + playerOffsetY}, // 0: Ø§Ù„Ø¨Ø¯Ø§ÙŠØ© (start)
                    {x: 465 + player1OffsetX, y: 545 + playerOffsetY, p2x: 465 + player2OffsetX, p2y: 545 + playerOffsetY}, // 1
                    {x: 385 + player1OffsetX, y: 545 + playerOffsetY, p2x: 385 + player2OffsetX, p2y: 545 + playerOffsetY}, // 2
                    {x: 305 + player1OffsetX, y: 545 + playerOffsetY, p2x: 305 + player2OffsetX, p2y: 545 + playerOffsetY}, // 3
                    {x: 225 + player1OffsetX, y: 545 + playerOffsetY, p2x: 225 + player2OffsetX, p2y: 545 + playerOffsetY}, // 4
                    {x: 145 + player1OffsetX, y: 545 + playerOffsetY, p2x: 145 + player2OffsetX, p2y: 545 + playerOffsetY}, // 5
                    {x: 65 + player1OffsetX, y: 545 + playerOffsetY, p2x: 65 + player2OffsetX, p2y: 545 + playerOffsetY}, // 6
                    {x: 45 + player1OffsetX, y: 545 + playerOffsetY, p2x: 45 + player2OffsetX, p2y: 545 + playerOffsetY},  // 7: ØºØ§Ø± Ø­Ø±Ø§Ø¡ (jail position)
                    {x: 45 + player1OffsetX, y: 465 + playerOffsetY, p2x: 45 + player2OffsetX, p2y: 465 + playerOffsetY}, // 8
                    {x: 45 + player1OffsetX, y: 385 + playerOffsetY, p2x: 45 + player2OffsetX, p2y: 385 + playerOffsetY}, // 9
                    {x: 45 + player1OffsetX, y: 305 + playerOffsetY, p2x: 45 + player2OffsetX, p2y: 305 + playerOffsetY}, // 10
                    {x: 45 + player1OffsetX, y: 225 + playerOffsetY, p2x: 45 + player2OffsetX, p2y: 225 + playerOffsetY}, // 11
                    {x: 45 + player1OffsetX, y: 145 + playerOffsetY, p2x: 45 + player2OffsetX, p2y: 145 + playerOffsetY}, // 12
                    {x: 45 + player1OffsetX, y: 65 + playerOffsetY, p2x: 45 + player2OffsetX, p2y: 65 + playerOffsetY}, // 13
                    {x: 45 + player1OffsetX, y: 45 + playerOffsetY, p2x: 45 + player2OffsetX, p2y: 45 + playerOffsetY},    // 14: Ø§Ù„ÙƒØ¹Ø¨Ø© (parking position)
                    {x: 125 + player1OffsetX, y: 45 + playerOffsetY, p2x: 125 + player2OffsetX, p2y: 45 + playerOffsetY}, // 15
                    {x: 205 + player1OffsetX, y: 45 + playerOffsetY, p2x: 205 + player2OffsetX, p2y: 45 + playerOffsetY}, // 16
                    {x: 285 + player1OffsetX, y: 45 + playerOffsetY, p2x: 285 + player2OffsetX, p2y: 45 + playerOffsetY}, // 17
                    {x: 365 + player1OffsetX, y: 45 + playerOffsetY, p2x: 365 + player2OffsetX, p2y: 45 + playerOffsetY}, // 18
                    {x: 445 + player1OffsetX, y: 45 + playerOffsetY, p2x: 445 + player2OffsetX, p2y: 45 + playerOffsetY}, // 19
                    {x: 525 + player1OffsetX, y: 45 + playerOffsetY, p2x: 525 + player2OffsetX, p2y: 45 + playerOffsetY}, // 20
                    {x: 545 + player1OffsetX, y: 45 + playerOffsetY, p2x: 545 + player2OffsetX, p2y: 45 + playerOffsetY},  // 21: Ø§Ø°Ù‡Ø¨ Ø¥Ù„Ù‰ ØºØ§Ø± Ø­Ø±Ø§Ø¡ (go-jail position)
                    {x: 545 + player1OffsetX, y: 125 + playerOffsetY, p2x: 545 + player2OffsetX, p2y: 125 + playerOffsetY}, // 22
                    {x: 545 + player1OffsetX, y: 205 + playerOffsetY, p2x: 545 + player2OffsetX, p2y: 205 + playerOffsetY}, // 23
                    {x: 545 + player1OffsetX, y: 285 + playerOffsetY, p2x: 545 + player2OffsetX, p2y: 285 + playerOffsetY}, // 24
                    {x: 545 + player1OffsetX, y: 365 + playerOffsetY, p2x: 545 + player2OffsetX, p2y: 365 + playerOffsetY}, // 25
                    {x: 545 + player1OffsetX, y: 445 + playerOffsetY, p2x: 545 + player2OffsetX, p2y: 445 + playerOffsetY}, // 26
                    {x: 545 + player1OffsetX, y: 525 + playerOffsetY, p2x: 545 + player2OffsetX, p2y: 525 + playerOffsetY}  // 27
                ];
            }

            initializeEventListeners() {
                document.getElementById('roll-dice').addEventListener('click', () => this.rollDice());
                document.getElementById('end-turn').addEventListener('click', () => this.endTurn());
                document.getElementById('reset-game').addEventListener('click', () => this.resetGame());
                document.getElementById('buy-yes').addEventListener('click', () => this.buyProperty());
                document.getElementById('buy-no').addEventListener('click', () => this.closeBuyModal());
                document.getElementById('pay-rent').addEventListener('click', () => this.payRent());
                document.getElementById('new-game').addEventListener('click', () => this.resetGame());
                
                // Ø¥ØºÙ„Ø§Ù‚ Ø§Ù„Ù†ÙˆØ§ÙØ° Ø§Ù„Ù…Ù†Ø¨Ø«Ù‚Ø©
                document.getElementById('close-buy-modal').addEventListener('click', () => this.closeBuyModal());
                document.getElementById('close-rent-modal').addEventListener('click', () => this.closeRentModal());
                
                // Ø¥ØºÙ„Ø§Ù‚ Ø§Ù„Ù†ÙˆØ§ÙØ° Ø¹Ù†Ø¯ Ø§Ù„Ù†Ù‚Ø± Ø®Ø§Ø±Ø¬Ù‡Ø§ - ØªÙ… ØªØ¹Ø¯ÙŠÙ„Ù‡ Ù„ÙŠÙƒÙˆÙ† Ø£ÙƒØ«Ø± ØªØ­Ø¯ÙŠØ¯Ø§Ù‹
                window.addEventListener('click', (e) => {
                    const buyModal = document.getElementById('buy-modal');
                    const rentModal = document.getElementById('rent-modal');
                    const gameOverModal = document.getElementById('game-over-modal');

                    if (e.target === buyModal) this.closeBuyModal();
                    if (e.target === rentModal) this.closeRentModal();
                    if (e.target === gameOverModal) gameOverModal.style.display = 'none'; // Ù„Ø§ ØªØ¹ÙŠØ¯ ØªÙØ¹ÙŠÙ„ Ø§Ù„Ø£Ø²Ø±Ø§Ø± Ù‡Ù†Ø§
                });

                // Ø¥Ø¶Ø§ÙØ© Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø³ÙŠØ±Ø© Ø¹Ù†Ø¯ Ø§Ù„Ù†Ù‚Ø± Ø¹Ù„Ù‰ Ø§Ù„Ù…Ø±Ø¨Ø¹Ø§Øª
                document.querySelectorAll('.property').forEach(prop => {
                    prop.addEventListener('click', () => {
                        const id = parseInt(prop.dataset.id); // ØªØ­ÙˆÙŠÙ„ Ø¥Ù„Ù‰ Ø¹Ø¯Ø¯ ØµØ­ÙŠØ­
                        if (this.properties[id] && this.properties[id].type === 'property') {
                            const property = this.properties[id];
                            alert(`${property.name}\n\n${property.description}\n\nØ§Ù„Ø³Ø¹Ø±: ${property.price} Ø¯Ø±Ù‡Ù…\nØ§Ù„Ø¥ÙŠØ¬Ø§Ø±: ${property.rent} Ø¯Ø±Ù‡Ù…`);
                        } else if (this.properties[id] && this.properties[id].type === 'corner') {
                            const cornerInfo = {
                                0: "Ù†Ù‚Ø·Ø© Ø§Ù„Ø¨Ø¯Ø§ÙŠØ©! ØªØ­ØµÙ„ Ø¹Ù„Ù‰ 200 Ø¯Ø±Ù‡Ù… Ø¹Ù†Ø¯ Ø§Ù„Ù…Ø±ÙˆØ± Ø£Ùˆ Ø§Ù„Ù‡Ø¨ÙˆØ· Ø¹Ù„ÙŠÙ‡Ø§.",
                                7: "ØºØ§Ø± Ø­Ø±Ø§Ø¡! Ù…ÙƒØ§Ù† Ù„Ù„ØªØ£Ù…Ù„ ÙˆØ§Ù„ØªØ¹Ø¨Ø¯ (Ù…Ø«Ù„ Ø§Ù„Ø³Ø¬Ù†). ØªØ¨Ù‚Ù‰ Ù‡Ù†Ø§ Ù„Ø¯ÙˆØ± ÙˆØ§Ø­Ø¯.",
                                14: "Ø§Ù„ÙƒØ¹Ø¨Ø©! Ù…ÙƒØ§Ù† Ù„Ù„Ø·ÙˆØ§Ù Ø§Ù„Ù…Ø¬Ø§Ù†ÙŠØŒ Ø§Ø³ØªØ±Ø§Ø­Ø© Ù„Ùƒ.",
                                21: "Ø¥Ù„Ù‰ ØºØ§Ø± Ø­Ø±Ø§Ø¡! ØªØ°Ù‡Ø¨ Ù…Ø¨Ø§Ø´Ø±Ø© Ø¥Ù„Ù‰ ØºØ§Ø± Ø­Ø±Ø§Ø¡."
                            };
                            alert(`${this.properties[id].name}\n\n${cornerInfo[id]}`);
                        }
                    });
                });
            }

            updateControlButtons() {
                const rollDiceBtn = document.getElementById('roll-dice');
                const endTurnBtn = document.getElementById('end-turn');

                rollDiceBtn.disabled = this.diceRolled || this.isModalOpen;
                endTurnBtn.disabled = !this.diceRolled || this.isModalOpen;
            }

            addLog(message) {
                const entry = document.createElement('div');
                entry.classList.add('log-entry');
                entry.innerHTML = message;
                this.gameLog.prepend(entry);
                this.gameLog.scrollTop = 0; // ØªØ£ÙƒØ¯ Ù…Ù† Ø£Ù† Ø§Ù„Ø³Ø¬Ù„ ÙŠØ¸Ù‡Ø± Ø£Ø­Ø¯Ø« Ø§Ù„Ø¥Ø¯Ø®Ø§Ù„Ø§Øª
            }

            updateDisplay() {
                const player1 = this.players[1];
                const player2 = this.players[2];

                document.getElementById('player1-money').textContent = player1.money;
                document.getElementById('player1-properties').textContent = player1.properties.length;
                document.getElementById('player2-money').textContent = player2.money;
                document.getElementById('player2-properties').textContent = player2.properties.length;

                // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù„Ø§Ø¹Ø¨ Ø§Ù„Ù†Ø´Ø·
                document.getElementById('player-info-1').classList.remove('current-player');
                document.getElementById('player-info-2').classList.remove('current-player');
                document.getElementById(`player-info-${this.currentPlayer}`).classList.add('current-player');

                // ØªØ­Ø¯ÙŠØ« Ø£Ù„ÙˆØ§Ù† Ø§Ù„Ù…ÙˆØ§Ù‚Ø¹ Ø§Ù„Ù…Ù…Ù„ÙˆÙƒØ©
                document.querySelectorAll('.property').forEach(propElement => {
                    const id = parseInt(propElement.dataset.id);
                    if (!isNaN(id) && this.properties[id] && this.properties[id].type === 'property') {
                        propElement.classList.remove('owned-1', 'owned-2');
                        if (this.properties[id].owner === 1) {
                            propElement.classList.add('owned-1');
                        } else if (this.properties[id].owner === 2) {
                            propElement.classList.add('owned-2');
                        }
                    }
                });

                this.updateControlButtons();
            }

            updatePlayerPositions() {
                const player1Element = document.getElementById('player1');
                const player2Element = document.getElementById('player2');

                const p1Pos = this.positions[this.players[1].position];
                const p2Pos = this.positions[this.players[2].position];

                player1Element.style.right = `${p1Pos.x}px`;
                player1Element.style.top = `${p1Pos.y}px`;

                // Adjust player 2 position if they are on the same square
                if (this.players[1].position === this.players[2].position) {
                    player2Element.style.right = `${p2Pos.p2x}px`; // Use p2x for player 2 on same square
                    player2Element.style.top = `${p2Pos.p2y}px`;   // Use p2y for player 2 on same square
                } else {
                    player2Element.style.right = `${p2Pos.x}px`;
                    player2Element.style.top = `${p2Pos.y}px`;
                }
            }

            rollDice() {
                if (this.diceRolled || this.isModalOpen) return;
                
                this.diceRolled = true;
                this.updateControlButtons();

                const player = this.players[this.currentPlayer];

                if (player.inJail) {
                    player.jailTurns++;
                    if (player.jailTurns < 3) {
                        this.addLog(`${player.name} ÙÙŠ ØºØ§Ø± Ø­Ø±Ø§Ø¡. ØªØ¨Ù‚Ù‰ Ù„Ø¯ÙŠÙ‡ ${3 - player.jailTurns} Ø£Ø¯ÙˆØ§Ø± Ù„ÙŠØ®Ø±Ø¬.`);
                        this.switchPlayer();
                        return;
                    } else {
                        this.addLog(`${player.name} Ù‚Ø¶Ù‰ 3 Ø£Ø¯ÙˆØ§Ø± ÙÙŠ ØºØ§Ø± Ø­Ø±Ø§Ø¡. Ø³ÙŠØ®Ø±Ø¬ Ø§Ù„Ø¢Ù†.`);
                        player.inJail = false;
                        player.jailTurns = 0;
                    }
                }

                const dice1 = Math.floor(Math.random() * 6) + 1;
                const dice2 = Math.floor(Math.random() * 6) + 1;
                const total = dice1 + dice2;

                document.getElementById('dice1').classList.add('rolling');
                document.getElementById('dice2').classList.add('rolling');

                setTimeout(() => {
                    document.getElementById('dice1').textContent = dice1;
                    document.getElementById('dice2').textContent = dice2;
                    document.getElementById('dice-total').textContent = total;

                    document.getElementById('dice1').classList.remove('rolling');
                    document.getElementById('dice2').classList.remove('rolling');
                    this.addLog(`${player.name} Ø±Ù…Ù‰ Ø§Ù„Ù†Ø±Ø¯ ÙˆØ­ØµÙ„ Ø¹Ù„Ù‰ ${dice1} Ùˆ ${dice2} (Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹: ${total}).`);
                    this.movePlayer(total);
                }, 800); // ÙˆÙ‚Øª Ù„Ù„Ø£Ù†ÙŠÙ…ÙŠØ´Ù†
            }

            movePlayer(steps) {
                const player = this.players[this.currentPlayer];
                const oldPosition = player.position;
                let newPosition = (oldPosition + steps) % this.positions.length; // 28 squares (0-27)

                // Check if player passed or landed on "Start" (position 0)
                if (newPosition < oldPosition && !player.inJail) { // If player wrapped around the board
                    player.money += 200;
                    this.addLog(`${player.name} Ù…Ø± Ù…Ù† Ø§Ù„Ø¨Ø¯Ø§ÙŠØ© ÙˆØ­ØµÙ„ Ø¹Ù„Ù‰ <strong>200 Ø¯Ø±Ù‡Ù…</strong>.`);
                    this.updateDisplay();
                }

                player.position = newPosition;
                this.updatePlayerPositions();

                // Wait for player movement animation to finish
                setTimeout(() => {
                    this.handleLandingOnSquare(player.position);
                }, 600); // Slightly longer than player transition time
            }

            handleLandingOnSquare(positionId) {
                const player = this.players[this.currentPlayer];
                const landedProperty = this.properties[positionId];

                if (!landedProperty) {
                    this.addLog(`Ø®Ø·Ø£: Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø¹Ù† Ø§Ù„Ù…ÙˆÙ‚Ø¹ ID: ${positionId}`);
                    this.updateControlButtons(); // ØªÙØ¹ÙŠÙ„ Ø²Ø± Ø¥Ù†Ù‡Ø§Ø¡ Ø§Ù„Ø¯ÙˆØ±
                    return;
                }

                switch (landedProperty.type) {
                    case 'property':
                        if (landedProperty.owner === null) {
                            this.currentPropertyId = positionId;
                            this.showBuyModal(landedProperty);
                        } else if (landedProperty.owner !== this.currentPlayer) {
                            this.currentPropertyId = positionId;
                            this.showRentModal(landedProperty);
                        } else {
                            this.addLog(`${player.name} Ù‡Ø¨Ø· Ø¹Ù„Ù‰ Ù…ÙˆÙ‚Ø¹Ù‡ Ø§Ù„Ø®Ø§Øµ <strong>${landedProperty.name}</strong>. Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø´ÙŠØ¡ ÙŠØ¯ÙØ¹Ù‡.`);
                            this.updateControlButtons(); // ØªÙØ¹ÙŠÙ„ Ø²Ø± Ø¥Ù†Ù‡Ø§Ø¡ Ø§Ù„Ø¯ÙˆØ±
                        }
                        break;
                    case 'corner':
                        if (positionId === 7) { // ØºØ§Ø± Ø­Ø±Ø§Ø¡ (Jail)
                            this.addLog(`${player.name} ÙˆØµÙ„ Ø¥Ù„Ù‰ <strong>ØºØ§Ø± Ø­Ø±Ø§Ø¡</strong> (ØªØ£Ù…Ù„ ÙˆØªØ¹Ø¨Ø¯). Ø³ÙŠØ¨Ù‚Ù‰ Ù„Ø¯ÙˆØ± ÙˆØ§Ø­Ø¯.`);
                            player.inJail = true;
                            player.jailTurns = 0; // Reset jail turns
                            player.position = 7; // Ensure player is exactly on jail square
                            this.updatePlayerPositions();
                            this.updateControlButtons(); // ØªÙØ¹ÙŠÙ„ Ø²Ø± Ø¥Ù†Ù‡Ø§Ø¡ Ø§Ù„Ø¯ÙˆØ±
                        } else if (positionId === 21) { // Ø¥Ù„Ù‰ ØºØ§Ø± Ø­Ø±Ø§Ø¡ (Go to Jail)
                            this.addLog(`${player.name} ÙŠØ¬Ø¨ Ø£Ù† ÙŠØ°Ù‡Ø¨ Ø¥Ù„Ù‰ <strong>ØºØ§Ø± Ø­Ø±Ø§Ø¡</strong>!`);
                            player.inJail = true;
                            player.jailTurns = 0; // Reset jail turns
                            player.position = 7; // Move player to jail square
                            this.updatePlayerPositions();
                            this.updateControlButtons(); // ØªÙØ¹ÙŠÙ„ Ø²Ø± Ø¥Ù†Ù‡Ø§Ø¡ Ø§Ù„Ø¯ÙˆØ±
                        } else if (positionId === 0) { // Ø§Ù„Ø¨Ø¯Ø§ÙŠØ©
                             // ØªÙ… Ø§Ù„ØªØ¹Ø§Ù…Ù„ Ù…Ø¹ Ù…ÙƒØ§ÙØ£Ø© Ø§Ù„Ø¨Ø¯Ø§ÙŠØ© Ø¨Ø§Ù„ÙØ¹Ù„ ÙÙŠ movePlayer
                            this.addLog(`${player.name} ÙˆØµÙ„ Ø¥Ù„Ù‰ <strong>Ø§Ù„Ø¨Ø¯Ø§ÙŠØ©</strong>.`);
                            this.updateControlButtons(); // ØªÙØ¹ÙŠÙ„ Ø²Ø± Ø¥Ù†Ù‡Ø§Ø¡ Ø§Ù„Ø¯ÙˆØ±
                        } else if (positionId === 14) { // Ø§Ù„ÙƒØ¹Ø¨Ø© (Parking)
                            this.addLog(`${player.name} ÙˆØµÙ„ Ø¥Ù„Ù‰ <strong>Ø§Ù„ÙƒØ¹Ø¨Ø©</strong>. Ø·ÙˆØ§Ù Ù…Ø¬Ø§Ù†ÙŠ!`);
                            this.updateControlButtons(); // ØªÙØ¹ÙŠÙ„ Ø²Ø± Ø¥Ù†Ù‡Ø§Ø¡ Ø§Ù„Ø¯ÙˆØ±
                        }
                        break;
                    default:
                        this.addLog(`${player.name} Ù‡Ø¨Ø· Ø¹Ù„Ù‰ Ù…ÙˆÙ‚Ø¹ ØºÙŠØ± Ù…Ø¹Ø±ÙˆÙ.`);
                        this.updateControlButtons(); // ØªÙØ¹ÙŠÙ„ Ø²Ø± Ø¥Ù†Ù‡Ø§Ø¡ Ø§Ù„Ø¯ÙˆØ±
                        break;
                }
            }

            showBuyModal(property) {
                this.isModalOpen = true;
                this.updateControlButtons();
                document.getElementById('property-name-modal').textContent = property.name;
                document.getElementById('property-price-modal').textContent = property.price;
                document.getElementById('buy-modal').style.display = 'flex'; // Ø§Ø³ØªØ®Ø¯Ø§Ù… flex Ù„ØªÙˆØ³ÙŠØ· Ø§Ù„Ù…ÙˆØ¯Ø§Ù„
            }

            closeBuyModal() {
                document.getElementById('buy-modal').style.display = 'none';
                this.isModalOpen = false;
                this.updateControlButtons();
                // Ø¥Ø°Ø§ Ø±ÙØ¶ Ø§Ù„Ù„Ø§Ø¹Ø¨ Ø§Ù„Ø´Ø±Ø§Ø¡ØŒ ÙŠÙ†ØªÙ‚Ù„ Ø§Ù„Ø¯ÙˆØ± ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹
                // Ù„Ø§ Ù†Ù†ØªÙ‚Ù„ Ù‡Ù†Ø§ØŒ Ù„Ø£Ù† Ø²Ø± Ø¥Ù†Ù‡Ø§Ø¡ Ø§Ù„Ø¯ÙˆØ± Ù‡Ùˆ Ø§Ù„Ù…Ø³Ø¤ÙˆÙ„
            }

            buyProperty() {
                const player = this.players[this.currentPlayer];
                const property = this.properties[this.currentPropertyId];

                if (player.money >= property.price) {
                    player.money -= property.price;
                    property.owner = this.currentPlayer;
                    player.properties.push(this.currentPropertyId);
                    this.addLog(`${player.name} Ø§Ø´ØªØ±Ù‰ <strong>${property.name}</strong> Ø¨Ù€ <strong>${property.price} Ø¯Ø±Ù‡Ù…</strong>.`);
                    this.updateDisplay();
                    this.closeBuyModal();
                } else {
                    alert(`${player.name} Ù„ÙŠØ³ Ù„Ø¯ÙŠÙ‡ Ù…Ø§ ÙŠÙƒÙÙŠ Ù…Ù† Ø§Ù„Ø£Ù…ÙˆØ§Ù„ Ù„Ø´Ø±Ø§Ø¡ ${property.name}.`);
                    this.addLog(`${player.name} Ø­Ø§ÙˆÙ„ Ø´Ø±Ø§Ø¡ <strong>${property.name}</strong> Ù„ÙƒÙ† Ù„ÙŠØ³ Ù„Ø¯ÙŠÙ‡ Ù…Ø§ ÙŠÙƒÙÙŠ Ù…Ù† Ø§Ù„Ø£Ù…ÙˆØ§Ù„.`);
                    this.closeBuyModal(); // Ø£ØºÙ„Ù‚ Ø§Ù„Ù…ÙˆØ¯Ø§Ù„ Ø­ØªÙ‰ Ù„Ùˆ Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø´Ø±Ø§Ø¡
                }
            }

            showRentModal(property) {
                this.isModalOpen = true;
                this.updateControlButtons();
                const owner = this.players[property.owner];
                const rentAmount = property.rent;
                document.getElementById('rent-message').innerHTML = `ÙŠØ¬Ø¨ Ø¹Ù„Ù‰ <strong>${this.players[this.currentPlayer].name}</strong> Ø¯ÙØ¹ <strong>${rentAmount} Ø¯Ø±Ù‡Ù…</strong> Ù„Ù€ <strong>${owner.name}</strong> Ø¨Ø³Ø¨Ø¨ <strong>${property.name}</strong>.`;
                document.getElementById('rent-modal').style.display = 'flex';
            }

            closeRentModal() {
                document.getElementById('rent-modal').style.display = 'none';
                this.isModalOpen = false;
                this.updateControlButtons();
            }

            payRent() {
                const currentPlayer = this.players[this.currentPlayer];
                const property = this.properties[this.currentPropertyId];
                const owner = this.players[property.owner];
                const rentAmount = property.rent;

                if (currentPlayer.money >= rentAmount) {
                    currentPlayer.money -= rentAmount;
                    owner.money += rentAmount;
                    this.addLog(`${currentPlayer.name} Ø¯ÙØ¹ <strong>${rentAmount} Ø¯Ø±Ù‡Ù…</strong> Ù„Ù€ <strong>${owner.name}</strong>.`);
                } else {
                    // Ø§Ù„Ù„Ø§Ø¹Ø¨ Ù…ÙÙ„Ø³
                    this.addLog(`${currentPlayer.name} Ù„ÙŠØ³ Ù„Ø¯ÙŠÙ‡ Ù…Ø§ ÙŠÙƒÙÙŠ Ù…Ù† Ø§Ù„Ø£Ù…ÙˆØ§Ù„ Ù„Ø¯ÙØ¹ Ø§Ù„Ø¥ÙŠØ¬Ø§Ø± Ù„Ù€ ${owner.name}. ${currentPlayer.name} Ù‚Ø¯ Ø£ÙÙ„Ø³!`);
                    this.declareBankrupt(this.currentPlayer);
                }
                this.updateDisplay();
                this.closeRentModal();
            }

            declareBankrupt(bankruptPlayerId) {
                const bankruptPlayer = this.players[bankruptPlayerId];
                const otherPlayerId = bankruptPlayerId === 1 ? 2 : 1;
                const otherPlayer = this.players[otherPlayerId];

                this.addLog(`<strong>${bankruptPlayer.name} Ø£ÙÙ„Ø³!</strong>`);

                // Ù†Ù‚Ù„ Ù…Ù„ÙƒÙŠØ© Ø§Ù„Ù…ÙˆØ§Ù‚Ø¹
                bankruptPlayer.properties.forEach(propId => {
                    const prop = this.properties[propId];
                    if (prop) {
                        prop.owner = otherPlayerId;
                        otherPlayer.properties.push(propId);
                        this.addLog(`Ø§Ù†ØªÙ‚Ù„Øª Ù…Ù„ÙƒÙŠØ© <strong>${prop.name}</strong> Ø¥Ù„Ù‰ <strong>${otherPlayer.name}</strong>.`);
                    }
                });
                bankruptPlayer.properties = []; // Ø¥ÙØ±Ø§Øº Ù‚Ø§Ø¦Ù…Ø© Ù…Ù…ØªÙ„ÙƒØ§Øª Ø§Ù„Ù„Ø§Ø¹Ø¨ Ø§Ù„Ù…ÙÙ„Ø³

                this.updateDisplay();
                this.showGameOverModal(otherPlayer); // Ø¥Ø¸Ù‡Ø§Ø± Ø´Ø§Ø´Ø© Ù†Ù‡Ø§ÙŠØ© Ø§Ù„Ù„Ø¹Ø¨Ø© Ù„Ù„ÙØ§Ø¦Ø²
            }

            showGameOverModal(winner) {
                document.getElementById('winner-message').innerHTML = `Ø§Ù„ÙØ§Ø¦Ø² Ù‡Ùˆ <strong>${winner.name}</strong>! Ù…Ø¨Ø±ÙˆÙƒ ğŸ‰`;
                document.getElementById('game-over-modal').style.display = 'flex';
                this.isModalOpen = true;
                this.updateControlButtons();
                this.triggerConfetti();
            }

            triggerConfetti() {
                const count = 100;
                const colors = ['#f00', '#0f0', '#00f', '#ff0', '#0ff', '#f0f'];
                for (let i = 0; i < count; i++) {
                    const confetti = document.createElement('div');
                    confetti.classList.add('confetti');
                    confetti.style.left = `${Math.random() * 100}vw`;
                    confetti.style.top = `${-Math.random() * 50}px`;
                    confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
                    confetti.style.transform = `rotate(${Math.random() * 360}deg)`;
                    confetti.style.animationDelay = `${Math.random() * 0.5}s`;
                    document.body.appendChild(confetti);

                    // Remove confetti after animation
                    confetti.addEventListener('animationend', () => {
                        confetti.remove();
                    });
                }
            }


            endTurn() {
                if (!this.diceRolled) {
                    this.addLog("ÙŠØ¬Ø¨ Ø±Ù…ÙŠ Ø§Ù„Ù†Ø±Ø¯ Ø£ÙˆÙ„Ø§Ù‹!");
                    return;
                }
                if (this.isModalOpen) {
                    this.addLog("Ø£ÙƒÙ…Ù„ Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡ Ø§Ù„Ù…Ø·Ù„ÙˆØ¨ ÙÙŠ Ø§Ù„Ù†Ø§ÙØ°Ø© Ø§Ù„Ù…Ù†Ø¨Ø«Ù‚Ø© Ø£ÙˆÙ„Ø§Ù‹.");
                    return;
                }

                this.diceRolled = false;
                this.switchPlayer();
                this.updateControlButtons();
                this.addLog(`<strong>${this.players[this.currentPlayer].name}</strong>ØŒ Ø¯ÙˆØ±Ùƒ Ù„Ø±Ù…ÙŠ Ø§Ù„Ù†Ø±Ø¯.`);
            }

            switchPlayer() {
                this.currentPlayer = this.currentPlayer === 1 ? 2 : 1;
                this.updateDisplay();
            }

            resetGame() {
                this.currentPlayer = 1;
                this.players = {
                    1: { name: "ğŸ‘¦ Ø§Ù„Ù„Ø§Ø¹Ø¨ Ø§Ù„Ø£ÙˆÙ„", money: 1500, position: 0, properties: [], inJail: false, jailTurns: 0 },
                    2: { name: "ğŸ‘§ Ø§Ù„Ù„Ø§Ø¹Ø¨ Ø§Ù„Ø«Ø§Ù†ÙŠ", money: 1500, position: 0, properties: [], inJail: false, jailTurns: 0 }
                };
                this.properties = this.initializeProperties(); // Ø¥Ø¹Ø§Ø¯Ø© ØªÙ‡ÙŠØ¦Ø© Ø§Ù„Ù…ÙˆØ§Ù‚Ø¹ Ù„Ø¥Ø²Ø§Ù„Ø© Ø§Ù„Ù…Ù„ÙƒÙŠØ©
                this.gameLog.innerHTML = ''; // Ù…Ø³Ø­ Ø§Ù„Ø³Ø¬Ù„
                this.diceRolled = false;
                this.isModalOpen = false;
                document.getElementById('game-over-modal').style.display = 'none'; // Ø¥Ø®ÙØ§Ø¡ Ù…ÙˆØ¯Ø§Ù„ Ù†Ù‡Ø§ÙŠØ© Ø§Ù„Ù„Ø¹Ø¨Ø©
                this.updateDisplay();
                this.updatePlayerPositions();
                this.updateControlButtons();
                this.addLog(`<strong>Ø¨Ø¯Ø£Øª Ù„Ø¹Ø¨Ø© Ø¬Ø¯ÙŠØ¯Ø©!</strong>`);
                this.addLog(`<strong>${this.players[this.currentPlayer].name}</strong>ØŒ Ø¯ÙˆØ±Ùƒ Ù„Ø±Ù…ÙŠ Ø§Ù„Ù†Ø±Ø¯.`);
            }
        }

        document.addEventListener('DOMContentLoaded', () => {
            new SeerahGame();
        });
    </script>
</body>
</html>